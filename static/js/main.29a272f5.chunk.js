/*! For license information please see main.29a272f5.chunk.js.LICENSE.txt */
(this["webpackJsonp@quantumblack/kedro-viz"]=this["webpackJsonp@quantumblack/kedro-viz"]||[]).push([[0],{210:function(e,t,n){e.exports=n.p+"static/media/brodyquest.6259cc84.mp3"},211:function(e,t,n){e.exports=n.p+"static/media/easter-egg.e702bd5f.png"},214:function(e,t,n){e.exports=n(488)},384:function(e,t,n){var r=n(385),o=["graphNew","graphDagre"];e.exports=function(){var e=new Worker(URL.createObjectURL(new Blob(['/*! For license information please see a48df5ce533b9ddf6f78.worker.js.LICENSE.txt */\n!function(t){var e={};function n(r){if(e[r])return e[r].exports;var o=e[r]={i:r,l:!1,exports:{}};return t[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=e,n.d=function(t,e,r){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)n.d(r,o,function(e){return t[e]}.bind(null,o));return r},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="./",n(n.s=290)}([function(t,e,n){var r;try{r={cloneDeep:n(230),constant:n(53),defaults:n(231),each:n(80),filter:n(83),find:n(232),flatten:n(110),forEach:n(81),forIn:n(237),has:n(94),isUndefined:n(95),last:n(238),map:n(96),mapValues:n(239),max:n(240),merge:n(242),min:n(248),minBy:n(249),now:n(250),pick:n(251),range:n(256),reduce:n(98),sortBy:n(259),uniqueId:n(264),values:n(103),zipObject:n(265)}}catch(o){}r||(r=window._),t.exports=r},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph;function i(t,e,n,o){var i;do{i=r.uniqueId(o)}while(t.hasNode(i));return n.dummy=e,t.setNode(i,n),i}function a(t){return r.max(r.map(t.nodes(),(function(e){var n=t.node(e).rank;if(!r.isUndefined(n))return n})))}t.exports={addDummyNode:i,simplify:function(t){var e=(new o).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){var r=e.edge(n.v,n.w)||{weight:0,minlen:1},o=t.edge(n);e.setEdge(n.v,n.w,{weight:r.weight+o.weight,minlen:Math.max(r.minlen,o.minlen)})})),e},asNonCompoundGraph:function(t){var e=new o({multigraph:t.isMultigraph()}).setGraph(t.graph());return r.forEach(t.nodes(),(function(n){t.children(n).length||e.setNode(n,t.node(n))})),r.forEach(t.edges(),(function(n){e.setEdge(n,t.edge(n))})),e},successorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.outEdges(e),(function(e){n[e.w]=(n[e.w]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},predecessorWeights:function(t){var e=r.map(t.nodes(),(function(e){var n={};return r.forEach(t.inEdges(e),(function(e){n[e.v]=(n[e.v]||0)+t.edge(e).weight})),n}));return r.zipObject(t.nodes(),e)},intersectRect:function(t,e){var n,r,o=t.x,i=t.y,a=e.x-o,u=e.y-i,s=t.width/2,c=t.height/2;if(!a&&!u)throw new Error("Not possible to find intersection inside of the rectangle");Math.abs(u)*s>Math.abs(a)*c?(u<0&&(c=-c),n=c*a/u,r=c):(a<0&&(s=-s),n=s,r=s*u/a);return{x:o+n,y:i+r}},buildLayerMatrix:function(t){var e=r.map(r.range(a(t)+1),(function(){return[]}));return r.forEach(t.nodes(),(function(n){var o=t.node(n),i=o.rank;r.isUndefined(i)||(e[i][o.order]=n)})),e},normalizeRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank})));r.forEach(t.nodes(),(function(n){var o=t.node(n);r.has(o,"rank")&&(o.rank-=e)}))},removeEmptyRanks:function(t){var e=r.min(r.map(t.nodes(),(function(e){return t.node(e).rank}))),n=[];r.forEach(t.nodes(),(function(r){var o=t.node(r).rank-e;n[o]||(n[o]=[]),n[o].push(r)}));var o=0,i=t.graph().nodeRankFactor;r.forEach(n,(function(e,n){r.isUndefined(e)&&n%i!==0?--o:o&&r.forEach(e,(function(e){t.node(e).rank+=o}))}))},addBorderNode:function(t,e,n,r){var o={width:0,height:0};arguments.length>=4&&(o.rank=n,o.order=r);return i(t,"border",o,e)},maxRank:a,partition:function(t,e){var n={lhs:[],rhs:[]};return r.forEach(t,(function(t){e(t)?n.lhs.push(t):n.rhs.push(t)})),n},time:function(t,e){var n=r.now();try{return e()}finally{console.log(t+" time: "+(r.now()-n)+"ms")}},notime:function(t,e){return e()}}},function(t,e,n){var r;try{r={clone:n(117),constant:n(53),each:n(80),filter:n(83),has:n(94),isArray:n(1),isEmpty:n(194),isFunction:n(20),isUndefined:n(95),keys:n(10),map:n(96),reduce:n(98),size:n(197),transform:n(203),union:n(204),values:n(103)}}catch(o){}r||(r=window._),t.exports=r},function(t,e){t.exports=function(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}},function(t,e,n){var r;try{r=n(115)}catch(o){}r||(r=window.graphlib),t.exports=r},function(t,e,n){var r=n(63),o="object"==typeof self&&self&&self.Object===Object&&self,i=r||o||Function("return this")();t.exports=i},function(t,e){t.exports=function(t){return null!=t&&"object"==typeof t}},function(t,e,n){var r=n(20),o=n(47);t.exports=function(t){return null!=t&&o(t.length)&&!r(t)}},function(t,e,n){var r=n(174),o=n(184),i=n(13),a=n(1),u=n(191);t.exports=function(t){return"function"==typeof t?t:null==t?i:"object"==typeof t?a(t)?o(t[0],t[1]):r(t):u(t)}},function(t,e,n){var r=n(66),o=n(49),i=n(8);t.exports=function(t){return i(t)?r(t):o(t)}},function(t,e,n){var r=n(128),o=n(134);t.exports=function(t,e){var n=o(t,e);return r(n)?n:void 0}},function(t,e,n){var r=n(15),o=n(130),i=n(131),a=r?r.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":a&&a in Object(t)?o(t):i(t)}},function(t,e){t.exports=function(t){return t}},function(t,e){t.exports=function(t,e){return t===e||t!==t&&e!==e}},function(t,e,n){var r=n(6).Symbol;t.exports=r},function(t,e,n){(function(t){var r=n(6),o=n(150),i=e&&!e.nodeType&&e,a=i&&"object"==typeof t&&t&&!t.nodeType&&t,u=a&&a.exports===i?r.Buffer:void 0,s=(u?u.isBuffer:void 0)||o;t.exports=s}).call(this,n(46)(t))},function(t,e,n){var r=n(66),o=n(154),i=n(8);t.exports=function(t){return i(t)?r(t,!0):o(t)}},function(t,e,n){var r=n(159),o=n(43),i=n(160),a=n(75),u=n(161),s=n(12),c=n(64),f=c(r),d=c(o),h=c(i),p=c(a),l=c(u),v=s;(r&&"[object DataView]"!=v(new r(new ArrayBuffer(1)))||o&&"[object Map]"!=v(new o)||i&&"[object Promise]"!=v(i.resolve())||a&&"[object Set]"!=v(new a)||u&&"[object WeakMap]"!=v(new u))&&(v=function(t){var e=s(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case l:return"[object WeakMap]"}return e}),t.exports=v},function(t,e,n){var r=n(12),o=n(7);t.exports=function(t){return"symbol"==typeof t||o(t)&&"[object Symbol]"==r(t)}},function(t,e,n){var r=n(12),o=n(4);t.exports=function(t){if(!o(t))return!1;var e=r(t);return"[object Function]"==e||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}},function(t,e,n){var r=n(30),o=n(31);t.exports=function(t,e,n,i){var a=!n;n||(n={});for(var u=-1,s=e.length;++u<s;){var c=e[u],f=i?i(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):r(n,c,f)}return n}},function(t,e,n){var r=n(149),o=n(7),i=Object.prototype,a=i.hasOwnProperty,u=i.propertyIsEnumerable,s=r(function(){return arguments}())?r:function(t){return o(t)&&a.call(t,"callee")&&!u.call(t,"callee")};t.exports=s},function(t,e,n){var r=n(151),o=n(33),i=n(48),a=i&&i.isTypedArray,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(19);t.exports=function(t){if("string"==typeof t||r(t))return t;var e=t+"";return"0"==e&&1/t==-1/0?"-0":e}},function(t,e,n){var r=n(26),o=n(123),i=n(124),a=n(125),u=n(126),s=n(127);function c(t){var e=this.__data__=new r(t);this.size=e.size}c.prototype.clear=o,c.prototype.delete=i,c.prototype.get=a,c.prototype.has=u,c.prototype.set=s,t.exports=c},function(t,e,n){var r=n(118),o=n(119),i=n(120),a=n(121),u=n(122);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(14);t.exports=function(t,e){for(var n=t.length;n--;)if(r(t[n][0],e))return n;return-1}},function(t,e,n){var r=n(11)(Object,"create");t.exports=r},function(t,e,n){var r=n(143);t.exports=function(t,e){var n=t.__data__;return r(e)?n["string"==typeof e?"string":"hash"]:n.map}},function(t,e,n){var r=n(31),o=n(14),i=Object.prototype.hasOwnProperty;t.exports=function(t,e,n){var a=t[e];i.call(t,e)&&o(a,n)&&(void 0!==n||e in t)||r(t,e,n)}},function(t,e,n){var r=n(65);t.exports=function(t,e,n){"__proto__"==e&&r?r(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}},function(t,e){var n=/^(?:0|[1-9]\\d*)$/;t.exports=function(t,e){var r=typeof t;return!!(e=null==e?9007199254740991:e)&&("number"==r||"symbol"!=r&&n.test(t))&&t>-1&&t%1==0&&t<e}},function(t,e){t.exports=function(t){return function(e){return t(e)}}},function(t,e){var n=Object.prototype;t.exports=function(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||n)}},function(t,e,n){var r=n(67)(Object.getPrototypeOf,Object);t.exports=r},function(t,e,n){var r=n(54),o=n(172)(r);t.exports=o},function(t,e,n){var r=n(1),o=n(58),i=n(186),a=n(90);t.exports=function(t,e){return r(t)?t:o(t,e)?[t]:i(a(t))}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=Array(r);++n<r;)o[n]=e(t[n],n,t);return o}},function(t,e,n){var r=n(13),o=n(99),i=n(100);t.exports=function(t,e){return i(o(t,e,r),t+"")}},function(t,e,n){var r=n(14),o=n(8),i=n(32),a=n(4);t.exports=function(t,e,n){if(!a(n))return!1;var u=typeof e;return!!("number"==u?o(n)&&i(e,n.length):"string"==u&&e in n)&&r(n[e],t)}},function(t,e,n){"use strict";var r=n(0);t.exports={longestPath:function(t){var e={};r.forEach(t.sources(),(function n(o){var i=t.node(o);if(r.has(e,o))return i.rank;e[o]=!0;var a=r.min(r.map(t.outEdges(o),(function(e){return n(e.w)-t.edge(e).minlen})));return a!==Number.POSITIVE_INFINITY&&void 0!==a&&null!==a||(a=0),i.rank=a}))},slack:function(t,e){return t.node(e.w).rank-t.node(e.v).rank-t.edge(e).minlen}}},function(t,e,n){"use strict";var r=n(3);t.exports=o;function o(t){this._isDirected=!r.has(t,"directed")||t.directed,this._isMultigraph=!!r.has(t,"multigraph")&&t.multigraph,this._isCompound=!!r.has(t,"compound")&&t.compound,this._label=void 0,this._defaultNodeLabelFn=r.constant(void 0),this._defaultEdgeLabelFn=r.constant(void 0),this._nodes={},this._isCompound&&(this._parent={},this._children={},this._children["\\0"]={}),this._in={},this._preds={},this._out={},this._sucs={},this._edgeObjs={},this._edgeLabels={}}function i(t,e){t[e]?t[e]++:t[e]=1}function a(t,e){--t[e]||delete t[e]}function u(t,e,n,o){var i=""+e,a=""+n;if(!t&&i>a){var u=i;i=a,a=u}return i+"\\x01"+a+"\\x01"+(r.isUndefined(o)?"\\0":o)}function s(t,e,n,r){var o=""+e,i=""+n;if(!t&&o>i){var a=o;o=i,i=a}var u={v:o,w:i};return r&&(u.name=r),u}function c(t,e){return u(t,e.v,e.w,e.name)}o.prototype._nodeCount=0,o.prototype._edgeCount=0,o.prototype.isDirected=function(){return this._isDirected},o.prototype.isMultigraph=function(){return this._isMultigraph},o.prototype.isCompound=function(){return this._isCompound},o.prototype.setGraph=function(t){return this._label=t,this},o.prototype.graph=function(){return this._label},o.prototype.setDefaultNodeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultNodeLabelFn=t,this},o.prototype.nodeCount=function(){return this._nodeCount},o.prototype.nodes=function(){return r.keys(this._nodes)},o.prototype.sources=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._in[e])}))},o.prototype.sinks=function(){var t=this;return r.filter(this.nodes(),(function(e){return r.isEmpty(t._out[e])}))},o.prototype.setNodes=function(t,e){var n=arguments,o=this;return r.each(t,(function(t){n.length>1?o.setNode(t,e):o.setNode(t)})),this},o.prototype.setNode=function(t,e){return r.has(this._nodes,t)?(arguments.length>1&&(this._nodes[t]=e),this):(this._nodes[t]=arguments.length>1?e:this._defaultNodeLabelFn(t),this._isCompound&&(this._parent[t]="\\0",this._children[t]={},this._children["\\0"][t]=!0),this._in[t]={},this._preds[t]={},this._out[t]={},this._sucs[t]={},++this._nodeCount,this)},o.prototype.node=function(t){return this._nodes[t]},o.prototype.hasNode=function(t){return r.has(this._nodes,t)},o.prototype.removeNode=function(t){var e=this;if(r.has(this._nodes,t)){var n=function(t){e.removeEdge(e._edgeObjs[t])};delete this._nodes[t],this._isCompound&&(this._removeFromParentsChildList(t),delete this._parent[t],r.each(this.children(t),(function(t){e.setParent(t)})),delete this._children[t]),r.each(r.keys(this._in[t]),n),delete this._in[t],delete this._preds[t],r.each(r.keys(this._out[t]),n),delete this._out[t],delete this._sucs[t],--this._nodeCount}return this},o.prototype.setParent=function(t,e){if(!this._isCompound)throw new Error("Cannot set parent in a non-compound graph");if(r.isUndefined(e))e="\\0";else{for(var n=e+="";!r.isUndefined(n);n=this.parent(n))if(n===t)throw new Error("Setting "+e+" as parent of "+t+" would create a cycle");this.setNode(e)}return this.setNode(t),this._removeFromParentsChildList(t),this._parent[t]=e,this._children[e][t]=!0,this},o.prototype._removeFromParentsChildList=function(t){delete this._children[this._parent[t]][t]},o.prototype.parent=function(t){if(this._isCompound){var e=this._parent[t];if("\\0"!==e)return e}},o.prototype.children=function(t){if(r.isUndefined(t)&&(t="\\0"),this._isCompound){var e=this._children[t];if(e)return r.keys(e)}else{if("\\0"===t)return this.nodes();if(this.hasNode(t))return[]}},o.prototype.predecessors=function(t){var e=this._preds[t];if(e)return r.keys(e)},o.prototype.successors=function(t){var e=this._sucs[t];if(e)return r.keys(e)},o.prototype.neighbors=function(t){var e=this.predecessors(t);if(e)return r.union(e,this.successors(t))},o.prototype.isLeaf=function(t){return 0===(this.isDirected()?this.successors(t):this.neighbors(t)).length},o.prototype.filterNodes=function(t){var e=new this.constructor({directed:this._isDirected,multigraph:this._isMultigraph,compound:this._isCompound});e.setGraph(this.graph());var n=this;r.each(this._nodes,(function(n,r){t(r)&&e.setNode(r,n)})),r.each(this._edgeObjs,(function(t){e.hasNode(t.v)&&e.hasNode(t.w)&&e.setEdge(t,n.edge(t))}));var o={};return this._isCompound&&r.each(e.nodes(),(function(t){e.setParent(t,function t(r){var i=n.parent(r);return void 0===i||e.hasNode(i)?(o[r]=i,i):i in o?o[i]:t(i)}(t))})),e},o.prototype.setDefaultEdgeLabel=function(t){return r.isFunction(t)||(t=r.constant(t)),this._defaultEdgeLabelFn=t,this},o.prototype.edgeCount=function(){return this._edgeCount},o.prototype.edges=function(){return r.values(this._edgeObjs)},o.prototype.setPath=function(t,e){var n=this,o=arguments;return r.reduce(t,(function(t,r){return o.length>1?n.setEdge(t,r,e):n.setEdge(t,r),r})),this},o.prototype.setEdge=function(){var t,e,n,o,a=!1,c=arguments[0];"object"===typeof c&&null!==c&&"v"in c?(t=c.v,e=c.w,n=c.name,2===arguments.length&&(o=arguments[1],a=!0)):(t=c,e=arguments[1],n=arguments[3],arguments.length>2&&(o=arguments[2],a=!0)),t=""+t,e=""+e,r.isUndefined(n)||(n=""+n);var f=u(this._isDirected,t,e,n);if(r.has(this._edgeLabels,f))return a&&(this._edgeLabels[f]=o),this;if(!r.isUndefined(n)&&!this._isMultigraph)throw new Error("Cannot set a named edge when isMultigraph = false");this.setNode(t),this.setNode(e),this._edgeLabels[f]=a?o:this._defaultEdgeLabelFn(t,e,n);var d=s(this._isDirected,t,e,n);return t=d.v,e=d.w,Object.freeze(d),this._edgeObjs[f]=d,i(this._preds[e],t),i(this._sucs[t],e),this._in[e][f]=d,this._out[t][f]=d,this._edgeCount++,this},o.prototype.edge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return this._edgeLabels[r]},o.prototype.hasEdge=function(t,e,n){var o=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,n);return r.has(this._edgeLabels,o)},o.prototype.removeEdge=function(t,e,n){var r=1===arguments.length?c(this._isDirected,arguments[0]):u(this._isDirected,t,e,n),o=this._edgeObjs[r];return o&&(t=o.v,e=o.w,delete this._edgeLabels[r],delete this._edgeObjs[r],a(this._preds[e],t),a(this._sucs[t],e),delete this._in[e][r],delete this._out[t][r],this._edgeCount--),this},o.prototype.inEdges=function(t,e){var n=this._in[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.v===e})):o}},o.prototype.outEdges=function(t,e){var n=this._out[t];if(n){var o=r.values(n);return e?r.filter(o,(function(t){return t.w===e})):o}},o.prototype.nodeEdges=function(t,e){var n=this.inEdges(t,e);if(n)return n.concat(this.outEdges(t,e))}},function(t,e,n){var r=n(11)(n(6),"Map");t.exports=r},function(t,e,n){var r=n(135),o=n(142),i=n(144),a=n(145),u=n(146);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){t.exports=function(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=9007199254740991}},function(t,e,n){(function(t){var r=n(63),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o&&r.process,u=function(){try{var t=i&&i.require&&i.require("util").types;return t||a&&a.binding&&a.binding("util")}catch(e){}}();t.exports=u}).call(this,n(46)(t))},function(t,e,n){var r=n(34),o=n(152),i=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return o(t);var e=[];for(var n in Object(t))i.call(t,n)&&"constructor"!=n&&e.push(n);return e}},function(t,e,n){var r=n(70),o=n(71),i=Object.prototype.propertyIsEnumerable,a=Object.getOwnPropertySymbols,u=a?function(t){return null==t?[]:(t=Object(t),r(a(t),(function(e){return i.call(t,e)})))}:o;t.exports=u},function(t,e){t.exports=function(t,e){for(var n=-1,r=e.length,o=t.length;++n<r;)t[o+n]=e[n];return t}},function(t,e,n){var r=n(76);t.exports=function(t){var e=new t.constructor(t.byteLength);return new r(e).set(new r(t)),e}},function(t,e){t.exports=function(t){return function(){return t}}},function(t,e,n){var r=n(55),o=n(10);t.exports=function(t,e){return t&&r(t,e,o)}},function(t,e,n){var r=n(171)();t.exports=r},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t){n[++e]=t})),n}},function(t,e,n){var r=n(37),o=n(24);t.exports=function(t,e){for(var n=0,i=(e=r(e,t)).length;null!=t&&n<i;)t=t[o(e[n++])];return n&&n==i?t:void 0}},function(t,e,n){var r=n(1),o=n(19),i=/\\.|\\[(?:[^[\\]]*|(["\'])(?:(?!\\1)[^\\\\]|\\\\.)*?\\1)\\]/,a=/^\\w*$/;t.exports=function(t,e){if(r(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(a.test(t)||!i.test(t)||null!=e&&t in Object(e))}},function(t,e,n){var r=n(51),o=n(205);t.exports=function t(e,n,i,a,u){var s=-1,c=e.length;for(i||(i=o),u||(u=[]);++s<c;){var f=e[s];n>0&&i(f)?n>1?t(f,n-1,i,a,u):r(u,f):a||(u[u.length]=f)}return u}},function(t,e,n){var r=n(19);t.exports=function(t,e,n){for(var o=-1,i=t.length;++o<i;){var a=t[o],u=e(a);if(null!=u&&(void 0===s?u===u&&!r(u):n(u,s)))var s=u,c=a}return c}},function(t,e,n){t.exports={graphlib:n(5),layout:n(229),debug:n(288),util:{time:n(2).time,notime:n(2).notime},version:n(289)}},function(t,e,n){var r=n(25),o=n(45),i=n(30),a=n(147),u=n(153),s=n(68),c=n(69),f=n(156),d=n(157),h=n(73),p=n(158),l=n(18),v=n(162),y=n(163),g=n(78),b=n(1),m=n(16),x=n(167),_=n(4),w=n(169),E=n(10),j={};j["[object Arguments]"]=j["[object Array]"]=j["[object ArrayBuffer]"]=j["[object DataView]"]=j["[object Boolean]"]=j["[object Date]"]=j["[object Float32Array]"]=j["[object Float64Array]"]=j["[object Int8Array]"]=j["[object Int16Array]"]=j["[object Int32Array]"]=j["[object Map]"]=j["[object Number]"]=j["[object Object]"]=j["[object RegExp]"]=j["[object Set]"]=j["[object String]"]=j["[object Symbol]"]=j["[object Uint8Array]"]=j["[object Uint8ClampedArray]"]=j["[object Uint16Array]"]=j["[object Uint32Array]"]=!0,j["[object Error]"]=j["[object Function]"]=j["[object WeakMap]"]=!1,t.exports=function t(e,n,k,N,M,S){var O,A=1&n,I=2&n,C=4&n;if(k&&(O=M?k(e,N,M,S):k(e)),void 0!==O)return O;if(!_(e))return e;var P=b(e);if(P){if(O=v(e),!A)return c(e,O)}else{var z=l(e),L="[object Function]"==z||"[object GeneratorFunction]"==z;if(m(e))return s(e,A);if("[object Object]"==z||"[object Arguments]"==z||L&&!M){if(O=I||L?{}:g(e),!A)return I?d(e,u(O,e)):f(e,a(O,e))}else{if(!j[z])return M?e:{};O=y(e,z,A)}}S||(S=new r);var F=S.get(e);if(F)return F;S.set(e,O),w(e)?e.forEach((function(r){O.add(t(r,n,k,r,e,S))})):x(e)&&e.forEach((function(r,o){O.set(o,t(r,n,k,o,e,S))}));var R=C?I?p:h:I?keysIn:E,D=P?void 0:R(e);return o(D||e,(function(r,o){D&&(r=e[o=r]),i(O,o,t(r,n,k,o,e,S))})),O}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(this,n(129))},function(t,e){var n=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return n.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e,n){var r=n(11),o=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(e){}}();t.exports=o},function(t,e,n){var r=n(148),o=n(22),i=n(1),a=n(16),u=n(32),s=n(23),c=Object.prototype.hasOwnProperty;t.exports=function(t,e){var n=i(t),f=!n&&o(t),d=!n&&!f&&a(t),h=!n&&!f&&!d&&s(t),p=n||f||d||h,l=p?r(t.length,String):[],v=l.length;for(var y in t)!e&&!c.call(t,y)||p&&("length"==y||d&&("offset"==y||"parent"==y)||h&&("buffer"==y||"byteLength"==y||"byteOffset"==y)||u(y,v))||l.push(y);return l}},function(t,e){t.exports=function(t,e){return function(n){return t(e(n))}}},function(t,e,n){(function(t){var r=n(6),o=e&&!e.nodeType&&e,i=o&&"object"==typeof t&&t&&!t.nodeType&&t,a=i&&i.exports===o?r.Buffer:void 0,u=a?a.allocUnsafe:void 0;t.exports=function(t,e){if(e)return t.slice();var n=t.length,r=u?u(n):new t.constructor(n);return t.copy(r),r}}).call(this,n(46)(t))},function(t,e){t.exports=function(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length,o=0,i=[];++n<r;){var a=t[n];e(a,n,t)&&(i[o++]=a)}return i}},function(t,e){t.exports=function(){return[]}},function(t,e,n){var r=n(51),o=n(35),i=n(50),a=n(71),u=Object.getOwnPropertySymbols?function(t){for(var e=[];t;)r(e,i(t)),t=o(t);return e}:a;t.exports=u},function(t,e,n){var r=n(74),o=n(50),i=n(10);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(51),o=n(1);t.exports=function(t,e,n){var i=e(t);return o(t)?i:r(i,n(t))}},function(t,e,n){var r=n(11)(n(6),"Set");t.exports=r},function(t,e,n){var r=n(6).Uint8Array;t.exports=r},function(t,e,n){var r=n(52);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}},function(t,e,n){var r=n(79),o=n(35),i=n(34);t.exports=function(t){return"function"!=typeof t.constructor||i(t)?{}:r(o(t))}},function(t,e,n){var r=n(4),o=Object.create,i=function(){function t(){}return function(e){if(!r(e))return{};if(o)return o(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=i},function(t,e,n){t.exports=n(81)},function(t,e,n){var r=n(45),o=n(36),i=n(82),a=n(1);t.exports=function(t,e){return(a(t)?r:o)(t,i(e))}},function(t,e,n){var r=n(13);t.exports=function(t){return"function"==typeof t?t:r}},function(t,e,n){var r=n(70),o=n(173),i=n(9),a=n(1);t.exports=function(t,e){return(a(t)?r:o)(t,i(e,3))}},function(t,e,n){var r=n(176),o=n(7);t.exports=function t(e,n,i,a,u){return e===n||(null==e||null==n||!o(e)&&!o(n)?e!==e&&n!==n:r(e,n,i,a,t,u))}},function(t,e,n){var r=n(86),o=n(179),i=n(87);t.exports=function(t,e,n,a,u,s){var c=1&n,f=t.length,d=e.length;if(f!=d&&!(c&&d>f))return!1;var h=s.get(t);if(h&&s.get(e))return h==e;var p=-1,l=!0,v=2&n?new r:void 0;for(s.set(t,e),s.set(e,t);++p<f;){var y=t[p],g=e[p];if(a)var b=c?a(g,y,p,e,t,s):a(y,g,p,t,e,s);if(void 0!==b){if(b)continue;l=!1;break}if(v){if(!o(e,(function(t,e){if(!i(v,e)&&(y===t||u(y,t,n,a,s)))return v.push(e)}))){l=!1;break}}else if(y!==g&&!u(y,g,n,a,s)){l=!1;break}}return s.delete(t),s.delete(e),l}},function(t,e,n){var r=n(44),o=n(177),i=n(178);function a(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new r;++e<n;)this.add(t[e])}a.prototype.add=a.prototype.push=o,a.prototype.has=i,t.exports=a},function(t,e){t.exports=function(t,e){return t.has(e)}},function(t,e,n){var r=n(4);t.exports=function(t){return t===t&&!r(t)}},function(t,e){t.exports=function(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}},function(t,e,n){var r=n(189);t.exports=function(t){return null==t?"":r(t)}},function(t,e,n){var r=n(190),o=n(92);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e,n){var r=n(37),o=n(22),i=n(1),a=n(32),u=n(47),s=n(24);t.exports=function(t,e,n){for(var c=-1,f=(e=r(e,t)).length,d=!1;++c<f;){var h=s(e[c]);if(!(d=null!=t&&n(t,h)))break;t=t[h]}return d||++c!=f?d:!!(f=null==t?0:t.length)&&u(f)&&a(h,f)&&(i(t)||o(t))}},function(t,e){t.exports=function(t){return function(e){return null==e?void 0:e[t]}}},function(t,e,n){var r=n(193),o=n(92);t.exports=function(t,e){return null!=t&&o(t,e,r)}},function(t,e){t.exports=function(t){return void 0===t}},function(t,e,n){var r=n(38),o=n(9),i=n(97),a=n(1);t.exports=function(t,e){return(a(t)?r:i)(t,o(e,3))}},function(t,e,n){var r=n(36),o=n(8);t.exports=function(t,e){var n=-1,i=o(t)?Array(t.length):[];return r(t,(function(t,r,o){i[++n]=e(t,r,o)})),i}},function(t,e,n){var r=n(195),o=n(36),i=n(9),a=n(196),u=n(1);t.exports=function(t,e,n){var s=u(t)?r:a,c=arguments.length<3;return s(t,i(e,4),n,c,o)}},function(t,e,n){var r=n(206),o=Math.max;t.exports=function(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var i=arguments,a=-1,u=o(i.length-e,0),s=Array(u);++a<u;)s[a]=i[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=i[a];return c[e]=n(s),r(t,this,c)}}},function(t,e,n){var r=n(207),o=n(208)(r);t.exports=o},function(t,e){t.exports=function(t,e,n,r){for(var o=t.length,i=n+(r?1:-1);r?i--:++i<o;)if(e(t[i],i,t))return i;return-1}},function(t,e,n){var r=n(8),o=n(7);t.exports=function(t){return o(t)&&r(t)}},function(t,e,n){var r=n(217),o=n(10);t.exports=function(t){return null==t?[]:r(t,o(t))}},function(t,e,n){var r=n(3),o=n(105);t.exports=function(t,e,n,r){return function(t,e,n,r){var i,a,u={},s=new o,c=function(t){var e=t.v!==i?t.v:t.w,r=u[e],o=n(t),c=a.distance+o;if(o<0)throw new Error("dijkstra does not allow negative edge weights. Bad edge: "+t+" Weight: "+o);c<r.distance&&(r.distance=c,r.predecessor=i,s.decrease(e,c))};t.nodes().forEach((function(t){var n=t===e?0:Number.POSITIVE_INFINITY;u[t]={distance:n},s.add(t,n)}));for(;s.size()>0&&(i=s.removeMin(),(a=u[i]).distance!==Number.POSITIVE_INFINITY);)r(i).forEach(c);return u}(t,String(e),n||i,r||function(e){return t.outEdges(e)})};var i=r.constant(1)},function(t,e,n){var r=n(3);function o(){this._arr=[],this._keyIndices={}}t.exports=o,o.prototype.size=function(){return this._arr.length},o.prototype.keys=function(){return this._arr.map((function(t){return t.key}))},o.prototype.has=function(t){return r.has(this._keyIndices,t)},o.prototype.priority=function(t){var e=this._keyIndices[t];if(void 0!==e)return this._arr[e].priority},o.prototype.min=function(){if(0===this.size())throw new Error("Queue underflow");return this._arr[0].key},o.prototype.add=function(t,e){var n=this._keyIndices;if(t=String(t),!r.has(n,t)){var o=this._arr,i=o.length;return n[t]=i,o.push({key:t,priority:e}),this._decrease(i),!0}return!1},o.prototype.removeMin=function(){this._swap(0,this._arr.length-1);var t=this._arr.pop();return delete this._keyIndices[t.key],this._heapify(0),t.key},o.prototype.decrease=function(t,e){var n=this._keyIndices[t];if(e>this._arr[n].priority)throw new Error("New priority is greater than current priority. Key: "+t+" Old: "+this._arr[n].priority+" New: "+e);this._arr[n].priority=e,this._decrease(n)},o.prototype._heapify=function(t){var e=this._arr,n=2*t,r=n+1,o=t;n<e.length&&(o=e[n].priority<e[o].priority?n:o,r<e.length&&(o=e[r].priority<e[o].priority?r:o),o!==t&&(this._swap(t,o),this._heapify(o)))},o.prototype._decrease=function(t){for(var e,n=this._arr,r=n[t].priority;0!==t&&!(n[e=t>>1].priority<r);)this._swap(t,e),t=e},o.prototype._swap=function(t,e){var n=this._arr,r=this._keyIndices,o=n[t],i=n[e];n[t]=i,n[e]=o,r[i.key]=t,r[o.key]=e}},function(t,e,n){var r=n(3);t.exports=function(t){var e=0,n=[],o={},i=[];return t.nodes().forEach((function(a){r.has(o,a)||function a(u){var s=o[u]={onStack:!0,lowlink:e,index:e++};if(n.push(u),t.successors(u).forEach((function(t){r.has(o,t)?o[t].onStack&&(s.lowlink=Math.min(s.lowlink,o[t].index)):(a(t),s.lowlink=Math.min(s.lowlink,o[t].lowlink))})),s.lowlink===s.index){var c,f=[];do{c=n.pop(),o[c].onStack=!1,f.push(c)}while(u!==c);i.push(f)}}(a)})),i}},function(t,e,n){var r=n(3);function o(t){var e={},n={},o=[];if(r.each(t.sinks(),(function a(u){if(r.has(n,u))throw new i;r.has(e,u)||(n[u]=!0,e[u]=!0,r.each(t.predecessors(u),a),delete n[u],o.push(u))})),r.size(e)!==t.nodeCount())throw new i;return o}function i(){}t.exports=o,o.CycleException=i,i.prototype=new Error},function(t,e,n){var r=n(3);t.exports=function(t,e,n){r.isArray(e)||(e=[e]);var o=(t.isDirected()?t.successors:t.neighbors).bind(t),i=[],a={};return r.each(e,(function(e){if(!t.hasNode(e))throw new Error("Graph does not have node: "+e);!function t(e,n,o,i,a,u){r.has(i,n)||(i[n]=!0,o||u.push(n),r.each(a(n),(function(n){t(e,n,o,i,a,u)})),o&&u.push(n))}(t,e,"post"===n,a,o,i)})),i}},function(t,e,n){var r=n(236);t.exports=function(t){return t?(t=r(t))===1/0||t===-1/0?17976931348623157e292*(t<0?-1:1):t===t?t:0:0===t?t:0}},function(t,e,n){var r=n(59);t.exports=function(t){return(null==t?0:t.length)?r(t,1):[]}},function(t,e,n){var r=n(31),o=n(14);t.exports=function(t,e,n){(void 0!==n&&!o(t[e],n)||void 0===n&&!(e in t))&&r(t,e,n)}},function(t,e){t.exports=function(t,e){if(("constructor"!==e||"function"!==typeof t[e])&&"__proto__"!=e)return t[e]}},function(t,e){t.exports=function(t,e){return t<e}},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph,i=n(41).slack;function a(t,e){return r.forEach(t.nodes(),(function n(o){r.forEach(e.nodeEdges(o),(function(r){var a=r.v,u=o===a?r.w:a;t.hasNode(u)||i(e,r)||(t.setNode(u,{}),t.setEdge(o,u,{}),n(u))}))})),t.nodeCount()}function u(t,e){return r.minBy(e.edges(),(function(n){if(t.hasNode(n.v)!==t.hasNode(n.w))return i(e,n)}))}function s(t,e,n){r.forEach(t.nodes(),(function(t){e.node(t).rank+=n}))}t.exports=function(t){var e,n,r=new o({directed:!1}),c=t.nodes()[0],f=t.nodeCount();r.setNode(c,{});for(;a(r,t)<f;)e=u(r,t),n=r.hasNode(e.v)?i(t,e):-i(t,e),s(r,t,n);return r}},function(t,e,n){var r=n(116);t.exports={Graph:r.Graph,json:n(219),alg:n(220),version:r.version}},function(t,e,n){t.exports={Graph:n(42),version:n(218)}},function(t,e,n){var r=n(62);t.exports=function(t){return r(t,4)}},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,n){var r=n(27),o=Array.prototype.splice;t.exports=function(t){var e=this.__data__,n=r(e,t);return!(n<0)&&(n==e.length-1?e.pop():o.call(e,n,1),--this.size,!0)}},function(t,e,n){var r=n(27);t.exports=function(t){var e=this.__data__,n=r(e,t);return n<0?void 0:e[n][1]}},function(t,e,n){var r=n(27);t.exports=function(t){return r(this.__data__,t)>-1}},function(t,e,n){var r=n(27);t.exports=function(t,e){var n=this.__data__,o=r(n,t);return o<0?(++this.size,n.push([t,e])):n[o][1]=e,this}},function(t,e,n){var r=n(26);t.exports=function(){this.__data__=new r,this.size=0}},function(t,e){t.exports=function(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}},function(t,e){t.exports=function(t){return this.__data__.get(t)}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e,n){var r=n(26),o=n(43),i=n(44);t.exports=function(t,e){var n=this.__data__;if(n instanceof r){var a=n.__data__;if(!o||a.length<199)return a.push([t,e]),this.size=++n.size,this;n=this.__data__=new i(a)}return n.set(t,e),this.size=n.size,this}},function(t,e,n){var r=n(20),o=n(132),i=n(4),a=n(64),u=/^\\[object .+?Constructor\\]$/,s=Function.prototype,c=Object.prototype,f=s.toString,d=c.hasOwnProperty,h=RegExp("^"+f.call(d).replace(/[\\\\^$.*+?()[\\]{}|]/g,"\\\\$&").replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!i(t)||o(t))&&(r(t)?h:u).test(a(t))}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){var r=n(15),o=Object.prototype,i=o.hasOwnProperty,a=o.toString,u=r?r.toStringTag:void 0;t.exports=function(t){var e=i.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(s){}var o=a.call(t);return r&&(e?t[u]=n:delete t[u]),o}},function(t,e){var n=Object.prototype.toString;t.exports=function(t){return n.call(t)}},function(t,e,n){var r=n(133),o=function(){var t=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!o&&o in t}},function(t,e,n){var r=n(6)["__core-js_shared__"];t.exports=r},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e,n){var r=n(136),o=n(26),i=n(43);t.exports=function(){this.size=0,this.__data__={hash:new r,map:new(i||o),string:new r}}},function(t,e,n){var r=n(137),o=n(138),i=n(139),a=n(140),u=n(141);function s(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}s.prototype.clear=r,s.prototype.delete=o,s.prototype.get=i,s.prototype.has=a,s.prototype.set=u,t.exports=s},function(t,e,n){var r=n(28);t.exports=function(){this.__data__=r?r(null):{},this.size=0}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(r){var n=e[t];return"__lodash_hash_undefined__"===n?void 0:n}return o.call(e,t)?e[t]:void 0}},function(t,e,n){var r=n(28),o=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return r?void 0!==e[t]:o.call(e,t)}},function(t,e,n){var r=n(28);t.exports=function(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=r&&void 0===e?"__lodash_hash_undefined__":e,this}},function(t,e,n){var r=n(29);t.exports=function(t){var e=r(this,t).delete(t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).get(t)}},function(t,e,n){var r=n(29);t.exports=function(t){return r(this,t).has(t)}},function(t,e,n){var r=n(29);t.exports=function(t,e){var n=r(this,t),o=n.size;return n.set(t,e),this.size+=n.size==o?0:1,this}},function(t,e,n){var r=n(21),o=n(10);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}},function(t,e,n){var r=n(12),o=n(7);t.exports=function(t){return o(t)&&"[object Arguments]"==r(t)}},function(t,e){t.exports=function(){return!1}},function(t,e,n){var r=n(12),o=n(47),i=n(7),a={};a["[object Float32Array]"]=a["[object Float64Array]"]=a["[object Int8Array]"]=a["[object Int16Array]"]=a["[object Int32Array]"]=a["[object Uint8Array]"]=a["[object Uint8ClampedArray]"]=a["[object Uint16Array]"]=a["[object Uint32Array]"]=!0,a["[object Arguments]"]=a["[object Array]"]=a["[object ArrayBuffer]"]=a["[object Boolean]"]=a["[object DataView]"]=a["[object Date]"]=a["[object Error]"]=a["[object Function]"]=a["[object Map]"]=a["[object Number]"]=a["[object Object]"]=a["[object RegExp]"]=a["[object Set]"]=a["[object String]"]=a["[object WeakMap]"]=!1,t.exports=function(t){return i(t)&&o(t.length)&&!!a[r(t)]}},function(t,e,n){var r=n(67)(Object.keys,Object);t.exports=r},function(t,e,n){var r=n(21),o=n(17);t.exports=function(t,e){return t&&r(e,o(e),t)}},function(t,e,n){var r=n(4),o=n(34),i=n(155),a=Object.prototype.hasOwnProperty;t.exports=function(t){if(!r(t))return i(t);var e=o(t),n=[];for(var u in t)("constructor"!=u||!e&&a.call(t,u))&&n.push(u);return n}},function(t,e){t.exports=function(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}},function(t,e,n){var r=n(21),o=n(50);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(21),o=n(72);t.exports=function(t,e){return r(t,o(t),e)}},function(t,e,n){var r=n(74),o=n(72),i=n(17);t.exports=function(t){return r(t,i,o)}},function(t,e,n){var r=n(11)(n(6),"DataView");t.exports=r},function(t,e,n){var r=n(11)(n(6),"Promise");t.exports=r},function(t,e,n){var r=n(11)(n(6),"WeakMap");t.exports=r},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t){var e=t.length,r=new t.constructor(e);return e&&"string"==typeof t[0]&&n.call(t,"index")&&(r.index=t.index,r.input=t.input),r}},function(t,e,n){var r=n(52),o=n(164),i=n(165),a=n(166),u=n(77);t.exports=function(t,e,n){var s=t.constructor;switch(e){case"[object ArrayBuffer]":return r(t);case"[object Boolean]":case"[object Date]":return new s(+t);case"[object DataView]":return o(t,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return u(t,n);case"[object Map]":return new s;case"[object Number]":case"[object String]":return new s(t);case"[object RegExp]":return i(t);case"[object Set]":return new s;case"[object Symbol]":return a(t)}}},function(t,e,n){var r=n(52);t.exports=function(t,e){var n=e?r(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}},function(t,e){var n=/\\w*$/;t.exports=function(t){var e=new t.constructor(t.source,n.exec(t));return e.lastIndex=t.lastIndex,e}},function(t,e,n){var r=n(15),o=r?r.prototype:void 0,i=o?o.valueOf:void 0;t.exports=function(t){return i?Object(i.call(t)):{}}},function(t,e,n){var r=n(168),o=n(33),i=n(48),a=i&&i.isMap,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(18),o=n(7);t.exports=function(t){return o(t)&&"[object Map]"==r(t)}},function(t,e,n){var r=n(170),o=n(33),i=n(48),a=i&&i.isSet,u=a?o(a):r;t.exports=u},function(t,e,n){var r=n(18),o=n(7);t.exports=function(t){return o(t)&&"[object Set]"==r(t)}},function(t,e){t.exports=function(t){return function(e,n,r){for(var o=-1,i=Object(e),a=r(e),u=a.length;u--;){var s=a[t?u:++o];if(!1===n(i[s],s,i))break}return e}}},function(t,e,n){var r=n(8);t.exports=function(t,e){return function(n,o){if(null==n)return n;if(!r(n))return t(n,o);for(var i=n.length,a=e?i:-1,u=Object(n);(e?a--:++a<i)&&!1!==o(u[a],a,u););return n}}},function(t,e,n){var r=n(36);t.exports=function(t,e){var n=[];return r(t,(function(t,r,o){e(t,r,o)&&n.push(t)})),n}},function(t,e,n){var r=n(175),o=n(183),i=n(89);t.exports=function(t){var e=o(t);return 1==e.length&&e[0][2]?i(e[0][0],e[0][1]):function(n){return n===t||r(n,t,e)}}},function(t,e,n){var r=n(25),o=n(84);t.exports=function(t,e,n,i){var a=n.length,u=a,s=!i;if(null==t)return!u;for(t=Object(t);a--;){var c=n[a];if(s&&c[2]?c[1]!==t[c[0]]:!(c[0]in t))return!1}for(;++a<u;){var f=(c=n[a])[0],d=t[f],h=c[1];if(s&&c[2]){if(void 0===d&&!(f in t))return!1}else{var p=new r;if(i)var l=i(d,h,f,t,e,p);if(!(void 0===l?o(h,d,3,i,p):l))return!1}}return!0}},function(t,e,n){var r=n(25),o=n(85),i=n(180),a=n(182),u=n(18),s=n(1),c=n(16),f=n(23),d="[object Object]",h=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,p,l,v){var y=s(t),g=s(e),b=y?"[object Array]":u(t),m=g?"[object Array]":u(e),x=(b="[object Arguments]"==b?d:b)==d,_=(m="[object Arguments]"==m?d:m)==d,w=b==m;if(w&&c(t)){if(!c(e))return!1;y=!0,x=!1}if(w&&!x)return v||(v=new r),y||f(t)?o(t,e,n,p,l,v):i(t,e,b,n,p,l,v);if(!(1&n)){var E=x&&h.call(t,"__wrapped__"),j=_&&h.call(e,"__wrapped__");if(E||j){var k=E?t.value():t,N=j?e.value():e;return v||(v=new r),l(k,N,n,p,v)}}return!!w&&(v||(v=new r),a(t,e,n,p,l,v))}},function(t,e){t.exports=function(t){return this.__data__.set(t,"__lodash_hash_undefined__"),this}},function(t,e){t.exports=function(t){return this.__data__.has(t)}},function(t,e){t.exports=function(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}},function(t,e,n){var r=n(15),o=n(76),i=n(14),a=n(85),u=n(181),s=n(56),c=r?r.prototype:void 0,f=c?c.valueOf:void 0;t.exports=function(t,e,n,r,c,d,h){switch(n){case"[object DataView]":if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(t.byteLength!=e.byteLength||!d(new o(t),new o(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return i(+t,+e);case"[object Error]":return t.name==e.name&&t.message==e.message;case"[object RegExp]":case"[object String]":return t==e+"";case"[object Map]":var p=u;case"[object Set]":var l=1&r;if(p||(p=s),t.size!=e.size&&!l)return!1;var v=h.get(t);if(v)return v==e;r|=2,h.set(t,e);var y=a(p(t),p(e),r,c,d,h);return h.delete(t),y;case"[object Symbol]":if(f)return f.call(t)==f.call(e)}return!1}},function(t,e){t.exports=function(t){var e=-1,n=Array(t.size);return t.forEach((function(t,r){n[++e]=[r,t]})),n}},function(t,e,n){var r=n(73),o=Object.prototype.hasOwnProperty;t.exports=function(t,e,n,i,a,u){var s=1&n,c=r(t),f=c.length;if(f!=r(e).length&&!s)return!1;for(var d=f;d--;){var h=c[d];if(!(s?h in e:o.call(e,h)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var l=!0;u.set(t,e),u.set(e,t);for(var v=s;++d<f;){var y=t[h=c[d]],g=e[h];if(i)var b=s?i(g,y,h,e,t,u):i(y,g,h,t,e,u);if(!(void 0===b?y===g||a(y,g,n,i,u):b)){l=!1;break}v||(v="constructor"==h)}if(l&&!v){var m=t.constructor,x=e.constructor;m==x||!("constructor"in t)||!("constructor"in e)||"function"==typeof m&&m instanceof m&&"function"==typeof x&&x instanceof x||(l=!1)}return u.delete(t),u.delete(e),l}},function(t,e,n){var r=n(88),o=n(10);t.exports=function(t){for(var e=o(t),n=e.length;n--;){var i=e[n],a=t[i];e[n]=[i,a,r(a)]}return e}},function(t,e,n){var r=n(84),o=n(185),i=n(91),a=n(58),u=n(88),s=n(89),c=n(24);t.exports=function(t,e){return a(t)&&u(e)?s(c(t),e):function(n){var a=o(n,t);return void 0===a&&a===e?i(n,t):r(e,a,3)}}},function(t,e,n){var r=n(57);t.exports=function(t,e,n){var o=null==t?void 0:r(t,e);return void 0===o?n:o}},function(t,e,n){var r=n(187),o=/[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|(["\'])((?:(?!\\2)[^\\\\]|\\\\.)*?)\\2)\\]|(?=(?:\\.|\\[\\])(?:\\.|\\[\\]|$))/g,i=/\\\\(\\\\)?/g,a=r((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(o,(function(t,n,r,o){e.push(r?o.replace(i,"$1"):n||t)})),e}));t.exports=a},function(t,e,n){var r=n(188);t.exports=function(t){var e=r(t,(function(t){return 500===n.size&&n.clear(),t})),n=e.cache;return e}},function(t,e,n){var r=n(44);function o(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError("Expected a function");var n=function n(){var r=arguments,o=e?e.apply(this,r):r[0],i=n.cache;if(i.has(o))return i.get(o);var a=t.apply(this,r);return n.cache=i.set(o,a)||i,a};return n.cache=new(o.Cache||r),n}o.Cache=r,t.exports=o},function(t,e,n){var r=n(15),o=n(38),i=n(1),a=n(19),u=r?r.prototype:void 0,s=u?u.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(i(e))return o(e,t)+"";if(a(e))return s?s.call(e):"";var n=e+"";return"0"==n&&1/e==-1/0?"-0":n}},function(t,e){t.exports=function(t,e){return null!=t&&e in Object(t)}},function(t,e,n){var r=n(93),o=n(192),i=n(58),a=n(24);t.exports=function(t){return i(t)?r(a(t)):o(t)}},function(t,e,n){var r=n(57);t.exports=function(t){return function(e){return r(e,t)}}},function(t,e){var n=Object.prototype.hasOwnProperty;t.exports=function(t,e){return null!=t&&n.call(t,e)}},function(t,e,n){var r=n(49),o=n(18),i=n(22),a=n(1),u=n(8),s=n(16),c=n(34),f=n(23),d=Object.prototype.hasOwnProperty;t.exports=function(t){if(null==t)return!0;if(u(t)&&(a(t)||"string"==typeof t||"function"==typeof t.splice||s(t)||f(t)||i(t)))return!t.length;var e=o(t);if("[object Map]"==e||"[object Set]"==e)return!t.size;if(c(t))return!r(t).length;for(var n in t)if(d.call(t,n))return!1;return!0}},function(t,e){t.exports=function(t,e,n,r){var o=-1,i=null==t?0:t.length;for(r&&i&&(n=t[++o]);++o<i;)n=e(n,t[o],o,t);return n}},function(t,e){t.exports=function(t,e,n,r,o){return o(t,(function(t,o,i){n=r?(r=!1,t):e(n,t,o,i)})),n}},function(t,e,n){var r=n(49),o=n(18),i=n(8),a=n(198),u=n(199);t.exports=function(t){if(null==t)return 0;if(i(t))return a(t)?u(t):t.length;var e=o(t);return"[object Map]"==e||"[object Set]"==e?t.size:r(t).length}},function(t,e,n){var r=n(12),o=n(1),i=n(7);t.exports=function(t){return"string"==typeof t||!o(t)&&i(t)&&"[object String]"==r(t)}},function(t,e,n){var r=n(200),o=n(201),i=n(202);t.exports=function(t){return o(t)?i(t):r(t)}},function(t,e,n){var r=n(93)("length");t.exports=r},function(t,e){var n=RegExp("[\\\\u200d\\\\ud800-\\\\udfff\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff\\\\ufe0e\\\\ufe0f]");t.exports=function(t){return n.test(t)}},function(t,e){var n="[\\\\ud800-\\\\udfff]",r="[\\\\u0300-\\\\u036f\\\\ufe20-\\\\ufe2f\\\\u20d0-\\\\u20ff]",o="\\\\ud83c[\\\\udffb-\\\\udfff]",i="[^\\\\ud800-\\\\udfff]",a="(?:\\\\ud83c[\\\\udde6-\\\\uddff]){2}",u="[\\\\ud800-\\\\udbff][\\\\udc00-\\\\udfff]",s="(?:"+r+"|"+o+")"+"?",c="[\\\\ufe0e\\\\ufe0f]?"+s+("(?:\\\\u200d(?:"+[i,a,u].join("|")+")[\\\\ufe0e\\\\ufe0f]?"+s+")*"),f="(?:"+[i+r+"?",r,a,u,n].join("|")+")",d=RegExp(o+"(?="+o+")|"+f+c,"g");t.exports=function(t){for(var e=d.lastIndex=0;d.test(t);)++e;return e}},function(t,e,n){var r=n(45),o=n(79),i=n(54),a=n(9),u=n(35),s=n(1),c=n(16),f=n(20),d=n(4),h=n(23);t.exports=function(t,e,n){var p=s(t),l=p||c(t)||h(t);if(e=a(e,4),null==n){var v=t&&t.constructor;n=l?p?new v:[]:d(t)&&f(v)?o(u(t)):{}}return(l?r:i)(t,(function(t,r,o){return e(n,t,r,o)})),n}},function(t,e,n){var r=n(59),o=n(39),i=n(209),a=n(102),u=o((function(t){return i(r(t,1,a,!0))}));t.exports=u},function(t,e,n){var r=n(15),o=n(22),i=n(1),a=r?r.isConcatSpreadable:void 0;t.exports=function(t){return i(t)||o(t)||!!(a&&t&&t[a])}},function(t,e){t.exports=function(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}},function(t,e,n){var r=n(53),o=n(65),i=n(13),a=o?function(t,e){return o(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:i;t.exports=a},function(t,e){var n=Date.now;t.exports=function(t){var e=0,r=0;return function(){var o=n(),i=16-(o-r);if(r=o,i>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}},function(t,e,n){var r=n(86),o=n(210),i=n(214),a=n(87),u=n(215),s=n(56);t.exports=function(t,e,n){var c=-1,f=o,d=t.length,h=!0,p=[],l=p;if(n)h=!1,f=i;else if(d>=200){var v=e?null:u(t);if(v)return s(v);h=!1,f=a,l=new r}else l=e?[]:p;t:for(;++c<d;){var y=t[c],g=e?e(y):y;if(y=n||0!==y?y:0,h&&g===g){for(var b=l.length;b--;)if(l[b]===g)continue t;e&&l.push(g),p.push(y)}else f(l,g,n)||(l!==p&&l.push(g),p.push(y))}return p}},function(t,e,n){var r=n(211);t.exports=function(t,e){return!!(null==t?0:t.length)&&r(t,e,0)>-1}},function(t,e,n){var r=n(101),o=n(212),i=n(213);t.exports=function(t,e,n){return e===e?i(t,e,n):r(t,o,n)}},function(t,e){t.exports=function(t){return t!==t}},function(t,e){t.exports=function(t,e,n){for(var r=n-1,o=t.length;++r<o;)if(t[r]===e)return r;return-1}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=null==t?0:t.length;++r<o;)if(n(e,t[r]))return!0;return!1}},function(t,e,n){var r=n(75),o=n(216),i=n(56),a=r&&1/i(new r([,-0]))[1]==1/0?function(t){return new r(t)}:o;t.exports=a},function(t,e){t.exports=function(){}},function(t,e,n){var r=n(38);t.exports=function(t,e){return r(e,(function(e){return t[e]}))}},function(t,e){t.exports="2.1.8"},function(t,e,n){var r=n(3),o=n(42);function i(t){return r.map(t.nodes(),(function(e){var n=t.node(e),o=t.parent(e),i={v:e};return r.isUndefined(n)||(i.value=n),r.isUndefined(o)||(i.parent=o),i}))}function a(t){return r.map(t.edges(),(function(e){var n=t.edge(e),o={v:e.v,w:e.w};return r.isUndefined(e.name)||(o.name=e.name),r.isUndefined(n)||(o.value=n),o}))}t.exports={write:function(t){var e={options:{directed:t.isDirected(),multigraph:t.isMultigraph(),compound:t.isCompound()},nodes:i(t),edges:a(t)};r.isUndefined(t.graph())||(e.value=r.clone(t.graph()));return e},read:function(t){var e=new o(t.options).setGraph(t.value);return r.each(t.nodes,(function(t){e.setNode(t.v,t.value),t.parent&&e.setParent(t.v,t.parent)})),r.each(t.edges,(function(t){e.setEdge({v:t.v,w:t.w,name:t.name},t.value)})),e}}},function(t,e,n){t.exports={components:n(221),dijkstra:n(104),dijkstraAll:n(222),findCycles:n(223),floydWarshall:n(224),isAcyclic:n(225),postorder:n(226),preorder:n(227),prim:n(228),tarjan:n(106),topsort:n(107)}},function(t,e,n){var r=n(3);t.exports=function(t){var e,n={},o=[];function i(o){r.has(n,o)||(n[o]=!0,e.push(o),r.each(t.successors(o),i),r.each(t.predecessors(o),i))}return r.each(t.nodes(),(function(t){e=[],i(t),e.length&&o.push(e)})),o}},function(t,e,n){var r=n(104),o=n(3);t.exports=function(t,e,n){return o.transform(t.nodes(),(function(o,i){o[i]=r(t,i,e,n)}),{})}},function(t,e,n){var r=n(3),o=n(106);t.exports=function(t){return r.filter(o(t),(function(e){return e.length>1||1===e.length&&t.hasEdge(e[0],e[0])}))}},function(t,e,n){var r=n(3);t.exports=function(t,e,n){return function(t,e,n){var r={},o=t.nodes();return o.forEach((function(t){r[t]={},r[t][t]={distance:0},o.forEach((function(e){t!==e&&(r[t][e]={distance:Number.POSITIVE_INFINITY})})),n(t).forEach((function(n){var o=n.v===t?n.w:n.v,i=e(n);r[t][o]={distance:i,predecessor:t}}))})),o.forEach((function(t){var e=r[t];o.forEach((function(n){var i=r[n];o.forEach((function(n){var r=i[t],o=e[n],a=i[n],u=r.distance+o.distance;u<a.distance&&(a.distance=u,a.predecessor=o.predecessor)}))}))})),r}(t,e||o,n||function(e){return t.outEdges(e)})};var o=r.constant(1)},function(t,e,n){var r=n(107);t.exports=function(t){try{r(t)}catch(e){if(e instanceof r.CycleException)return!1;throw e}return!0}},function(t,e,n){var r=n(108);t.exports=function(t,e){return r(t,e,"post")}},function(t,e,n){var r=n(108);t.exports=function(t,e){return r(t,e,"pre")}},function(t,e,n){var r=n(3),o=n(42),i=n(105);t.exports=function(t,e){var n,a=new o,u={},s=new i;function c(t){var r=t.v===n?t.w:t.v,o=s.priority(r);if(void 0!==o){var i=e(t);i<o&&(u[r]=n,s.decrease(r,i))}}if(0===t.nodeCount())return a;r.each(t.nodes(),(function(t){s.add(t,Number.POSITIVE_INFINITY),a.setNode(t)})),s.decrease(t.nodes()[0],0);var f=!1;for(;s.size()>0;){if(n=s.removeMin(),r.has(u,n))a.setEdge(n,u[n]);else{if(f)throw new Error("Input graph is not connected: "+t);f=!0}t.nodeEdges(n).forEach(c)}return a}},function(t,e,n){"use strict";var r=n(0),o=n(267),i=n(270),a=n(271),u=n(2).normalizeRanks,s=n(273),c=n(2).removeEmptyRanks,f=n(274),d=n(275),h=n(276),p=n(277),l=n(286),v=n(2),y=n(5).Graph;t.exports=function(t,e){var n=e&&e.debugTiming?v.time:v.notime;n("layout",(function(){var e=n("  buildLayoutGraph",(function(){return function(t){var e=new y({multigraph:!0,compound:!0}),n=N(t.graph());return e.setGraph(r.merge({},b,k(n,g),r.pick(n,m))),r.forEach(t.nodes(),(function(n){var o=N(t.node(n));e.setNode(n,r.defaults(k(o,x),_)),e.setParent(n,t.parent(n))})),r.forEach(t.edges(),(function(n){var o=N(t.edge(n));e.setEdge(n,r.merge({},E,k(o,w),r.pick(o,j)))})),e}(t)}));n("  runLayout",(function(){!function(t,e){e("    makeSpaceForEdgeLabels",(function(){!function(t){var e=t.graph();e.ranksep/=2,r.forEach(t.edges(),(function(n){var r=t.edge(n);r.minlen*=2,"c"!==r.labelpos.toLowerCase()&&("TB"===e.rankdir||"BT"===e.rankdir?r.width+=r.labeloffset:r.height+=r.labeloffset)}))}(t)})),e("    removeSelfEdges",(function(){!function(t){r.forEach(t.edges(),(function(e){if(e.v===e.w){var n=t.node(e.v);n.selfEdges||(n.selfEdges=[]),n.selfEdges.push({e:e,label:t.edge(e)}),t.removeEdge(e)}}))}(t)})),e("    acyclic",(function(){o.run(t)})),e("    nestingGraph.run",(function(){f.run(t)})),e("    rank",(function(){a(v.asNonCompoundGraph(t))})),e("    injectEdgeLabelProxies",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.width&&n.height){var r=t.node(e.v),o={rank:(t.node(e.w).rank-r.rank)/2+r.rank,e:e};v.addDummyNode(t,"edge-proxy",o,"_ep")}}))}(t)})),e("    removeEmptyRanks",(function(){c(t)})),e("    nestingGraph.cleanup",(function(){f.cleanup(t)})),e("    normalizeRanks",(function(){u(t)})),e("    assignRankMinMax",(function(){!function(t){var e=0;r.forEach(t.nodes(),(function(n){var o=t.node(n);o.borderTop&&(o.minRank=t.node(o.borderTop).rank,o.maxRank=t.node(o.borderBottom).rank,e=r.max(e,o.maxRank))})),t.graph().maxRank=e}(t)})),e("    removeEdgeLabelProxies",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);"edge-proxy"===n.dummy&&(t.edge(n.e).labelRank=n.rank,t.removeNode(e))}))}(t)})),e("    normalize.run",(function(){i.run(t)})),e("    parentDummyChains",(function(){s(t)})),e("    addBorderSegments",(function(){d(t)})),e("    order",(function(){p(t)})),e("    insertSelfEdges",(function(){!function(t){var e=v.buildLayerMatrix(t);r.forEach(e,(function(e){var n=0;r.forEach(e,(function(e,o){var i=t.node(e);i.order=o+n,r.forEach(i.selfEdges,(function(e){v.addDummyNode(t,"selfedge",{width:e.label.width,height:e.label.height,rank:i.rank,order:o+ ++n,e:e.e,label:e.label},"_se")})),delete i.selfEdges}))}))}(t)})),e("    adjustCoordinateSystem",(function(){h.adjust(t)})),e("    position",(function(){l(t)})),e("    positionSelfEdges",(function(){!function(t){r.forEach(t.nodes(),(function(e){var n=t.node(e);if("selfedge"===n.dummy){var r=t.node(n.e.v),o=r.x+r.width/2,i=r.y,a=n.x-o,u=r.height/2;t.setEdge(n.e,n.label),t.removeNode(e),n.label.points=[{x:o+2*a/3,y:i-u},{x:o+5*a/6,y:i-u},{x:o+a,y:i},{x:o+5*a/6,y:i+u},{x:o+2*a/3,y:i+u}],n.label.x=n.x,n.label.y=n.y}}))}(t)})),e("    removeBorderNodes",(function(){!function(t){r.forEach(t.nodes(),(function(e){if(t.children(e).length){var n=t.node(e),o=t.node(n.borderTop),i=t.node(n.borderBottom),a=t.node(r.last(n.borderLeft)),u=t.node(r.last(n.borderRight));n.width=Math.abs(u.x-a.x),n.height=Math.abs(i.y-o.y),n.x=a.x+n.width/2,n.y=o.y+n.height/2}})),r.forEach(t.nodes(),(function(e){"border"===t.node(e).dummy&&t.removeNode(e)}))}(t)})),e("    normalize.undo",(function(){i.undo(t)})),e("    fixupEdgeLabelCoords",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(r.has(n,"x"))switch("l"!==n.labelpos&&"r"!==n.labelpos||(n.width-=n.labeloffset),n.labelpos){case"l":n.x-=n.width/2+n.labeloffset;break;case"r":n.x+=n.width/2+n.labeloffset}}))}(t)})),e("    undoCoordinateSystem",(function(){h.undo(t)})),e("    translateGraph",(function(){!function(t){var e=Number.POSITIVE_INFINITY,n=0,o=Number.POSITIVE_INFINITY,i=0,a=t.graph(),u=a.marginx||0,s=a.marginy||0;function c(t){var r=t.x,a=t.y,u=t.width,s=t.height;e=Math.min(e,r-u/2),n=Math.max(n,r+u/2),o=Math.min(o,a-s/2),i=Math.max(i,a+s/2)}r.forEach(t.nodes(),(function(e){c(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.has(n,"x")&&c(n)})),e-=u,o-=s,r.forEach(t.nodes(),(function(n){var r=t.node(n);r.x-=e,r.y-=o})),r.forEach(t.edges(),(function(n){var i=t.edge(n);r.forEach(i.points,(function(t){t.x-=e,t.y-=o})),r.has(i,"x")&&(i.x-=e),r.has(i,"y")&&(i.y-=o)})),a.width=n-e+u,a.height=i-o+s}(t)})),e("    assignNodeIntersects",(function(){!function(t){r.forEach(t.edges(),(function(e){var n,r,o=t.edge(e),i=t.node(e.v),a=t.node(e.w);o.points?(n=o.points[0],r=o.points[o.points.length-1]):(o.points=[],n=a,r=i),o.points.unshift(v.intersectRect(i,n)),o.points.push(v.intersectRect(a,r))}))}(t)})),e("    reversePoints",(function(){!function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);n.reversed&&n.points.reverse()}))}(t)})),e("    acyclic.undo",(function(){o.undo(t)}))}(e,n)})),n("  updateInputGraph",(function(){!function(t,e){r.forEach(t.nodes(),(function(n){var r=t.node(n),o=e.node(n);r&&(r.x=o.x,r.y=o.y,e.children(n).length&&(r.width=o.width,r.height=o.height))})),r.forEach(t.edges(),(function(n){var o=t.edge(n),i=e.edge(n);o.points=i.points,r.has(i,"x")&&(o.x=i.x,o.y=i.y)})),t.graph().width=e.graph().width,t.graph().height=e.graph().height}(t,e)}))}))};var g=["nodesep","edgesep","ranksep","marginx","marginy"],b={ranksep:50,edgesep:20,nodesep:50,rankdir:"tb"},m=["acyclicer","ranker","rankdir","align"],x=["width","height","rank"],_={width:0,height:0},w=["minlen","weight","width","height","labeloffset"],E={minlen:1,weight:1,width:0,height:0,labeloffset:10,labelpos:"r"},j=["labelpos"];function k(t,e){return r.mapValues(r.pick(t,e),Number)}function N(t){var e={};return r.forEach(t,(function(t,n){e[n.toLowerCase()]=t})),e}},function(t,e,n){var r=n(62);t.exports=function(t){return r(t,5)}},function(t,e,n){var r=n(39),o=n(14),i=n(40),a=n(17),u=Object.prototype,s=u.hasOwnProperty,c=r((function(t,e){t=Object(t);var n=-1,r=e.length,c=r>2?e[2]:void 0;for(c&&i(e[0],e[1],c)&&(r=1);++n<r;)for(var f=e[n],d=a(f),h=-1,p=d.length;++h<p;){var l=d[h],v=t[l];(void 0===v||o(v,u[l])&&!s.call(t,l))&&(t[l]=f[l])}return t}));t.exports=c},function(t,e,n){var r=n(233)(n(234));t.exports=r},function(t,e,n){var r=n(9),o=n(8),i=n(10);t.exports=function(t){return function(e,n,a){var u=Object(e);if(!o(e)){var s=r(n,3);e=i(e),n=function(t){return s(u[t],t,u)}}var c=t(e,n,a);return c>-1?u[s?e[c]:c]:void 0}}},function(t,e,n){var r=n(101),o=n(9),i=n(235),a=Math.max;t.exports=function(t,e,n){var u=null==t?0:t.length;if(!u)return-1;var s=null==n?0:i(n);return s<0&&(s=a(u+s,0)),r(t,o(e,3),s)}},function(t,e,n){var r=n(109);t.exports=function(t){var e=r(t),n=e%1;return e===e?n?e-n:e:0}},function(t,e,n){var r=n(4),o=n(19),i=/^\\s+|\\s+$/g,a=/^[-+]0x[0-9a-f]+$/i,u=/^0b[01]+$/i,s=/^0o[0-7]+$/i,c=parseInt;t.exports=function(t){if("number"==typeof t)return t;if(o(t))return NaN;if(r(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=r(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(i,"");var n=u.test(t);return n||s.test(t)?c(t.slice(2),n?2:8):a.test(t)?NaN:+t}},function(t,e,n){var r=n(55),o=n(82),i=n(17);t.exports=function(t,e){return null==t?t:r(t,o(e),i)}},function(t,e){t.exports=function(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}},function(t,e,n){var r=n(31),o=n(54),i=n(9);t.exports=function(t,e){var n={};return e=i(e,3),o(t,(function(t,o,i){r(n,o,e(t,o,i))})),n}},function(t,e,n){var r=n(60),o=n(241),i=n(13);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e){t.exports=function(t,e){return t>e}},function(t,e,n){var r=n(243),o=n(247)((function(t,e,n){r(t,e,n)}));t.exports=o},function(t,e,n){var r=n(25),o=n(111),i=n(55),a=n(244),u=n(4),s=n(17),c=n(112);t.exports=function t(e,n,f,d,h){e!==n&&i(n,(function(i,s){if(h||(h=new r),u(i))a(e,n,s,f,t,d,h);else{var p=d?d(c(e,s),i,s+"",e,n,h):void 0;void 0===p&&(p=i),o(e,s,p)}}),s)}},function(t,e,n){var r=n(111),o=n(68),i=n(77),a=n(69),u=n(78),s=n(22),c=n(1),f=n(102),d=n(16),h=n(20),p=n(4),l=n(245),v=n(23),y=n(112),g=n(246);t.exports=function(t,e,n,b,m,x,_){var w=y(t,n),E=y(e,n),j=_.get(E);if(j)r(t,n,j);else{var k=x?x(w,E,n+"",t,e,_):void 0,N=void 0===k;if(N){var M=c(E),S=!M&&d(E),O=!M&&!S&&v(E);k=E,M||S||O?c(w)?k=w:f(w)?k=a(w):S?(N=!1,k=o(E,!0)):O?(N=!1,k=i(E,!0)):k=[]:l(E)||s(E)?(k=w,s(w)?k=g(w):p(w)&&!h(w)||(k=u(E))):N=!1}N&&(_.set(E,k),m(k,E,b,x,_),_.delete(E)),r(t,n,k)}}},function(t,e,n){var r=n(12),o=n(35),i=n(7),a=Function.prototype,u=Object.prototype,s=a.toString,c=u.hasOwnProperty,f=s.call(Object);t.exports=function(t){if(!i(t)||"[object Object]"!=r(t))return!1;var e=o(t);if(null===e)return!0;var n=c.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&s.call(n)==f}},function(t,e,n){var r=n(21),o=n(17);t.exports=function(t){return r(t,o(t))}},function(t,e,n){var r=n(39),o=n(40);t.exports=function(t){return r((function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,u=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,u&&o(n[0],n[1],u)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var s=n[r];s&&t(e,s,r,a)}return e}))}},function(t,e,n){var r=n(60),o=n(113),i=n(13);t.exports=function(t){return t&&t.length?r(t,i,o):void 0}},function(t,e,n){var r=n(60),o=n(9),i=n(113);t.exports=function(t,e){return t&&t.length?r(t,o(e,2),i):void 0}},function(t,e,n){var r=n(6);t.exports=function(){return r.Date.now()}},function(t,e,n){var r=n(252),o=n(255)((function(t,e){return null==t?{}:r(t,e)}));t.exports=o},function(t,e,n){var r=n(253),o=n(91);t.exports=function(t,e){return r(t,e,(function(e,n){return o(t,n)}))}},function(t,e,n){var r=n(57),o=n(254),i=n(37);t.exports=function(t,e,n){for(var a=-1,u=e.length,s={};++a<u;){var c=e[a],f=r(t,c);n(f,c)&&o(s,i(c,t),f)}return s}},function(t,e,n){var r=n(30),o=n(37),i=n(32),a=n(4),u=n(24);t.exports=function(t,e,n,s){if(!a(t))return t;for(var c=-1,f=(e=o(e,t)).length,d=f-1,h=t;null!=h&&++c<f;){var p=u(e[c]),l=n;if(c!=d){var v=h[p];void 0===(l=s?s(v,p,h):void 0)&&(l=a(v)?v:i(e[c+1])?[]:{})}r(h,p,l),h=h[p]}return t}},function(t,e,n){var r=n(110),o=n(99),i=n(100);t.exports=function(t){return i(o(t,void 0,r),t+"")}},function(t,e,n){var r=n(257)();t.exports=r},function(t,e,n){var r=n(258),o=n(40),i=n(109);t.exports=function(t){return function(e,n,a){return a&&"number"!=typeof a&&o(e,n,a)&&(n=a=void 0),e=i(e),void 0===n?(n=e,e=0):n=i(n),a=void 0===a?e<n?1:-1:i(a),r(e,n,a,t)}}},function(t,e){var n=Math.ceil,r=Math.max;t.exports=function(t,e,o,i){for(var a=-1,u=r(n((e-t)/(o||1)),0),s=Array(u);u--;)s[i?u:++a]=t,t+=o;return s}},function(t,e,n){var r=n(59),o=n(260),i=n(39),a=n(40),u=i((function(t,e){if(null==t)return[];var n=e.length;return n>1&&a(t,e[0],e[1])?e=[]:n>2&&a(e[0],e[1],e[2])&&(e=[e[0]]),o(t,r(e,1),[])}));t.exports=u},function(t,e,n){var r=n(38),o=n(9),i=n(97),a=n(261),u=n(33),s=n(262),c=n(13);t.exports=function(t,e,n){var f=-1;e=r(e.length?e:[c],u(o));var d=i(t,(function(t,n,o){return{criteria:r(e,(function(e){return e(t)})),index:++f,value:t}}));return a(d,(function(t,e){return s(t,e,n)}))}},function(t,e){t.exports=function(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}},function(t,e,n){var r=n(263);t.exports=function(t,e,n){for(var o=-1,i=t.criteria,a=e.criteria,u=i.length,s=n.length;++o<u;){var c=r(i[o],a[o]);if(c)return o>=s?c:c*("desc"==n[o]?-1:1)}return t.index-e.index}},function(t,e,n){var r=n(19);t.exports=function(t,e){if(t!==e){var n=void 0!==t,o=null===t,i=t===t,a=r(t),u=void 0!==e,s=null===e,c=e===e,f=r(e);if(!s&&!f&&!a&&t>e||a&&u&&c&&!s&&!f||o&&u&&c||!n&&c||!i)return 1;if(!o&&!a&&!f&&t<e||f&&n&&i&&!o&&!a||s&&n&&i||!u&&i||!c)return-1}return 0}},function(t,e,n){var r=n(90),o=0;t.exports=function(t){var e=++o;return r(t)+e}},function(t,e,n){var r=n(30),o=n(266);t.exports=function(t,e){return o(t||[],e||[],r)}},function(t,e){t.exports=function(t,e,n){for(var r=-1,o=t.length,i=e.length,a={};++r<o;){var u=r<i?e[r]:void 0;n(a,t[r],u)}return a}},function(t,e,n){"use strict";var r=n(0),o=n(268);t.exports={run:function(t){var e="greedy"===t.graph().acyclicer?o(t,function(t){return function(e){return t.edge(e).weight}}(t)):function(t){var e=[],n={},o={};function i(a){r.has(o,a)||(o[a]=!0,n[a]=!0,r.forEach(t.outEdges(a),(function(t){r.has(n,t.w)?e.push(t):i(t.w)})),delete n[a])}return r.forEach(t.nodes(),i),e}(t);r.forEach(e,(function(e){var n=t.edge(e);t.removeEdge(e),n.forwardName=e.name,n.reversed=!0,t.setEdge(e.w,e.v,n,r.uniqueId("rev"))}))},undo:function(t){r.forEach(t.edges(),(function(e){var n=t.edge(e);if(n.reversed){t.removeEdge(e);var r=n.forwardName;delete n.reversed,delete n.forwardName,t.setEdge(e.w,e.v,n,r)}}))}}},function(t,e,n){var r=n(0),o=n(5).Graph,i=n(269);t.exports=function(t,e){if(t.nodeCount()<=1)return[];var n=function(t,e){var n=new o,a=0,u=0;r.forEach(t.nodes(),(function(t){n.setNode(t,{v:t,in:0,out:0})})),r.forEach(t.edges(),(function(t){var r=n.edge(t.v,t.w)||0,o=e(t),i=r+o;n.setEdge(t.v,t.w,i),u=Math.max(u,n.node(t.v).out+=o),a=Math.max(a,n.node(t.w).in+=o)}));var c=r.range(u+a+3).map((function(){return new i})),f=a+1;return r.forEach(n.nodes(),(function(t){s(c,f,n.node(t))})),{graph:n,buckets:c,zeroIdx:f}}(t,e||a),c=function(t,e,n){var r,o=[],i=e[e.length-1],a=e[0];for(;t.nodeCount();){for(;r=a.dequeue();)u(t,e,n,r);for(;r=i.dequeue();)u(t,e,n,r);if(t.nodeCount())for(var s=e.length-2;s>0;--s)if(r=e[s].dequeue()){o=o.concat(u(t,e,n,r,!0));break}}return o}(n.graph,n.buckets,n.zeroIdx);return r.flatten(r.map(c,(function(e){return t.outEdges(e.v,e.w)})),!0)};var a=r.constant(1);function u(t,e,n,o,i){var a=i?[]:void 0;return r.forEach(t.inEdges(o.v),(function(r){var o=t.edge(r),u=t.node(r.v);i&&a.push({v:r.v,w:r.w}),u.out-=o,s(e,n,u)})),r.forEach(t.outEdges(o.v),(function(r){var o=t.edge(r),i=r.w,a=t.node(i);a.in-=o,s(e,n,a)})),t.removeNode(o.v),a}function s(t,e,n){n.out?n.in?t[n.out-n.in+e].enqueue(n):t[t.length-1].enqueue(n):t[0].enqueue(n)}},function(t,e){function n(){var t={};t._next=t._prev=t,this._sentinel=t}function r(t){t._prev._next=t._next,t._next._prev=t._prev,delete t._next,delete t._prev}function o(t,e){if("_next"!==t&&"_prev"!==t)return e}t.exports=n,n.prototype.dequeue=function(){var t=this._sentinel,e=t._prev;if(e!==t)return r(e),e},n.prototype.enqueue=function(t){var e=this._sentinel;t._prev&&t._next&&r(t),t._next=e._next,e._next._prev=t,e._next=t,t._prev=e},n.prototype.toString=function(){for(var t=[],e=this._sentinel,n=e._prev;n!==e;)t.push(JSON.stringify(n,o)),n=n._prev;return"["+t.join(", ")+"]"}},function(t,e,n){"use strict";var r=n(0),o=n(2);t.exports={run:function(t){t.graph().dummyChains=[],r.forEach(t.edges(),(function(e){!function(t,e){var n,r,i,a=e.v,u=t.node(a).rank,s=e.w,c=t.node(s).rank,f=e.name,d=t.edge(e),h=d.labelRank;if(c===u+1)return;for(t.removeEdge(e),i=0,++u;u<c;++i,++u)d.points=[],r={width:0,height:0,edgeLabel:d,edgeObj:e,rank:u},n=o.addDummyNode(t,"edge",r,"_d"),u===h&&(r.width=d.width,r.height=d.height,r.dummy="edge-label",r.labelpos=d.labelpos),t.setEdge(a,n,{weight:d.weight},f),0===i&&t.graph().dummyChains.push(n),a=n;t.setEdge(a,s,{weight:d.weight},f)}(t,e)}))},undo:function(t){r.forEach(t.graph().dummyChains,(function(e){var n,r=t.node(e),o=r.edgeLabel;for(t.setEdge(r.edgeObj,o);r.dummy;)n=t.successors(e)[0],t.removeNode(e),o.points.push({x:r.x,y:r.y}),"edge-label"===r.dummy&&(o.x=r.x,o.y=r.y,o.width=r.width,o.height=r.height),e=n,r=t.node(e)}))}}},function(t,e,n){"use strict";var r=n(41).longestPath,o=n(114),i=n(272);t.exports=function(t){var e=t.graph().ranker;if(e instanceof Function)return e(t);switch(t.graph().ranker){case"network-simplex":u(t);break;case"tight-tree":!function(t){r(t),o(t)}(t);break;case"longest-path":a(t);break;case"none":break;default:u(t)}};var a=r;function u(t){i(t)}},function(t,e,n){"use strict";var r=n(0),o=n(114),i=n(41).slack,a=n(41).longestPath,u=n(5).alg.preorder,s=n(5).alg.postorder,c=n(2).simplify;function f(t){t=c(t),a(t);var e,n=o(t);for(p(n),d(n,t);e=v(n);)g(n,t,e,y(n,t,e))}function d(t,e){var n=s(t,t.nodes());n=n.slice(0,n.length-1),r.forEach(n,(function(n){!function(t,e,n){var r=t.node(n).parent;t.edge(n,r).cutvalue=h(t,e,n)}(t,e,n)}))}function h(t,e,n){var o=t.node(n).parent,i=!0,a=e.edge(n,o),u=0;return a||(i=!1,a=e.edge(o,n)),u=a.weight,r.forEach(e.nodeEdges(n),(function(r){var a,s,c=r.v===n,f=c?r.w:r.v;if(f!==o){var d=c===i,h=e.edge(r).weight;if(u+=d?h:-h,a=n,s=f,t.hasEdge(a,s)){var p=t.edge(n,f).cutvalue;u+=d?-p:p}}})),u}function p(t,e){arguments.length<2&&(e=t.nodes()[0]),l(t,{},1,e)}function l(t,e,n,o,i){var a=n,u=t.node(o);return e[o]=!0,r.forEach(t.neighbors(o),(function(i){r.has(e,i)||(n=l(t,e,n,i,o))})),u.low=a,u.lim=n++,i?u.parent=i:delete u.parent,n}function v(t){return r.find(t.edges(),(function(e){return t.edge(e).cutvalue<0}))}function y(t,e,n){var o=n.v,a=n.w;e.hasEdge(o,a)||(o=n.w,a=n.v);var u=t.node(o),s=t.node(a),c=u,f=!1;u.lim>s.lim&&(c=s,f=!0);var d=r.filter(e.edges(),(function(e){return f===b(t,t.node(e.v),c)&&f!==b(t,t.node(e.w),c)}));return r.minBy(d,(function(t){return i(e,t)}))}function g(t,e,n,o){var i=n.v,a=n.w;t.removeEdge(i,a),t.setEdge(o.v,o.w,{}),p(t),d(t,e),function(t,e){var n=r.find(t.nodes(),(function(t){return!e.node(t).parent})),o=u(t,n);o=o.slice(1),r.forEach(o,(function(n){var r=t.node(n).parent,o=e.edge(n,r),i=!1;o||(o=e.edge(r,n),i=!0),e.node(n).rank=e.node(r).rank+(i?o.minlen:-o.minlen)}))}(t,e)}function b(t,e,n){return n.low<=e.lim&&e.lim<=n.lim}t.exports=f,f.initLowLimValues=p,f.initCutValues=d,f.calcCutValue=h,f.leaveEdge=v,f.enterEdge=y,f.exchangeEdges=g},function(t,e,n){var r=n(0);t.exports=function(t){var e=function(t){var e={},n=0;function o(i){var a=n;r.forEach(t.children(i),o),e[i]={low:a,lim:n++}}return r.forEach(t.children(),o),e}(t);r.forEach(t.graph().dummyChains,(function(n){for(var r=t.node(n),o=r.edgeObj,i=function(t,e,n,r){var o,i,a=[],u=[],s=Math.min(e[n].low,e[r].low),c=Math.max(e[n].lim,e[r].lim);o=n;do{o=t.parent(o),a.push(o)}while(o&&(e[o].low>s||c>e[o].lim));i=o,o=r;for(;(o=t.parent(o))!==i;)u.push(o);return{path:a.concat(u.reverse()),lca:i}}(t,e,o.v,o.w),a=i.path,u=i.lca,s=0,c=a[s],f=!0;n!==o.w;){if(r=t.node(n),f){for(;(c=a[s])!==u&&t.node(c).maxRank<r.rank;)s++;c===u&&(f=!1)}if(!f){for(;s<a.length-1&&t.node(c=a[s+1]).minRank<=r.rank;)s++;c=a[s]}t.setParent(n,c),n=t.successors(n)[0]}}))}},function(t,e,n){var r=n(0),o=n(2);t.exports={run:function(t){var e=o.addDummyNode(t,"root",{},"_root"),n=function(t){var e={};return r.forEach(t.children(),(function(n){!function n(o,i){var a=t.children(o);a&&a.length&&r.forEach(a,(function(t){n(t,i+1)}));e[o]=i}(n,1)})),e}(t),i=r.max(r.values(n))-1,a=2*i+1;t.graph().nestingRoot=e,r.forEach(t.edges(),(function(e){t.edge(e).minlen*=a}));var u=function(t){return r.reduce(t.edges(),(function(e,n){return e+t.edge(n).weight}),0)}(t)+1;r.forEach(t.children(),(function(s){!function t(e,n,i,a,u,s,c){var f=e.children(c);if(!f.length)return void(c!==n&&e.setEdge(n,c,{weight:0,minlen:i}));var d=o.addBorderNode(e,"_bt"),h=o.addBorderNode(e,"_bb"),p=e.node(c);e.setParent(d,c),p.borderTop=d,e.setParent(h,c),p.borderBottom=h,r.forEach(f,(function(r){t(e,n,i,a,u,s,r);var o=e.node(r),f=o.borderTop?o.borderTop:r,p=o.borderBottom?o.borderBottom:r,l=o.borderTop?a:2*a,v=f!==p?1:u-s[c]+1;e.setEdge(d,f,{weight:l,minlen:v,nestingEdge:!0}),e.setEdge(p,h,{weight:l,minlen:v,nestingEdge:!0})})),e.parent(c)||e.setEdge(n,d,{weight:0,minlen:u+s[c]})}(t,e,a,u,i,n,s)})),t.graph().nodeRankFactor=a},cleanup:function(t){var e=t.graph();t.removeNode(e.nestingRoot),delete e.nestingRoot,r.forEach(t.edges(),(function(e){t.edge(e).nestingEdge&&t.removeEdge(e)}))}}},function(t,e,n){var r=n(0),o=n(2);function i(t,e,n,r,i,a){var u={width:0,height:0,rank:a,borderType:e},s=i[e][a-1],c=o.addDummyNode(t,"border",u,n);i[e][a]=c,t.setParent(c,r),s&&t.setEdge(s,c,{weight:1})}t.exports=function(t){r.forEach(t.children(),(function e(n){var o=t.children(n),a=t.node(n);if(o.length&&r.forEach(o,e),r.has(a,"minRank")){a.borderLeft=[],a.borderRight=[];for(var u=a.minRank,s=a.maxRank+1;u<s;++u)i(t,"borderLeft","_bl",n,a,u),i(t,"borderRight","_br",n,a,u)}}))}},function(t,e,n){"use strict";var r=n(0);function o(t){r.forEach(t.nodes(),(function(e){i(t.node(e))})),r.forEach(t.edges(),(function(e){i(t.edge(e))}))}function i(t){var e=t.width;t.width=t.height,t.height=e}function a(t){t.y=-t.y}function u(t){var e=t.x;t.x=t.y,t.y=e}t.exports={adjust:function(t){var e=t.graph().rankdir.toLowerCase();"lr"!==e&&"rl"!==e||o(t)},undo:function(t){var e=t.graph().rankdir.toLowerCase();"bt"!==e&&"rl"!==e||function(t){r.forEach(t.nodes(),(function(e){a(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,a),r.has(n,"y")&&a(n)}))}(t);"lr"!==e&&"rl"!==e||(!function(t){r.forEach(t.nodes(),(function(e){u(t.node(e))})),r.forEach(t.edges(),(function(e){var n=t.edge(e);r.forEach(n.points,u),r.has(n,"x")&&u(n)}))}(t),o(t))}}},function(t,e,n){"use strict";var r=n(0),o=n(278),i=n(279),a=n(280),u=n(284),s=n(285),c=n(5).Graph,f=n(2);function d(t,e,n){return r.map(e,(function(e){return u(t,e,n)}))}function h(t,e){var n=new c;r.forEach(t,(function(t){var o=t.graph().root,i=a(t,o,n,e);r.forEach(i.vs,(function(e,n){t.node(e).order=n})),s(t,n,i.vs)}))}function p(t,e){r.forEach(e,(function(e){r.forEach(e,(function(e,n){t.node(e).order=n}))}))}t.exports=function(t){var e=f.maxRank(t),n=d(t,r.range(1,e+1),"inEdges"),a=d(t,r.range(e-1,-1,-1),"outEdges"),u=o(t);p(t,u);for(var s,c=Number.POSITIVE_INFINITY,l=0,v=0;v<4;++l,++v){h(l%2?n:a,l%4>=2),u=f.buildLayerMatrix(t);var y=i(t,u);y<c&&(v=0,s=r.cloneDeep(u),c=y)}p(t,s)}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t){var e={},n=r.filter(t.nodes(),(function(e){return!t.children(e).length})),o=r.max(r.map(n,(function(e){return t.node(e).rank}))),i=r.map(r.range(o+1),(function(){return[]}));var a=r.sortBy(n,(function(e){return t.node(e).rank}));return r.forEach(a,(function n(o){if(r.has(e,o))return;e[o]=!0;var a=t.node(o);i[a.rank].push(o),r.forEach(t.successors(o),n)})),i}},function(t,e,n){"use strict";var r=n(0);function o(t,e,n){for(var o=r.zipObject(n,r.map(n,(function(t,e){return e}))),i=r.flatten(r.map(e,(function(e){return r.sortBy(r.map(t.outEdges(e),(function(e){return{pos:o[e.w],weight:t.edge(e).weight}})),"pos")})),!0),a=1;a<n.length;)a<<=1;var u=2*a-1;a-=1;var s=r.map(new Array(u),(function(){return 0})),c=0;return r.forEach(i.forEach((function(t){var e=t.pos+a;s[e]+=t.weight;for(var n=0;e>0;)e%2&&(n+=s[e+1]),s[e=e-1>>1]+=t.weight;c+=t.weight*n}))),c}t.exports=function(t,e){for(var n=0,r=1;r<e.length;++r)n+=o(t,e[r-1],e[r]);return n}},function(t,e,n){var r=n(0),o=n(281),i=n(282),a=n(283);t.exports=function t(e,n,u,s){var c=e.children(n),f=e.node(n),d=f?f.borderLeft:void 0,h=f?f.borderRight:void 0,p={};d&&(c=r.filter(c,(function(t){return t!==d&&t!==h})));var l=o(e,c);r.forEach(l,(function(n){if(e.children(n.v).length){var o=t(e,n.v,u,s);p[n.v]=o,r.has(o,"barycenter")&&(i=n,a=o,r.isUndefined(i.barycenter)?(i.barycenter=a.barycenter,i.weight=a.weight):(i.barycenter=(i.barycenter*i.weight+a.barycenter*a.weight)/(i.weight+a.weight),i.weight+=a.weight))}var i,a}));var v=i(l,u);!function(t,e){r.forEach(t,(function(t){t.vs=r.flatten(t.vs.map((function(t){return e[t]?e[t].vs:t})),!0)}))}(v,p);var y=a(v,s);if(d&&(y.vs=r.flatten([d,y.vs,h],!0),e.predecessors(d).length)){var g=e.node(e.predecessors(d)[0]),b=e.node(e.predecessors(h)[0]);r.has(y,"barycenter")||(y.barycenter=0,y.weight=0),y.barycenter=(y.barycenter*y.weight+g.order+b.order)/(y.weight+2),y.weight+=2}return y}},function(t,e,n){var r=n(0);t.exports=function(t,e){return r.map(e,(function(e){var n=t.inEdges(e);if(n.length){var o=r.reduce(n,(function(e,n){var r=t.edge(n),o=t.node(n.v);return{sum:e.sum+r.weight*o.order,weight:e.weight+r.weight}}),{sum:0,weight:0});return{v:e,barycenter:o.sum/o.weight,weight:o.weight}}return{v:e}}))}},function(t,e,n){"use strict";var r=n(0);t.exports=function(t,e){var n={};return r.forEach(t,(function(t,e){var o=n[t.v]={indegree:0,in:[],out:[],vs:[t.v],i:e};r.isUndefined(t.barycenter)||(o.barycenter=t.barycenter,o.weight=t.weight)})),r.forEach(e.edges(),(function(t){var e=n[t.v],o=n[t.w];r.isUndefined(e)||r.isUndefined(o)||(o.indegree++,e.out.push(n[t.w]))})),function(t){var e=[];function n(t){return function(e){e.merged||(r.isUndefined(e.barycenter)||r.isUndefined(t.barycenter)||e.barycenter>=t.barycenter)&&function(t,e){var n=0,r=0;t.weight&&(n+=t.barycenter*t.weight,r+=t.weight);e.weight&&(n+=e.barycenter*e.weight,r+=e.weight);t.vs=e.vs.concat(t.vs),t.barycenter=n/r,t.weight=r,t.i=Math.min(e.i,t.i),e.merged=!0}(t,e)}}function o(e){return function(n){n.in.push(e),0===--n.indegree&&t.push(n)}}for(;t.length;){var i=t.pop();e.push(i),r.forEach(i.in.reverse(),n(i)),r.forEach(i.out,o(i))}return r.map(r.filter(e,(function(t){return!t.merged})),(function(t){return r.pick(t,["vs","i","barycenter","weight"])}))}(r.filter(n,(function(t){return!t.indegree})))}},function(t,e,n){var r=n(0),o=n(2);function i(t,e,n){for(var o;e.length&&(o=r.last(e)).i<=n;)e.pop(),t.push(o.vs),n++;return n}t.exports=function(t,e){var n=o.partition(t,(function(t){return r.has(t,"barycenter")})),a=n.lhs,u=r.sortBy(n.rhs,(function(t){return-t.i})),s=[],c=0,f=0,d=0;a.sort((h=!!e,function(t,e){return t.barycenter<e.barycenter?-1:t.barycenter>e.barycenter?1:h?e.i-t.i:t.i-e.i})),d=i(s,u,d),r.forEach(a,(function(t){d+=t.vs.length,s.push(t.vs),c+=t.barycenter*t.weight,f+=t.weight,d=i(s,u,d)}));var h;var p={vs:r.flatten(s,!0)};f&&(p.barycenter=c/f,p.weight=f);return p}},function(t,e,n){var r=n(0),o=n(5).Graph;t.exports=function(t,e,n){var i=function(t){var e;for(;t.hasNode(e=r.uniqueId("_root")););return e}(t),a=new o({compound:!0}).setGraph({root:i}).setDefaultNodeLabel((function(e){return t.node(e)}));return r.forEach(t.nodes(),(function(o){var u=t.node(o),s=t.parent(o);(u.rank===e||u.minRank<=e&&e<=u.maxRank)&&(a.setNode(o),a.setParent(o,s||i),r.forEach(t[n](o),(function(e){var n=e.v===o?e.w:e.v,i=a.edge(n,o),u=r.isUndefined(i)?0:i.weight;a.setEdge(n,o,{weight:t.edge(e).weight+u})})),r.has(u,"minRank")&&a.setNode(o,{borderLeft:u.borderLeft[e],borderRight:u.borderRight[e]}))})),a}},function(t,e,n){var r=n(0);t.exports=function(t,e,n){var o,i={};r.forEach(n,(function(n){for(var r,a,u=t.parent(n);u;){if((r=t.parent(u))?(a=i[r],i[r]=u):(a=o,o=u),a&&a!==u)return void e.setEdge(a,u);u=r}}))}},function(t,e,n){"use strict";var r=n(0),o=n(2),i=n(287).positionX;t.exports=function(t){(function(t){var e=o.buildLayerMatrix(t),n=t.graph().ranksep,i=0;r.forEach(e,(function(e){var o=r.max(r.map(e,(function(e){return t.node(e).height})));r.forEach(e,(function(e){t.node(e).y=i+o/2})),i+=o+n}))})(t=o.asNonCompoundGraph(t)),r.forEach(i(t),(function(e,n){t.node(n).x=e}))}},function(t,e,n){"use strict";var r=n(0),o=n(5).Graph,i=n(2);function a(t,e){var n={};return r.reduce(e,(function(e,o){var i=0,a=0,u=e.length,c=r.last(o);return r.forEach(o,(function(e,f){var d=function(t,e){if(t.node(e).dummy)return r.find(t.predecessors(e),(function(e){return t.node(e).dummy}))}(t,e),h=d?t.node(d).order:u;(d||e===c)&&(r.forEach(o.slice(a,f+1),(function(e){r.forEach(t.predecessors(e),(function(r){var o=t.node(r),a=o.order;!(a<i||h<a)||o.dummy&&t.node(e).dummy||s(n,r,e)}))})),a=f+1,i=h)})),o})),n}function u(t,e){var n={};function o(e,o,i,a,u){var c;r.forEach(r.range(o,i),(function(o){c=e[o],t.node(c).dummy&&r.forEach(t.predecessors(c),(function(e){var r=t.node(e);r.dummy&&(r.order<a||r.order>u)&&s(n,e,c)}))}))}return r.reduce(e,(function(e,n){var i,a=-1,u=0;return r.forEach(n,(function(r,s){if("border"===t.node(r).dummy){var c=t.predecessors(r);c.length&&(i=t.node(c[0]).order,o(n,u,s,a,i),u=s,a=i)}o(n,u,n.length,i,e.length)})),n})),n}function s(t,e,n){if(e>n){var r=e;e=n,n=r}var o=t[e];o||(t[e]=o={}),o[n]=!0}function c(t,e,n){if(e>n){var o=e;e=n,n=o}return r.has(t[e],n)}function f(t,e,n,o){var i={},a={},u={};return r.forEach(e,(function(t){r.forEach(t,(function(t,e){i[t]=t,a[t]=t,u[t]=e}))})),r.forEach(e,(function(t){var e=-1;r.forEach(t,(function(t){var s=o(t);if(s.length)for(var f=((s=r.sortBy(s,(function(t){return u[t]}))).length-1)/2,d=Math.floor(f),h=Math.ceil(f);d<=h;++d){var p=s[d];a[t]===t&&e<u[p]&&!c(n,t,p)&&(a[p]=t,a[t]=i[t]=i[p],e=u[p])}}))})),{root:i,align:a}}function d(t,e,n,i,a){var u={},s=function(t,e,n,i){var a=new o,u=t.graph(),s=function(t,e,n){return function(o,i,a){var u,s=o.node(i),c=o.node(a),f=0;if(f+=s.width/2,r.has(s,"labelpos"))switch(s.labelpos.toLowerCase()){case"l":u=-s.width/2;break;case"r":u=s.width/2}if(u&&(f+=n?u:-u),u=0,f+=(s.dummy?e:t)/2,f+=(c.dummy?e:t)/2,f+=c.width/2,r.has(c,"labelpos"))switch(c.labelpos.toLowerCase()){case"l":u=c.width/2;break;case"r":u=-c.width/2}return u&&(f+=n?u:-u),u=0,f}}(u.nodesep,u.edgesep,i);return r.forEach(e,(function(e){var o;r.forEach(e,(function(e){var r=n[e];if(a.setNode(r),o){var i=n[o],u=a.edge(i,r);a.setEdge(i,r,Math.max(s(t,e,o),u||0))}o=e}))})),a}(t,e,n,a),c=a?"borderLeft":"borderRight";function f(t,e){for(var n=s.nodes(),r=n.pop(),o={};r;)o[r]?t(r):(o[r]=!0,n.push(r),n=n.concat(e(r))),r=n.pop()}return f((function(t){u[t]=s.inEdges(t).reduce((function(t,e){return Math.max(t,u[e.v]+s.edge(e))}),0)}),s.predecessors.bind(s)),f((function(e){var n=s.outEdges(e).reduce((function(t,e){return Math.min(t,u[e.w]-s.edge(e))}),Number.POSITIVE_INFINITY),r=t.node(e);n!==Number.POSITIVE_INFINITY&&r.borderType!==c&&(u[e]=Math.max(u[e],n))}),s.successors.bind(s)),r.forEach(i,(function(t){u[t]=u[n[t]]})),u}function h(t,e){return r.minBy(r.values(e),(function(e){var n=Number.NEGATIVE_INFINITY,o=Number.POSITIVE_INFINITY;return r.forIn(e,(function(e,r){var i=function(t,e){return t.node(e).width}(t,r)/2;n=Math.max(e+i,n),o=Math.min(e-i,o)})),n-o}))}function p(t,e){var n=r.values(e),o=r.min(n),i=r.max(n);r.forEach(["u","d"],(function(n){r.forEach(["l","r"],(function(a){var u,s=n+a,c=t[s];if(c!==e){var f=r.values(c);(u="l"===a?o-r.min(f):i-r.max(f))&&(t[s]=r.mapValues(c,(function(t){return t+u})))}}))}))}function l(t,e){return r.mapValues(t.ul,(function(n,o){if(e)return t[e.toLowerCase()][o];var i=r.sortBy(r.map(t,o));return(i[1]+i[2])/2}))}t.exports={positionX:function(t){var e,n=i.buildLayerMatrix(t),o=r.merge(a(t,n),u(t,n)),s={};r.forEach(["u","d"],(function(i){e="u"===i?n:r.values(n).reverse(),r.forEach(["l","r"],(function(n){"r"===n&&(e=r.map(e,(function(t){return r.values(t).reverse()})));var a=("u"===i?t.predecessors:t.successors).bind(t),u=f(t,e,o,a),c=d(t,e,u.root,u.align,"r"===n);"r"===n&&(c=r.mapValues(c,(function(t){return-t}))),s[i+n]=c}))}));var c=h(t,s);return p(s,c),l(s,t.graph().align)},findType1Conflicts:a,findType2Conflicts:u,addConflict:s,hasConflict:c,verticalAlignment:f,horizontalCompaction:d,alignCoordinates:p,findSmallestWidthAlignment:h,balance:l}},function(t,e,n){var r=n(0),o=n(2),i=n(5).Graph;t.exports={debugOrdering:function(t){var e=o.buildLayerMatrix(t),n=new i({compound:!0,multigraph:!0}).setGraph({});return r.forEach(t.nodes(),(function(e){n.setNode(e,{label:e}),n.setParent(e,"layer"+t.node(e).rank)})),r.forEach(t.edges(),(function(t){n.setEdge(t.v,t.w,{},t.name)})),r.forEach(e,(function(t,e){var o="layer"+e;n.setNode(o,{rank:"same"}),r.reduce(t,(function(t,e){return n.setEdge(t,e,{style:"invis"}),e}))})),n}}},function(t,e){t.exports="0.8.5-pre"},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function i(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?o(Object(n),!0).forEach((function(e){r(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}n.r(e),n.d(e,"graphNew",(function(){return et})),n.d(e,"graphDagre",(function(){return nt}));var a=n(61),u=n.n(a);const s=.5*Math.PI,c=(t,e)=>Math.round(t/e)*e,f=(t,e)=>Math.abs(t-e),d=(t,e)=>Math.atan2(t.y-e.y,t.x-e.x),h=t=>t.x-.5*t.width,p=t=>t.x+.5*t.width,l=t=>t.y-.5*t.height,v=t=>t.y+.5*t.height,y=t=>{const e={};var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){const t=i.value;e[t.y]=e[t.y]||[],e[t.y].push(t)}}catch(l){r=!0,o=l}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}const u=Object.keys(e).map(t=>parseFloat(t));u.sort((t,e)=>t-e);const s=u.map(t=>e[t]);for(let v=0;v<s.length;v+=1){s[v].sort((t,e)=>g(t.x,e.x,t.id,e.id));var c=!0,f=!1,d=void 0;try{for(var h,p=s[v][Symbol.iterator]();!(c=(h=p.next()).done);c=!0){h.value.row=v}}catch(l){f=!0,d=l}finally{try{c||null==p.return||p.return()}finally{if(f)throw d}}}return s},g=(t,e,...n)=>{const r="string"===typeof t?t.localeCompare(e):t-e;return 0!==r||0===n.length?r:g(...n)},b=(t,e,n,r,o,i)=>{const a=o-n,u=i-r,s=(d=1,(c=((t-n)*a+(e-r)*u)/(a*a+u*u||1))<(f=0)?f:c>d?d:c);var c,f,d;return{x:n+a*s,y:r+u*s,ax:n,ay:r,bx:o,by:i}};function m(){return new x}var x=function(){function t(){this.index={},this.array=[]}return t.prototype.size=function(){return this.array.length},t.prototype.empty=function(){return 0===this.array.length},t.prototype.itemAt=function(t){return this.array[t]},t.prototype.contains=function(t){return void 0!==this.index[t.id()]},t.prototype.find=function(t){var e=this.index[t.id()];return void 0===e?void 0:this.array[e]},t.prototype.setDefault=function(t,e){var n=this.index[t.id()];if(void 0===n){var r=new _(t,e());return this.index[t.id()]=this.array.length,this.array.push(r),r}return this.array[n]},t.prototype.insert=function(t,e){var n=new _(t,e),r=this.index[t.id()];return void 0===r?(this.index[t.id()]=this.array.length,this.array.push(n)):this.array[r]=n,n},t.prototype.erase=function(t){var e=this.index[t.id()];if(void 0!==e){this.index[t.id()]=void 0;var n=this.array[e],r=this.array.pop();return n!==r&&(this.array[e]=r,this.index[r.first.id()]=e),n}},t.prototype.copy=function(){for(var e=new t,n=0;n<this.array.length;n++){var r=this.array[n].copy();e.array[n]=r,e.index[r.first.id()]=n}return e},t}(),_=function(){function t(t,e){this.first=t,this.second=e}return t.prototype.copy=function(){return new t(this.first,this.second)},t}(),w=function(){function t(t){void 0===t&&(t=""),this._value=0,this._context=null,this._id=E++,this._name=t}return t.prototype.id=function(){return this._id},t.prototype.name=function(){return this._name},t.prototype.setName=function(t){this._name=t},t.prototype.context=function(){return this._context},t.prototype.setContext=function(t){this._context=t},t.prototype.value=function(){return this._value},t.prototype.setValue=function(t){this._value=t},t.prototype.plus=function(t){return new j(this,t)},t.prototype.minus=function(t){return new j(this,"number"===typeof t?-t:[-1,t])},t.prototype.multiply=function(t){return new j([t,this])},t.prototype.divide=function(t){return new j([1/t,this])},t.prototype.toJSON=function(){return{name:this._name,value:this._value}},t.prototype.toString=function(){return this._context+"["+this._name+":"+this._value+"]"},t}(),E=0,j=function(){function t(){var t=k(arguments);this._terms=t.terms,this._constant=t.constant}return t.prototype.terms=function(){return this._terms},t.prototype.constant=function(){return this._constant},t.prototype.value=function(){for(var t=this._constant,e=0,n=this._terms.size();e<n;e++){var r=this._terms.itemAt(e);t+=r.first.value()*r.second}return t},t.prototype.plus=function(e){return new t(this,e)},t.prototype.minus=function(e){return new t(this,"number"===typeof e?-e:[-1,e])},t.prototype.multiply=function(e){return new t([e,this])},t.prototype.divide=function(e){return new t([1/e,this])},t.prototype.isConstant=function(){return 0==this._terms.size()},t.prototype.toString=function(){var t=this._terms.array.map((function(t){return t.second+"*"+t.first.toString()})).join(" + ");return this.isConstant()||0===this._constant||(t+=" + "),t+=this._constant},t}();function k(t){for(var e=0,n=function(){return 0},r=m(),o=0,i=t.length;o<i;++o){var a=t[o];if("number"===typeof a)e+=a;else if(a instanceof w)r.setDefault(a,n).second+=1;else if(a instanceof j){e+=a.constant();for(var u=0,s=(h=a.terms()).size();u<s;u++){var c=h.itemAt(u);r.setDefault(c.first,n).second+=c.second}}else{if(!(a instanceof Array))throw new Error("invalid Expression argument: "+a);if(2!==a.length)throw new Error("array must have length 2");var f=a[0],d=a[1];if("number"!==typeof f)throw new Error("array item 0 must be a number");if(d instanceof w)r.setDefault(d,n).second+=f;else{if(!(d instanceof j))throw new Error("array item 1 must be a variable or expression");e+=d.constant()*f;var h;for(u=0,s=(h=d.terms()).size();u<s;u++){c=h.itemAt(u);r.setDefault(c.first,n).second+=c.second*f}}}}return{terms:r,constant:e}}var N,M=function(){function t(){}return t.create=function(t,e,n,r){void 0===r&&(r=1);var o=0;return o+=1e6*Math.max(0,Math.min(1e3,t*r)),o+=1e3*Math.max(0,Math.min(1e3,e*r)),o+=Math.max(0,Math.min(1e3,n*r))},t.clip=function(e){return Math.max(0,Math.min(t.required,e))},t.required=t.create(1e3,1e3,1e3),t.strong=t.create(1,0,0),t.medium=t.create(0,1,0),t.weak=t.create(0,0,1),t}();!function(t){t[t.Le=0]="Le",t[t.Ge=1]="Ge",t[t.Eq=2]="Eq"}(N||(N={}));var S,O=function(){function t(t,e,n,r){void 0===r&&(r=M.required),this._id=A++,this._operator=e,this._strength=M.clip(r),this._expression=void 0===n&&t instanceof j?t:t.minus(n)}return t.prototype.id=function(){return this._id},t.prototype.expression=function(){return this._expression},t.prototype.op=function(){return this._operator},t.prototype.strength=function(){return this._strength},t.prototype.toString=function(){return this._expression.toString()+" "+["<=",">=","="][this._operator]+" 0 ("+this._strength.toString()+")"},t}(),A=0,I=function(){function t(){this._cnMap=m(),this._rowMap=m(),this._varMap=m(),this._editMap=m(),this._infeasibleRows=[],this._objective=new L,this._artificial=null,this._idTick=0}return t.prototype.createConstraint=function(t,e,n,r){void 0===r&&(r=M.required);var o=new O(t,e,n,r);return this.addConstraint(o),o},t.prototype.addConstraint=function(t){if(void 0!==this._cnMap.find(t))throw new Error("duplicate constraint");var e=this._createRow(t),n=e.row,r=e.tag,o=this._chooseSubject(n,r);if(o.type()===S.Invalid&&n.allDummies()){if(!C(n.constant()))throw new Error("unsatisfiable constraint");o=r.marker}if(o.type()===S.Invalid){if(!this._addWithArtificialVariable(n))throw new Error("unsatisfiable constraint")}else n.solveFor(o),this._substitute(o,n),this._rowMap.insert(o,n);this._cnMap.insert(t,r),this._optimize(this._objective)},t.prototype.removeConstraint=function(t){var e=this._cnMap.erase(t);if(void 0===e)throw new Error("unknown constraint");this._removeConstraintEffects(t,e.second);var n=e.second.marker,r=this._rowMap.erase(n);if(void 0===r){var o=this._getMarkerLeavingSymbol(n);if(o.type()===S.Invalid)throw new Error("failed to find leaving row");(r=this._rowMap.erase(o)).second.solveForEx(o,n),this._substitute(n,r.second)}this._optimize(this._objective)},t.prototype.hasConstraint=function(t){return this._cnMap.contains(t)},t.prototype.addEditVariable=function(t,e){if(void 0!==this._editMap.find(t))throw new Error("duplicate edit variable");if((e=M.clip(e))===M.required)throw new Error("bad required strength");var n=new j(t),r=new O(n,N.Eq,void 0,e);this.addConstraint(r);var o={tag:this._cnMap.find(r).second,constraint:r,constant:0};this._editMap.insert(t,o)},t.prototype.removeEditVariable=function(t){var e=this._editMap.erase(t);if(void 0===e)throw new Error("unknown edit variable");this.removeConstraint(e.second.constraint)},t.prototype.hasEditVariable=function(t){return this._editMap.contains(t)},t.prototype.suggestValue=function(t,e){var n=this._editMap.find(t);if(void 0===n)throw new Error("unknown edit variable");var r=this._rowMap,o=n.second,i=e-o.constant;o.constant=e;var a=o.tag.marker,u=r.find(a);if(void 0!==u)return u.second.add(-i)<0&&this._infeasibleRows.push(a),void this._dualOptimize();var s=o.tag.other;if(void 0!==(u=r.find(s)))return u.second.add(i)<0&&this._infeasibleRows.push(s),void this._dualOptimize();for(var c=0,f=r.size();c<f;++c){var d=r.itemAt(c),h=d.second,p=h.coefficientFor(a);0!==p&&h.add(i*p)<0&&d.first.type()!==S.External&&this._infeasibleRows.push(d.first)}this._dualOptimize()},t.prototype.updateVariables=function(){for(var t=this._varMap,e=this._rowMap,n=0,r=t.size();n<r;++n){var o=t.itemAt(n),i=e.find(o.second);void 0!==i?o.first.setValue(i.second.constant()):o.first.setValue(0)}},t.prototype._getVarSymbol=function(t){var e=this;return this._varMap.setDefault(t,(function(){return e._makeSymbol(S.External)})).second},t.prototype._createRow=function(t){for(var e=t.expression(),n=new L(e.constant()),r=e.terms(),o=0,i=r.size();o<i;++o){var a=r.itemAt(o);if(!C(a.second)){var u=this._getVarSymbol(a.first),s=this._rowMap.find(u);void 0!==s?n.insertRow(s.second,a.second):n.insertSymbol(u,a.second)}}var c=this._objective,f=t.strength(),d={marker:z,other:z};switch(t.op()){case N.Le:case N.Ge:var h=t.op()===N.Le?1:-1,p=this._makeSymbol(S.Slack);if(d.marker=p,n.insertSymbol(p,h),f<M.required){var l=this._makeSymbol(S.Error);d.other=l,n.insertSymbol(l,-h),c.insertSymbol(l,f)}break;case N.Eq:if(f<M.required){var v=this._makeSymbol(S.Error),y=this._makeSymbol(S.Error);d.marker=v,d.other=y,n.insertSymbol(v,-1),n.insertSymbol(y,1),c.insertSymbol(v,f),c.insertSymbol(y,f)}else{var g=this._makeSymbol(S.Dummy);d.marker=g,n.insertSymbol(g)}}return n.constant()<0&&n.reverseSign(),{row:n,tag:d}},t.prototype._chooseSubject=function(t,e){for(var n=t.cells(),r=0,o=n.size();r<o;++r){var i=n.itemAt(r);if(i.first.type()===S.External)return i.first}var a=e.marker.type();return(a===S.Slack||a===S.Error)&&t.coefficientFor(e.marker)<0?e.marker:((a=e.other.type())===S.Slack||a===S.Error)&&t.coefficientFor(e.other)<0?e.other:z},t.prototype._addWithArtificialVariable=function(t){var e=this._makeSymbol(S.Slack);this._rowMap.insert(e,t.copy()),this._artificial=t.copy(),this._optimize(this._artificial);var n=C(this._artificial.constant());this._artificial=null;var r=this._rowMap.erase(e);if(void 0!==r){var o=r.second;if(o.isConstant())return n;var i=this._anyPivotableSymbol(o);if(i.type()===S.Invalid)return!1;o.solveForEx(e,i),this._substitute(i,o),this._rowMap.insert(i,o)}for(var a=this._rowMap,u=0,s=a.size();u<s;++u)a.itemAt(u).second.removeSymbol(e);return this._objective.removeSymbol(e),n},t.prototype._substitute=function(t,e){for(var n=this._rowMap,r=0,o=n.size();r<o;++r){var i=n.itemAt(r);i.second.substitute(t,e),i.second.constant()<0&&i.first.type()!==S.External&&this._infeasibleRows.push(i.first)}this._objective.substitute(t,e),this._artificial&&this._artificial.substitute(t,e)},t.prototype._optimize=function(t){for(;;){var e=this._getEnteringSymbol(t);if(e.type()===S.Invalid)return;var n=this._getLeavingSymbol(e);if(n.type()===S.Invalid)throw new Error("the objective is unbounded");var r=this._rowMap.erase(n).second;r.solveForEx(n,e),this._substitute(e,r),this._rowMap.insert(e,r)}},t.prototype._dualOptimize=function(){for(var t=this._rowMap,e=this._infeasibleRows;0!==e.length;){var n=e.pop(),r=t.find(n);if(void 0!==r&&r.second.constant()<0){var o=this._getDualEnteringSymbol(r.second);if(o.type()===S.Invalid)throw new Error("dual optimize failed");var i=r.second;t.erase(n),i.solveForEx(n,o),this._substitute(o,i),t.insert(o,i)}}},t.prototype._getEnteringSymbol=function(t){for(var e=t.cells(),n=0,r=e.size();n<r;++n){var o=e.itemAt(n),i=o.first;if(o.second<0&&i.type()!==S.Dummy)return i}return z},t.prototype._getDualEnteringSymbol=function(t){for(var e=Number.MAX_VALUE,n=z,r=t.cells(),o=0,i=r.size();o<i;++o){var a=r.itemAt(o),u=a.first,s=a.second;if(s>0&&u.type()!==S.Dummy){var c=this._objective.coefficientFor(u)/s;c<e&&(e=c,n=u)}}return n},t.prototype._getLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,n=z,r=this._rowMap,o=0,i=r.size();o<i;++o){var a=r.itemAt(o),u=a.first;if(u.type()!==S.External){var s=a.second,c=s.coefficientFor(t);if(c<0){var f=-s.constant()/c;f<e&&(e=f,n=u)}}}return n},t.prototype._getMarkerLeavingSymbol=function(t){for(var e=Number.MAX_VALUE,n=e,r=e,o=z,i=o,a=o,u=o,s=this._rowMap,c=0,f=s.size();c<f;++c){var d=s.itemAt(c),h=d.second,p=h.coefficientFor(t);if(0!==p){var l=d.first;if(l.type()===S.External)u=l;else if(p<0){(v=-h.constant()/p)<n&&(n=v,i=l)}else{var v;(v=h.constant()/p)<r&&(r=v,a=l)}}}return i!==o?i:a!==o?a:u},t.prototype._removeConstraintEffects=function(t,e){e.marker.type()===S.Error&&this._removeMarkerEffects(e.marker,t.strength()),e.other.type()===S.Error&&this._removeMarkerEffects(e.other,t.strength())},t.prototype._removeMarkerEffects=function(t,e){var n=this._rowMap.find(t);void 0!==n?this._objective.insertRow(n.second,-e):this._objective.insertSymbol(t,-e)},t.prototype._anyPivotableSymbol=function(t){for(var e=t.cells(),n=0,r=e.size();n<r;++n){var o=e.itemAt(n),i=o.first.type();if(i===S.Slack||i===S.Error)return o.first}return z},t.prototype._makeSymbol=function(t){return new P(t,this._idTick++)},t}();function C(t){return t<0?-t<1e-8:t<1e-8}!function(t){t[t.Invalid=0]="Invalid",t[t.External=1]="External",t[t.Slack=2]="Slack",t[t.Error=3]="Error",t[t.Dummy=4]="Dummy"}(S||(S={}));var P=function(){function t(t,e){this._id=e,this._type=t}return t.prototype.id=function(){return this._id},t.prototype.type=function(){return this._type},t}(),z=new P(S.Invalid,-1),L=function(){function t(t){void 0===t&&(t=0),this._cellMap=m(),this._constant=t}return t.prototype.cells=function(){return this._cellMap},t.prototype.constant=function(){return this._constant},t.prototype.isConstant=function(){return this._cellMap.empty()},t.prototype.allDummies=function(){for(var t=this._cellMap,e=0,n=t.size();e<n;++e){if(t.itemAt(e).first.type()!==S.Dummy)return!1}return!0},t.prototype.copy=function(){var e=new t(this._constant);return e._cellMap=this._cellMap.copy(),e},t.prototype.add=function(t){return this._constant+=t},t.prototype.insertSymbol=function(t,e){void 0===e&&(e=1),C(this._cellMap.setDefault(t,(function(){return 0})).second+=e)&&this._cellMap.erase(t)},t.prototype.insertRow=function(t,e){void 0===e&&(e=1),this._constant+=t._constant*e;for(var n=t._cellMap,r=0,o=n.size();r<o;++r){var i=n.itemAt(r);this.insertSymbol(i.first,i.second*e)}},t.prototype.removeSymbol=function(t){this._cellMap.erase(t)},t.prototype.reverseSign=function(){this._constant=-this._constant;for(var t=this._cellMap,e=0,n=t.size();e<n;++e){var r=t.itemAt(e);r.second=-r.second}},t.prototype.solveFor=function(t){var e=this._cellMap,n=-1/e.erase(t).second;this._constant*=n;for(var r=0,o=e.size();r<o;++r)e.itemAt(r).second*=n},t.prototype.solveForEx=function(t,e){this.insertSymbol(t,-1),this.solveFor(e)},t.prototype.coefficientFor=function(t){var e=this._cellMap.find(t);return void 0!==e?e.second:0},t.prototype.substitute=function(t,e){var n=this._cellMap.erase(t);void 0!==n&&this.insertRow(e,n.second)},t}();const F=(t,e)=>{if("undefined"===typeof t.id)throw new Error("Object is missing property \'id\' required for key.");return t.id+"_"+e},R=(t,e)=>t-e,D=(t,e)=>t===e,T=(t,e)=>t>=e,B=(t,e=1,n=!1)=>n?V(t):U(t,e),U=(t,e)=>{for(let s=0;s<e;s+=1){var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){const t=i.value,e=(t.delta||R)(t.a[t.key],t.b[t.key],t),n=(t.distance||f)(t.a[t.key],t.b[t.key],t),r=t.target(t.a[t.key],t.b[t.key],t,e,n);if(!(t.operator||D)(n,r,e)){const n=(t.strength?t.strength(t):1)*(e-r);let o=t.weightA?t.weightA(t):1,i=t.weightB?t.weightB(t):1;o/=o+i,i=1-o,t.a[t.key]-=o*n,t.b[t.key]+=i*n}}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}}},V=t=>{const e=new I,n={};var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){const t=a.value;n[F(t.a,t.key)]=new w,n[F(t.b,t.key)]=new w}}catch(m){o=!0,i=m}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s,c=!0,f=!1,d=void 0;try{for(var h,p=t[Symbol.iterator]();!(c=(h=p.next()).done);c=!0){const t=h.value,r=n[F(t.a,t.key)].minus(n[F(t.b,t.key)]);t.constraint=new O(r,(s=t.operator||D)===D?N.Eq:s===T?N.Ge:void 0,t.target(),!0===t.required?M.required:M.strong),e.addConstraint(t.constraint)}}catch(m){f=!0,d=m}finally{try{c||null==p.return||p.return()}finally{if(f)throw d}}e.updateVariables();var l=!0,v=!1,y=void 0;try{for(var g,b=t[Symbol.iterator]();!(l=(g=b.next()).done);l=!0){const t=g.value;t.a[t.key]=n[F(t.a,t.key)].value(),t.b[t.key]=n[F(t.b,t.key)].value()}}catch(m){v=!0,y=m}finally{try{l||null==b.return||b.return()}finally{if(v)throw y}}},G=(t,e,n)=>{const r=q(t);let o=0;for(let h=0;h<r.length;h+=1){const t=r[h];o+=c(t*n,Math.round(.25*n));var i=!0,a=!1,u=void 0;try{for(var s,f=e[h+1][Symbol.iterator]();!(i=(s=f.next()).done);i=!0){s.value.y+=o}}catch(d){a=!0,u=d}finally{try{i||null==f.return||f.return()}finally{if(a)throw u}}}},q=t=>{const e={};var n=!0,r=!1,o=void 0;try{for(var i,a=t[Symbol.iterator]();!(n=(i=a.next()).done);n=!0){const t=i.value,n=Math.abs(d(t.targetNode,t.sourceNode)-s)/s,r=t.sourceNode.row,o=t.targetNode.row-1;e[r]=e[r]||[0,0],e[r][0]+=n,e[r][1]+=1,o!==r&&(e[o]=e[o]||[0,0],e[o][0]+=n,e[o][1]+=1)}}catch(u){r=!0,o=u}finally{try{n||null==a.return||a.return()}finally{if(r)throw o}}for(const s in e)e[s]=e[s][0]/(e[s][1]||1);return Object.values(e)},Y={layout:{spaceX:16,spaceY:110,layerSpaceY:55,basisX:1500,padding:100,iterations:20},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},X=(t,e,n,r=Y)=>{$(t,e),W(t,n),(({nodes:t,edges:e,layers:n,basisX:r,spaceX:o,spaceY:a,layerSpaceY:u,iterations:s})=>{const f=[],d=[],h=[],p=[],l=[],v=[],b=[];var m=!0,x=!1,_=void 0;try{for(var w,E=t[Symbol.iterator]();!(m=(w=E.next()).done);m=!0){const t=w.value;t.x=0,t.y=0}}catch($){x=!0,_=$}finally{try{m||null==E.return||E.return()}finally{if(x)throw _}}const j=e.map(t=>({a:t.targetNode,b:t.sourceNode,key:"y",operator:T,target:()=>a,weightA:()=>0,weightB:()=>1,required:!0}));if(n){const e=Object.values(n),r=.5*(a+u);let o=t.filter(t=>t.nearestLayer===e[0]);for(let n=0;n<e.length-1;n+=1){const i=e[n],a=e[n+1],u=t.filter(t=>t.nearestLayer===a),s={id:i,x:0,y:0};var k=!0,N=!1,M=void 0;try{for(var S,O=o[Symbol.iterator]();!(k=(S=O.next()).done);k=!0){const t=S.value;f.push({a:s,b:t,key:"y",operator:T,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch($){N=!0,M=$}finally{try{k||null==O.return||O.return()}finally{if(N)throw M}}var A=!0,I=!1,C=void 0;try{for(var P,z=u[Symbol.iterator]();!(A=(P=z.next()).done);A=!0){const t=P.value;f.push({a:t,b:s,key:"y",operator:T,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch($){I=!0,C=$}finally{try{A||null==z.return||z.return()}finally{if(I)throw C}}o=u}}B([...j,...f],1,!0);const L=y(t),F={basisX:r,key:"x",operator:(t,e,n)=>e>=0?n>=e:n<=e,target:(t,e,n)=>n.edgeA.sourceNode.x-n.edgeB.sourceNode.x+(n.edgeA.targetNode.x-n.edgeB.targetNode.x)<0?-n.basisX:n.basisX,strength:t=>1/t.basisX,weightA:()=>.5,weightB:()=>.5};for(let c=0;c<e.length;c+=1){const t=e[c];for(let n=c+1;n<e.length;n+=1){const r=e[n];t.source!==r.source&&d.push(i(i({},F),{},{a:t.sourceNode,b:r.sourceNode,edgeA:t,edgeB:r})),t.target!==r.target&&d.push(i(i({},F),{},{a:t.targetNode,b:r.targetNode,edgeA:t,edgeB:r}))}}var R=!0,U=!1,V=void 0;try{for(var q,Y=e[Symbol.iterator]();!(R=(q=Y.next()).done);R=!0){const t=q.value,e={a:t.sourceNode,b:t.targetNode,key:"x",operator:D,target:()=>0,strength:t=>1/Math.max(1,.5*(t.a.targets.length+t.b.sources.length)),weightA:()=>.5,weightB:()=>.5};h.push(e);const n=1===t.sourceNode.targets.length,r=1===t.targetNode.sources.length;(n||r)&&p.push(e),n&&r&&l.push(e)}}catch($){U=!0,V=$}finally{try{R||null==Y.return||Y.return()}finally{if(U)throw V}}const X=Math.ceil(.5*s);for(let i=0;i<s;i+=1){B(d,1),B(h,1),B(p,X),B(l,X),v.length=0;for(let t=0;t<L.length;t+=1){const e=L[t];e.sort((t,e)=>g(t.x,e.x,t.id,e.id));for(let t=0;t<e.length-1;t+=1)v.push({a:e[t],b:e[t+1],key:"x",operator:(t,e,n)=>n<=e,target:(t,e,n)=>-o-.5*n.a.width-.5*n.b.width,strength:()=>1,weightA:()=>.5,weightB:()=>.5})}B(v,X)}for(let i=0;i<L.length;i+=1){const t=L[i];for(let e=0;e<t.length-1;e+=1){const n=.8*(t[e+1].x-t[e].x),r=.5*t[e].width+o+.5*t[e+1].width,i=Math.max(c(n,o),r);b.push({a:t[e+1],b:t[e],key:"x",operator:T,target:()=>i,weightA:()=>0,weightB:()=>1,required:!0})}}B([...b,...h],1,!0),G(e,L,a)})(i({nodes:t,edges:e,layers:n},r.layout)),(({nodes:t,edges:e,spaceX:n,spaceY:r,minPassageGap:o,stemUnit:a,stemMinSource:u,stemMinTarget:s,stemMax:c,stemSpaceSource:m,stemSpaceTarget:x})=>{const _=y(t);var w=!0,E=!1,j=void 0;try{for(var k,N=t[Symbol.iterator]();!(w=(k=N.next()).done);w=!0){k.value.targets.sort((t,e)=>g(d(e.sourceNode,e.targetNode),d(t.sourceNode,t.targetNode)))}}catch(q){E=!0,j=q}finally{try{w||null==N.return||N.return()}finally{if(E)throw j}}var M=!0,S=!1,O=void 0;try{for(var A,I=e[Symbol.iterator]();!(M=(A=I.next()).done);M=!0){const t=A.value,e=t.sourceNode,a=t.targetNode;t.points=[];const u=Math.min((e.width-m)/e.targets.length,m),s=u*(e.targets.indexOf(t)-.5*(e.targets.length-1));let c={x:e.x+s,y:e.y};for(let d=e.row+1;d<a.row;d+=1){const e=_[d][0];let a={x:h(e)-n,y:e.y},u=1/0;const v=[i(i({},e),{},{x:Number.MIN_SAFE_INTEGER}),..._[d],i(i({},e),{},{x:Number.MAX_SAFE_INTEGER})];for(let t=0;t<v.length-1;t+=1){const e=v[t],i=v[t+1],s=h(i)-p(e);if(s<o)continue;const d=Math.min(n,.5*s),y=b(c.x,c.y,p(e)+d,l(e)-r,h(i)-d,l(i)-r),g=f(c.x,y.x);if(g>u)break;g<u&&(u=g,a=y)}const y=e.height+r;t.points.push({x:a.x+s,y:a.y}),t.points.push({x:a.x+s,y:a.y+y}),c={x:a.x,y:a.y+y}}}}catch(q){S=!0,O=q}finally{try{M||null==I.return||I.return()}finally{if(S)throw O}}var C=!0,P=!1,z=void 0;try{for(var L,F=t[Symbol.iterator]();!(C=(L=F.next()).done);C=!0){const t=L.value;t.targets.sort((t,e)=>g(d(e.sourceNode,e.points[0]||e.targetNode),d(t.sourceNode,t.points[0]||t.targetNode))),t.sources.sort((t,e)=>g(d(t.points[t.points.length-1]||t.sourceNode,t.targetNode),d(e.points[e.points.length-1]||e.sourceNode,e.targetNode)))}}catch(q){P=!0,z=q}finally{try{C||null==F.return||F.return()}finally{if(P)throw z}}var R=!0,D=!1,T=void 0;try{for(var B,U=e[Symbol.iterator]();!(R=(B=U.next()).done);R=!0){const t=B.value,e=t.sourceNode,n=t.targetNode,r=Math.min((e.width-m)/e.targets.length,m),o=Math.min((n.width-x)/n.sources.length,x),i=e.targets.indexOf(t)-.5*(e.targets.length-1),f=n.sources.indexOf(t)-.5*(n.sources.length-1),d=r*i,h=o*f,p=a*e.targets.length*(1-Math.abs(i)/e.targets.length),y=a*n.sources.length*(1-Math.abs(f)/n.sources.length),g=[{x:e.x+d,y:v(e)},{x:e.x+d,y:v(e)+u},{x:e.x+d,y:v(e)+u+Math.min(p,c)}],b=[{x:n.x+h,y:l(n)-s-Math.min(y,c)},{x:n.x+h,y:l(n)-s},{x:n.x+h,y:l(n)}],_=[...g,...t.points,...b];let w=_[0].y;for(var V=0,G=_;V<G.length;V++){const t=G[V];t.y<w?t.y=w:w=t.y}t.points=_}}catch(q){D=!0,T=q}finally{try{R||null==U.return||U.return()}finally{if(D)throw T}}})(i({nodes:t,edges:e,layers:n},r.routing));const o=tt(t,r.layout.padding);return t.forEach(t=>((t,e)=>(t.x=t.x-e.x,t.y=t.y-e.y,t.order=t.x+9999*t.y,t))(t,o.min)),e.forEach(t=>((t,e)=>(t.points.forEach(t=>{t.x=t.x-e.x,t.y=t.y-e.y}),t))(t,o.min)),{nodes:t,edges:e,layers:n,size:o}},$=(t,e)=>{const n={};var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){const t=a.value;n[t.id]=t,t.targets=[],t.sources=[]}}catch(p){o=!0,i=p}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}var s=!0,c=!1,f=void 0;try{for(var d,h=e[Symbol.iterator]();!(s=(d=h.next()).done);s=!0){const t=d.value;t.sourceNode=n[t.source],t.targetNode=n[t.target],t.sourceNode.targets.push(t),t.targetNode.sources.push(t)}}catch(p){c=!0,f=p}finally{try{s||null==h.return||h.return()}finally{if(c)throw f}}},W=(t,e)=>{if(e&&e.length>0){const c=e.reduce((t,e)=>i(i({},t),{},{[e]:!0}),{}),f=t=>Boolean(c[t.layer]);var n=!0,r=!1,o=void 0;try{for(var a,u=t[Symbol.iterator]();!(n=(a=u.next()).done);n=!0){const t=a.value,e=Z(t,J,H,f);t.nearestLayer=e&&e.layer}}catch(s){r=!0,o=s}finally{try{n||null==u.return||u.return()}finally{if(r)throw o}}}},J=t=>K(t).concat(Q(t)),K=t=>t.targets.map(t=>t.targetNode),Q=t=>t.sources.map(t=>t.sourceNode),H=(t,e)=>Math.abs(t.rank-e.rank),Z=(t,e,n,r,o)=>{if(r(t))return t;(o=o||{})[t.id]=!0;const i=e(t).filter(t=>!o[t.id]).sort((e,r)=>n(t,e)-n(t,r));return i.filter(r)[0]||i.map(t=>Z(t,e,n,r,o))[0]},tt=(t,e)=>{const n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}};var r=!0,o=!1,i=void 0;try{for(var a,u=t[Symbol.iterator]();!(r=(a=u.next()).done);r=!0){const t=a.value,e=t.x,r=t.y;e<n.min.x&&(n.min.x=e),e>n.max.x&&(n.max.x=e),r<n.min.y&&(n.min.y=r),r>n.max.y&&(n.max.y=r)}}catch(s){o=!0,i=s}finally{try{r||null==u.return||u.return()}finally{if(o)throw i}}return n.width=n.max.x-n.min.x+2*e,n.height=n.max.y-n.min.y+2*e,n.min.x-=e,n.min.y-=e,n},et=({nodes:t,edges:e,layers:n})=>{const r=X(t,e,n);return i(i({},r),{},{size:i(i({},r.size),{},{marginx:100,marginy:100}),newgraph:!0})},nt=({nodes:t,edges:e,layers:n})=>{const r=Boolean(n.length),o=(new u.a.graphlib.Graph).setGraph({ranker:r?"none":null,ranksep:r?200:70,marginx:40,marginy:40});return t.forEach(t=>{o.setNode(t.id,t)}),e.forEach(t=>{o.setEdge(t.source,t.target,t)}),u.a.layout(o),{nodes:o.nodes().map(t=>{const e=o.node(t);return i(i({},e),{},{order:e.x+9999*e.y})}),edges:o.edges().map(t=>o.edge(t)),size:o.graph(),newgraph:!1}};addEventListener("message",(function(t){var n,r=t.data,o=r.type,i=r.method,a=r.id,u=r.params;"RPC"===o&&i&&((n=e[i])?Promise.resolve().then((function(){return n.apply(e,u)})):Promise.reject("No such method")).then((function(t){postMessage({type:"RPC",id:a,result:t})})).catch((function(t){var e={message:t};t.stack&&(e.message=t.message,e.stack=t.stack,e.name=t.name),postMessage({type:"RPC",id:a,error:e})}))})),postMessage({type:"RPC",method:"ready"})}]);\n//# sourceMappingURL=a48df5ce533b9ddf6f78.worker.js.map'])),{name:"[hash].worker.js"});return r(e,o),e}},387:function(e,t,n){},388:function(e,t,n){},432:function(e,t,n){},438:function(e,t,n){},463:function(e,t,n){},464:function(e,t,n){},465:function(e,t,n){},466:function(e,t,n){},467:function(e,t,n){},468:function(e,t,n){},473:function(e,t,n){},474:function(e,t,n){},475:function(e,t,n){},477:function(e,t,n){},478:function(e,t,n){},486:function(e,t){},487:function(e,t,n){},488:function(e,t,n){"use strict";n.r(t);var r=n(28),o=n(0),a=n.n(o),i=n(194),s=n.n(i),c=(n(33),n(4)),u=n(32),l=n(196),d=n(197),f=n.n(d);function p(e){return{type:"TOGGLE_EXPORT_MODAL",visible:e}}function h(e){return{type:"UPDATE_ZOOM",zoom:e}}var g=function(e={},t){switch(t.type){case"TOGGLE_LAYERS":return Object.assign({},e,{visible:t.visible});default:return e}};function v(e){return{type:"TOGGLE_NODE_CLICKED",nodeClicked:e}}function m(e,t){return{type:"TOGGLE_NODES_DISABLED",nodeIDs:e,isDisabled:t}}function y(e){return{type:"TOGGLE_NODE_HOVERED",nodeHovered:e}}var _=function(e={},t){const n=t=>Object.assign({},e,t);switch(t.type){case"TOGGLE_NODE_CLICKED":return n({clicked:t.nodeClicked});case"TOGGLE_NODES_DISABLED":return n({clicked:t.nodeIDs.includes(e.clicked)?null:e.clicked,disabled:t.nodeIDs.reduce((e,n)=>Object.assign({},e,{[n]:t.isDisabled}),e.disabled)});case"TOGGLE_NODE_HOVERED":return n({hovered:t.nodeHovered});case"UPDATE_ACTIVE_PIPELINE":return n({clicked:null,hovered:null});default:return e}};var b=function(e={},t){const n=t=>Object.assign({},e,t);switch(t.type){case"TOGGLE_TAG_ACTIVE":return n({active:Object.assign({},e.active,{[t.tagID]:t.active})});case"TOGGLE_TAG_FILTER":return n({enabled:Object.assign({},e.enabled,{[t.tagID]:t.enabled})});default:return e}};var w=function(e={},t){switch(t.type){case"TOGGLE_TYPE_DISABLED":return Object.assign({},e,{disabled:Object.assign({},e.disabled,{[t.typeID]:t.disabled})});default:return e}};var x=function(e={},t){switch(t.type){case"TOGGLE_EXPORT_MODAL":return Object.assign({},e,{exportModal:t.visible});case"TOGGLE_LAYERS":return Object.assign({},e,{layers:t.visible});case"TOGGLE_SIDEBAR":return Object.assign({},e,{sidebar:t.visible});case"TOGGLE_MINIMAP":return Object.assign({},e,{miniMap:t.visible});default:return e}};var E=function(e={},t){switch(t.type){case"UPDATE_ACTIVE_PIPELINE":return Object.assign({},e,{active:t.pipeline});default:return e}};var k=function(e={},t){switch(t.type){case"CHANGE_FLAG":return Object.assign({},e,{[t.name]:t.value});default:return e}},N=n(119),j=n.n(N),O=n(198);const S="undefined"!==typeof jest,M=n(S?489:384),T=(L=M,S?()=>{const e={terminate:()=>{}};return Object.keys(L).forEach(t=>{e[t]=e=>new Promise(n=>n(L[t](e)))}),e}:L);var L;function A(e){return{type:"TOGGLE_GRAPH_LOADING",loading:e}}function I(e){return{type:"UPDATE_GRAPH_LAYOUT",graph:e}}const R=function(e,t){let n=e(),r=!1;return o=>(r&&(n.terminate(),n=e()),r=!0,t(n,o).then(e=>(r=!1,e)))}(T,(e,t)=>t.newgraph?e.graphNew(t):e.graphDagre(t));var C=function(e={},t){const n=t=>Object.assign({},e,t);switch(t.type){case"TOGGLE_GRAPH_LOADING":return n({loading:t.loading});case"UPDATE_GRAPH_LAYOUT":return n(t.graph);default:return e}};const P=(e,t,n)=>(r=e,o)=>"undefined"!==typeof n&&o.type===t?o[n]:r;const z=Object(u.c)({flags:k,graph:C,layer:g,node:_,nodeType:w,pipeline:E,tag:b,visible:x,edge:P({}),id:P(null),chartSize:P({},"UPDATE_CHART_SIZE","chartSize"),zoom:P({},"UPDATE_ZOOM","zoom"),fontLoaded:P(!1,"UPDATE_FONT_LOADED","fontLoaded"),textLabels:P(!0,"TOGGLE_TEXT_LABELS","textLabels"),theme:P("dark","TOGGLE_THEME","theme")});var D=(e,t)=>function(e={},t){return"RESET_DATA"===t.type?Object.assign({},e,t.data):e}(z(e,t),t),B=n(2),G=n(1),F=n(494);const U=(e,t)=>{const n={};return e.forEach(e=>{n[e]=t(e)}),n},V=(e,t,n)=>n.indexOf(e)===t,q=e=>e.node.ids,W=Object(G.a)([q,e=>e.node.pipelines,e=>e.pipeline.active],(e,t,n)=>U(e,e=>!!n&&!t[e][n])),H=Object(G.a)([q,W],(e,t)=>e.filter(e=>!t[e])),Y=Object(G.a)([H,e=>e.node.tags],(e,t)=>{const n={};return e.forEach(e=>{t[e].forEach(e=>{n[e]||(n[e]=!0)})}),Object.keys(n)}),X=e=>e.tag.enabled,Z=Object(G.a)([Y,e=>e.tag.name,e=>e.tag.active,X],(e,t,n,r)=>e.sort().map(e=>({id:e,name:t[e],active:Boolean(n[e]),enabled:Boolean(r[e])}))),K=Object(G.a)([Y,X],(e,t)=>({total:e.length,enabled:e.filter(e=>t[e]).length})),$=e=>e.node.ids,J=Object(G.a)([$,e=>e.tag.enabled,K,e=>e.node.tags],(e,t,n,r)=>U(e,e=>0!==n.enabled&&(!r[e].length||!r[e].some(e=>t[e])))),Q=Object(G.a)([$,e=>e.node.disabled,J,W,e=>e.node.type,e=>e.nodeType.disabled],(e,t,n,r,o,a)=>U(e,e=>[t[e],n[e],r[e],a[o[e]]].some(Boolean))),ee=Object(G.a)([H,Q],(e,t)=>e.filter(e=>!t[e])),te=Object(G.a)([ee,e=>e.node.layer,e=>e.layer.ids,e=>e.layer.visible],(e,t,n,r)=>{if(!r)return[];const o={};var a=!0,i=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){const e=c.value;o[t[e]]=!0}}catch(l){i=!0,s=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}return n.filter(e=>o[e])}),ne=Object(G.a)([e=>e.edge.ids,Q,e=>e.edge.sources,e=>e.edge.targets],(e,t,n,r)=>U(e,e=>{const o=n[e],a=r[e];return Boolean(t[o]||t[a])}));var re=n(75),oe=n.n(re);const ae=e=>e.edge.ids,ie=e=>e.edge.sources,se=e=>e.edge.targets,ce=Object(G.a)([e=>e.node.ids,ae,Q,ie,se],(e,t,n,r,o)=>{const a={edgeIDs:[],sources:{},targets:{}},i=e=>{t.forEach(t=>{const s=e[e.length-1];if(r[t]!==s)return;const c=o[t];n[c]?i(e.concat(c)):e.length>1&&((e,t,{edgeIDs:n,sources:r,targets:o})=>{const a=[e,t].join("|");n.includes(a)||(n.push(a),r[a]=e,o[a]=t)})(e[0],c,a)})};return e.some(e=>n[e])&&e.forEach(e=>{n[e]||i([e])}),a}),ue=Object(G.a)([ae,ne,ie,se,ce],(e,t,n,r,o)=>e.filter(e=>!t[e]).concat(o.edgeIDs).map(e=>({id:e,source:n[e]||o.sources[e],target:r[e]||o.targets[e]}))),le=Object(G.a)([ee,te,e=>e.node.layer],(e,t,n)=>{if(!t.length)return[];const r={};var o=!0,a=!1,i=void 0;try{for(var s,c=e[Symbol.iterator]();!(o=(s=c.next()).done);o=!0){const e=s.value,t=n[e];r[t]||(r[t]=[]),r[t].push(e)}}catch(u){a=!0,i=u}finally{try{o||null==c.return||c.return()}finally{if(a)throw i}}return t.map(e=>r[e])}),de=Object(G.a)([ee,ue,le,te],(e,t,n,r)=>{if(!r.length)return{};const o={};var a=!0,i=!1,s=void 0;try{for(var c,u=e[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){o[c.value]=[]}}catch(A){i=!0,s=A}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}var l=!0,d=!1,f=void 0;try{for(var p,h=t[Symbol.iterator]();!(l=(p=h.next()).done);l=!0){const e=p.value;o[e.source].push(e.target)}}catch(A){d=!0,f=A}finally{try{l||null==h.return||h.return()}finally{if(d)throw f}}for(let I=1;I<n.length;I++){var g=!0,v=!1,m=void 0;try{for(var y,_=n[I-1][Symbol.iterator]();!(g=(y=_.next()).done);g=!0){const e=y.value;var b=!0,w=!1,x=void 0;try{for(var E,k=n[I][Symbol.iterator]();!(b=(E=k.next()).done);b=!0){const t=E.value;o[e].push(t)}}catch(A){w=!0,x=A}finally{try{b||null==k.return||k.return()}finally{if(w)throw x}}}}catch(A){v=!0,m=A}finally{try{g||null==_.return||_.return()}finally{if(v)throw m}}}const N=oe()(o),j={};for(let I=0;I<N.length;I++){var O=!0,S=!1,M=void 0;try{for(var T,L=N[I][Symbol.iterator]();!(O=(T=L.next()).done);O=!0){j[T.value]=I}}catch(A){S=!0,M=A}finally{try{O||null==L.return||L.return()}finally{if(S)throw M}}}return j}),fe=e=>e.node.name,pe=e=>e.node.type,he=e=>e.fontLoaded,ge=Object(G.a)([H,e=>e.node.hovered,e=>e.node.tags,e=>e.tag.active],(e,t,n,r)=>U(e,e=>{if(e===t)return!0;const o=n[e].some(e=>r[e]);return Boolean(o)})),ve=Object(G.a)([H,e=>e.node.clicked,Q],(e,t,n)=>U(e,e=>e===t&&!n[e])),me=Object(G.a)([H,fe,pe,Q,e=>e.node.disabled,J,e=>e.nodeType.disabled],(e,t,n,r,o,a,i)=>e.sort((e,n)=>t[e]<t[n]?-1:t[e]>t[n]?1:0).map(e=>({id:e,name:t[e],type:n[e],disabled:r[e],disabled_node:Boolean(o[e]),disabled_tag:a[e],disabled_type:Boolean(i[n[e]])}))),ye=Object(G.a)([me],e=>e.reduce((function(e,t){const n=t.type;return e.hasOwnProperty(n)||(e[n]=[]),e[n].push(t),e}),{})),_e=Object(G.a)([H,fe,he],(e,t,n)=>{if(!n)return{};const r={},o=Object(F.a)(document.body).append("svg").attr("class","kedro pipeline-node");return o.selectAll("text").data(e).enter().append("text").text(e=>t[e]).each((function(e){const t=this.getBBox?this.getBBox().width:0;r[e]=t})),o.remove(),r}),be=Object(G.a)([H,_e,e=>e.textLabels,pe,he],(e,t,n,r,o)=>o?U(e,e=>{const o=n?24:28,a=(i=n,s="task"===r[e],i?s?{x:16,y:10}:{x:20,y:10}:s?{x:14,y:14}:{x:16,y:16});var i,s;const c=n?t[e]:0,u=o+c+(n?6:0);return{width:u+2*a.x,height:o+2*a.y,textOffset:(u-c)/2,iconOffset:-u/2,iconSize:o}}):{}),we=Object(G.a)([ee,fe,pe,e=>e.node.fullName,be,e=>e.node.layer,de,he],(e,t,n,r,o,a,i,s)=>s?e.map(e=>Object(B.a)({id:e,name:t[e],label:t[e],fullName:r[e],type:n[e],layer:a[e],rank:i[e]},o[e])):[]),xe="/public".concat("./api/main".substr(1)),Ee=400,ke=60,Ne={newgraph:{description:"Improved graphing algorithm",default:!1,icon:"\ud83d\udcc8"},pipelines:{description:"Select from multiple pipelines",default:!1,icon:"\ud83d\udd00"}},je=Object(G.a)([we,ue,te,e=>e.flags.newgraph,e=>e.fontLoaded],(e,t,n,r,o)=>o?{nodes:e,edges:t,layers:n,newgraph:r,fontLoaded:o}:null),Oe=Object(G.a)([e=>e.visible.sidebar,e=>e.chartSize],(e,t)=>{const n=t.left,r=t.top,o=t.width,a=t.height;if(!o||!a)return{};const i=((e,t)=>e&&t>700?Ee:ke)(e,o);return{left:n,top:r,outerWidth:o,outerHeight:a,width:o-i,height:a,sidebarWidth:i}}),Se=Object(G.a)([e=>e.zoom],e=>Object(B.a)({},e)),Me="undefined"===typeof window,Te=()=>{if(Me)return{};try{const e=window.localStorage.getItem("KedroViz");return null===e?{}:JSON.parse(e)}catch(e){return console.error(e),{}}},Le=e=>{if(!Me)try{const t=Object.assign(Te(),e);t.hasOwnProperty("nodeTypeDisabled")&&delete t.nodeTypeDisabled;const n=JSON.stringify(t);window.localStorage.setItem("KedroViz",n)}catch(t){console.error(t)}},Ae=e=>{const t={};for(let n in e)e.hasOwnProperty(n)&&e[n]&&(t[n]=e[n]);return t},Ie=e=>{const t=f()(()=>je(e.getState()));e.subscribe(t(t=>{var n;e.dispatch((n=t)?function(){var e=Object(O.a)(j.a.mark((function e(t){var r;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t(A(!0)),e.next=3,R(n);case 3:return r=e.sent,t(A(!1)),e.abrupt("return",t(I(r)));case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}():I(n))}))};function Re(e){const t=Object(u.d)(D,e,Object(u.a)(l.a));return Ie(t),t.subscribe(()=>{var e;e=t.getState(),Le({node:{disabled:Ae(e.node.disabled)},nodeType:{disabled:e.nodeType.disabled},pipeline:{active:e.pipeline.active},layer:{visible:e.layer.visible},textLabels:e.textLabels,theme:e.theme,visible:e.visible,flag:e.flags})}),t}var Ce=()=>new Promise(e=>{const t=document.fonts,n="10px Titillium Web";if(!Boolean(t&&t.check))return void e();const r=()=>{t.check(n)&&setTimeout(e,100)},o=()=>{performance.now()>8e3?e():t.check(n)?setTimeout(e,100):requestAnimationFrame(o)};t.check(n)?e():(t.ready&&t.ready.then(r),t.onloadingdone=r,requestAnimationFrame(o))}),Pe=n(3),ze=n.n(Pe),De=(n(27),n(79)),Be=n(497),Ge=n(13);const Fe=Object(G.a)([e=>e.graph,te,e=>e.layer.name],({nodes:e,size:t},n,r)=>{if(!e||!t||!e.length||!n.length)return[];const o=t.width,a=t.height,i={};var s=!0,c=!1,u=void 0;try{for(var l,d=e[Symbol.iterator]();!(s=(l=d.next()).done);s=!0){const e=l.value,t=e.nearestLayer||e.layer;if(t){const n=i[t]||(i[t]=[1/0,-1/0]);e.y-e.height<n[0]&&(n[0]=e.y-e.height),e.y+e.height>n[1]&&(n[1]=e.y+e.height)}}}catch(f){c=!0,u=f}finally{try{s||null==d.return||d.return()}finally{if(c)throw u}}return n.map((e,t)=>{const s=i[e]||[0,0],c=i[n[t-1]]||[s[0],s[0]],u=i[n[t+1]]||[s[1],s[1]],l=(c[1]+s[0])/2,d=(s[1]+u[0])/2,f=5*Math.max(o,a);return{id:e,name:r[e],x:(f-o)/-2,y:l,width:f,height:Math.max(d-l,0)}})}),Ue=Object(G.a)([e=>e.node.clicked,e=>e.node.hovered],(e,t)=>e||t),Ve=Object(G.a)([ue],e=>{const t={},n={};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value;t[e.target]||(t[e.target]=[]),t[e.target].push(e.source),n[e.source]||(n[e.source]=[]),n[e.source].push(e.target)}}catch(c){o=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return{sourceEdges:t,targetEdges:n}}),qe=(e,t,n)=>(n[e]||(n[e]=!0,t[e]&&t[e].forEach(e=>qe(e,t,n))),n),We=Object(G.a)([Ve,Ue],({sourceEdges:e,targetEdges:t},n)=>{if(!n)return{};const r={};return qe(n,e,r),r[n]=!1,qe(n,t,r),r});var He=n(203),Ye=n(498),Xe=n(495);const Ze={data:["M6 7.5C6 5.5 8.7 4 12 4c3.2 0 5.9 1.5 6 3.3V17c0 .2 0 .4-.2.6-1.1 1.6-3 2.3-5.8 2.3s-4.7-.7-5.8-2.3A1 1 0 016 17V7.5zm6 8c-1.6 0-3-.4-4-1v2.2c.7.8 2 1.2 4 1.2s3.3-.4 4-1.2v-2.2c-1 .6-2.4 1-4 1zm0-4.5c-1.5 0-3-.3-4-.9v1.6c.8 1.2 2 1.7 4 1.7s3.3-.5 4-1.7v-1.6c-1 .6-2.5.9-4 .9zm0-5c-1.3 0-2.4.3-3.2.8-.6.3-.8.6-.8.7s.2.4.8.7c.8.5 2 .8 3.2.8s2.4-.3 3.2-.8c.6-.3.8-.6.8-.7s-.2-.4-.8-.7c-.8-.5-2-.8-3.2-.8z"],task:["M19.46 4.3l.18.14-1.28 1.54c-2.06-1.71-3.52-1.1-4.55 2.52H16v2h-2.66c-.09.43-.17.89-.25 1.37l-.1.68c-1.2 8.23-4.11 11.46-8.41 8.34l-.19-.14 1.22-1.59c2.58 1.97 4.25.32 5.3-6.22l.1-.68.3-1.76H8v-2h3.78c1.48-5.36 4.12-7.04 7.68-4.2z"],parameters:["M8 14v1.5h13v2H8V19H6v-1.5H4v-2h2V14z","M18.5 5v1.5H21v2h-2.5V10h-2V8.5H4v-2h12.5V5z"]};var Ke=({className:e,type:t})=>a.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},Ze[t].map(e=>a.a.createElement("path",{key:e,d:e}))),$e=e=>{const t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=Object(F.a)(t).attr("class","pipeline-node__icon").attr("viewBox","0 0 24 24");return Ze[e.type].forEach(e=>{n.append("path").attr("d",e)}),t};const Je=function(){const e=this.props.layers;this.el.layers=this.el.layerGroup.selectAll(".pipeline-layer").data(e,e=>e.id);const t=this.el.layers.enter().append("rect").attr("class","pipeline-layer");this.el.layers.exit().remove(),this.el.layers=this.el.layers.merge(t),this.el.layers.attr("x",e=>e.x).attr("y",e=>e.y).attr("height",e=>e.height).attr("width",e=>e.width)},Qe=function(){const e=this.props,t=e.chartSize.sidebarWidth,n=void 0===t?0:t,r=e.layers;this.el.layerNameGroup.transition("layer-names-sidebar-width").duration(this.DURATION).style("transform","translateX(".concat(n,"px)")),this.el.layerNames=this.el.layerNameGroup.selectAll(".pipeline-layer-name").data(r,e=>e.id);const o=this.el.layerNames.enter().append("li").attr("class","pipeline-layer-name").style("opacity",0).transition("enter-layer-names").duration(this.DURATION).style("opacity",1);this.el.layerNames.exit().style("opacity",1).transition("exit-layer-names").duration(this.DURATION).style("opacity",0).remove(),this.el.layerNames=this.el.layerNames.merge(o),this.el.layerNames.text(e=>e.name).attr("dy",5)},et=function(){const e=this.props,t=e.centralNode,n=e.linkedNodes,r=e.nodeActive,o=e.nodeSelected,a=e.nodes,i=e.textLabels;this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-node").data(a,e=>e.id);const s=this.el.nodes.enter().append("g").attr("tabindex","0").attr("class","pipeline-node");s.attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).attr("opacity",0),s.append("rect"),s.append($e),s.append("text").text(e=>e.name).attr("text-anchor","middle").attr("dy",5).attr("dx",e=>e.textOffset),this.el.nodes.exit().transition("exit-nodes").duration(this.DURATION).attr("opacity",0).remove(),this.el.nodes=this.el.nodes.merge(s).attr("data-id",e=>e.id).classed("pipeline-node--parameters",e=>"parameters"===e.type).classed("pipeline-node--data",e=>"data"===e.type).classed("pipeline-node--task",e=>"task"===e.type).classed("pipeline-node--icon",!i).classed("pipeline-node--text",i).classed("pipeline-node--active",e=>r[e.id]).classed("pipeline-node--selected",e=>o[e.id]).classed("pipeline-node--faded",e=>t&&!n[e.id]).on("click",this.handleNodeClick).on("mouseover",this.handleNodeMouseOver).on("mouseout",this.handleNodeMouseOut).on("focus",this.handleNodeMouseOver).on("blur",this.handleNodeMouseOut).on("keydown",this.handleNodeKeyDown),this.el.nodes.transition("update-nodes").duration(this.DURATION).attr("opacity",1).attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).end().catch(()=>{}).finally(()=>{this.el.nodes.sort((e,t)=>e.order-t.order)}),this.el.nodes.select("rect").attr("width",e=>e.width-5).attr("height",e=>e.height-5).attr("x",e=>(e.width-5)/-2).attr("y",e=>(e.height-5)/-2).attr("rx",e=>"task"===e.type?0:e.height/2),this.el.nodes.select(".pipeline-node__icon").transition("node-icon-offset").duration(150).attr("width",e=>e.iconSize).attr("height",e=>e.iconSize).attr("x",e=>e.iconOffset).attr("y",e=>e.iconSize/-2)},tt=function(){const e=this.props,t=e.edges,n=e.centralNode,r=e.linkedNodes;this.el.edges=this.el.edgeGroup.selectAll(".pipeline-edge").data(t,e=>e.id);const o=Object(Ye.a)().x(e=>e.x).y(e=>e.y).curve(Xe.a),a=this.el.edges.enter().append("g").attr("class","pipeline-edge").attr("opacity",0);a.append("path").attr("marker-end",e=>"url(#pipeline-arrowhead)"),this.el.edges.exit().transition("exit-edges").duration(this.DURATION).attr("opacity",0).remove(),this.el.edges=this.el.edges.merge(a),this.el.edges.attr("data-id",e=>e.id).classed("pipeline-edge--faded",({source:e,target:t})=>n&&(!r[e]||!r[t])).transition("show-edges").duration(this.DURATION).attr("opacity",1),this.el.edges.select("path").transition("update-edges").duration(this.DURATION).attrTween("d",(function(e){const t=e.points&&o(e.points),n=Object(F.a)(this).attr("d")||t;return Object(He.interpolatePath)(n,t)}))};n(387);const nt=String.fromCharCode(8203),rt=({chartSize:e,targetRect:t,visible:n,text:r})=>{const o=e.left,i=e.top,s=e.width,c=e.height,u=e.outerWidth,l=e.sidebarWidth,d=t.left-l>s/2,f=t.top<c/2,p=d?t.left-u:t.left,h=f?t.top+t.height:t.top,g=p-o+t.width/2,v=h-i;return a.a.createElement("div",{className:ze()("pipeline-tooltip",{"pipeline-tooltip--visible":n,"pipeline-tooltip--right":d,"pipeline-tooltip--top":f}),style:{transform:"translate(".concat(g,"px, ").concat(v,"px)")}},a.a.createElement("div",{className:"pipeline-tooltip__text"},(e=>e.replace(/([^\w\s]|[_])/g,"".concat(nt,"$1").concat(nt)))(r)))};rt.defaultProps={chartSize:{},targetRect:{},visible:!1,text:""};var ot=rt;n(388);class at extends o.Component{constructor(e){super(e),this.handleWindowResize=()=>{this.updateChartSize()},this.handleBeforePrint=()=>{const e=this.props.graphSize,t=e.width+2*e.marginx,n=e.height+2*e.marginy;this.el.svg.attr("viewBox","0 0 ".concat(t," ").concat(n))},this.handleAfterPrint=()=>{this.el.svg.attr("viewBox",null)},this.handleNodeClick=e=>{this.props.onToggleNodeClicked(e.id),De.c.stopPropagation()},this.handleChartClick=()=>{this.props.onToggleNodeClicked(null)},this.handleNodeMouseOver=e=>{this.props.onToggleNodeHovered(e.id),this.showTooltip(e)},this.handleNodeMouseOut=()=>{this.props.onToggleNodeHovered(null),this.hideTooltip()},this.handleNodeKeyDown=e=>{13===De.c.keyCode&&this.handleNodeClick(e),27===De.c.keyCode&&(this.handleChartClick(),this.handleNodeMouseOut(e))},this.state={tooltip:{visible:!1}},this.DURATION=700,this.containerRef=a.a.createRef(),this.svgRef=a.a.createRef(),this.wrapperRef=a.a.createRef(),this.edgesRef=a.a.createRef(),this.nodesRef=a.a.createRef(),this.layersRef=a.a.createRef(),this.layerNamesRef=a.a.createRef()}componentDidMount(){this.selectD3Elements(),this.updateChartSize(),this.initZoomBehaviour(),this.addGlobalEventListeners(),this.update(),this.props.tooltip?this.showTooltip(null,this.props.tooltip):this.hideTooltip()}componentWillUnmount(){this.removeGlobalEventListeners()}componentDidUpdate(e){this.update(e)}update(e={}){const t=this.props.chartZoom,n=(...t)=>this.changed(t,e,this.props);n("visibleSidebar")&&this.updateChartSize(),n("layers","chartSize")&&(Je.call(this),Qe.call(this)),n("edges","centralNode","linkedNodes")&&tt.call(this),n("nodes","centralNode","linkedNodes","nodeActive","nodeSelected","textLabels")&&et.call(this),n("edges","nodes","layers","textLabels","chartSize")?this.zoomToFit():this.updateZoom(t)}changed(e,t,n){return t&&n&&e.some(e=>t[e]!==n[e])}selectD3Elements(){this.el={svg:Object(F.a)(this.svgRef.current),wrapper:Object(F.a)(this.wrapperRef.current),edgeGroup:Object(F.a)(this.edgesRef.current),nodeGroup:Object(F.a)(this.nodesRef.current),layerGroup:Object(F.a)(this.layersRef.current),layerNameGroup:Object(F.a)(this.layerNamesRef.current)}}updateChartSize(){this.props.onUpdateChartSize(this.containerRef.current.getBoundingClientRect())}addGlobalEventListeners(){window.ResizeObserver?(this.resizeObserver=this.resizeObserver||new window.ResizeObserver(this.handleWindowResize),this.resizeObserver.observe(this.containerRef.current)):window.addEventListener("resize",this.handleWindowResize),window.addEventListener("beforeprint",this.handleBeforePrint),window.addEventListener("afterprint",this.handleAfterPrint)}removeGlobalEventListeners(){window.ResizeObserver?this.resizeObserver.unobserve(this.containerRef.current):window.removeEventListener("resize",this.handleWindowResize),window.removeEventListener("beforeprint",this.handleBeforePrint),window.removeEventListener("afterprint",this.handleAfterPrint)}initZoomBehaviour(){this.zoomBehaviour=Object(Ge.a)().interpolate(Be.a).on("zoom",()=>{const e=De.c.transform,t=e.k,n=e.x,o=e.y,a=this.zoomBehaviour.scaleExtent(),i=Object(r.a)(a,2),s=i[0],c=void 0===s?0:s,u=i[1],l=void 0===u?1/0:u,d=this.props.chartSize.sidebarWidth,f=this.props.graphSize,p=f.width,h=void 0===p?0:p,g=f.height,v=void 0===g?0:g;this.zoomBehaviour.translateExtent([[-d/t-500,-500],[h+500,v+500]]),this.el.wrapper.attr("transform",De.c.transform),this.el.layerNames&&this.el.layerNames.style("transform",e=>{const n=o+(e.y+e.height/2)*t;return"translateY(".concat(n,"px)")}),this.hideTooltip(),this.props.onUpdateZoom({scale:t,x:n,y:o,applied:!0,transition:!1,minScale:c,maxScale:l})}),this.el.svg.call(this.zoomBehaviour)}updateZoom(e){if(e.applied)return;if(!0===e.reset)return void this.zoomToFit();const t=this.zoomBehaviour,n=Object(Ge.c)(this.wrapperRef.current),r=n.k,o=void 0===r?1:r,a=e.scale,i=void 0===a?o:a,s=e.x,c=e.y,u=e.transition||"undefined"===typeof e.transition;if("undefined"!==typeof s&&"undefined"!==typeof c?this.el.svg.call(t.transform,Ge.b).call(t.translateTo,s,c).call(t.scaleTo,i):this.el.svg.call(t.scaleTo,i),u){const e=Object(Ge.c)(this.wrapperRef.current);this.el.svg.call(t.transform,n).transition("zoom").duration(200).call(t.transform,e)}}zoomToFit(){const e=this.props,t=e.chartSize,n=e.graphSize;let r=1,o=0,a=0;t.width>0&&n.width>0&&(r=Math.min(t.width/n.width,t.height/n.height),o=(t.width-n.width*r)/2+t.sidebarWidth,a=(t.height-n.height*r)/2),this.zoomBehaviour.scaleExtent([.8*r,2]);const i=Ge.b.translate(o,a).scale(r),s=Object(Ge.c)(this.wrapperRef.current),c=s.k,u=void 0===c?1:c,l=s.x,d=void 0===l?0:l,f=s.y;"undefined"===typeof jest&&(1===u&&0===d&&0===(void 0===f?0:f)?this.el.svg:this.el.svg.transition("zoom").duration(this.DURATION)).call(this.zoomBehaviour.transform,i)}showTooltip(e,t={}){this.setState({tooltip:Object(B.a)({targetRect:De.c&&De.c.target.getBoundingClientRect(),text:e&&e.fullName,visible:!0},t)})}hideTooltip(){this.state.tooltip.visible&&this.setState({tooltip:Object(B.a)(Object(B.a)({},this.state.tooltip),{},{visible:!1})})}render(){const e=this.props,t=e.chartSize,n=e.layers,r=t.outerWidth,o=void 0===r?0:r,i=t.outerHeight,s=void 0===i?0:i;return a.a.createElement("div",{className:"pipeline-flowchart kedro",ref:this.containerRef,onClick:this.handleChartClick},a.a.createElement("svg",{id:"pipeline-graph",className:"pipeline-flowchart__graph",width:o,height:s,ref:this.svgRef},a.a.createElement("defs",null,a.a.createElement("marker",{id:"pipeline-arrowhead",className:"pipeline-flowchart__arrowhead",viewBox:"0 0 10 10",refX:"7",refY:"5",markerUnits:"strokeWidth",markerWidth:"8",markerHeight:"6",orient:"auto"},a.a.createElement("path",{d:"M 0 0 L 10 5 L 0 10 L 4 5 z"}))),a.a.createElement("g",{id:"zoom-wrapper",ref:this.wrapperRef},a.a.createElement("g",{className:"pipeline-flowchart__layers",ref:this.layersRef}),a.a.createElement("g",{className:"pipeline-flowchart__edges",ref:this.edgesRef}),a.a.createElement("g",{id:"nodes",className:"pipeline-flowchart__nodes",ref:this.nodesRef}))),a.a.createElement("ul",{className:ze()("pipeline-flowchart__layer-names",{"pipeline-flowchart__layer-names--visible":n.length}),ref:this.layerNamesRef}),a.a.createElement(ot,Object.assign({chartSize:t},this.state.tooltip)))}}const it=[],st=[],ct={};var ut=Object(c.b)((e,t)=>Object(B.a)({centralNode:Ue(e),chartSize:Oe(e),chartZoom:Se(e),edges:e.graph.edges||it,graphSize:e.graph.size||ct,layers:Fe(e),linkedNodes:We(e),nodes:e.graph.nodes||st,nodeActive:ge(e),nodeSelected:ve(e),textLabels:e.textLabels,visibleSidebar:e.visible.sidebar},t),(e,t)=>Object(B.a)({onToggleNodeClicked:t=>{e(v(t))},onToggleNodeHovered:t=>{e(y(t))},onUpdateChartSize:t=>{e(function(e){return{type:"UPDATE_CHART_SIZE",chartSize:e}}(t))},onUpdateZoom:t=>{e(h(t))}},t))(at),lt=n(80),dt=n.n(lt),ft=n(204),pt=n.n(ft);n(432);var ht=Object(c.b)(e=>({pipeline:e.pipeline,theme:e.theme}),e=>({onUpdateActivePipeline:t=>{e({type:"UPDATE_ACTIVE_PIPELINE",pipeline:t.value})}}))(({onUpdateActivePipeline:e,pipeline:t,theme:n})=>t.ids.length?a.a.createElement("div",{className:"pipeline-list"},a.a.createElement(dt.a,{theme:n,width:null,onChanged:e,defaultText:t.name[t.active]},t.ids.map(e=>a.a.createElement(pt.a,{key:"pipeline-".concat(e),value:e,primaryText:t.name[e]})))):null),gt=n(205),vt=n.n(gt);n(192),n(438);var mt=Object(c.b)(e=>{const t=Z(e);return{tagCount:K(e),tags:t,theme:e.theme}},e=>({onToggleTagActive:(t,n)=>{e(function(e,t){return{type:"TOGGLE_TAG_ACTIVE",tagID:e,active:t}}(t,n))},onToggleTagFilter:(t,n)=>{e(function(e,t){return{type:"TOGGLE_TAG_FILTER",tagID:e,enabled:t}}(t,n))}}))(({tagCount:e,onToggleTagActive:t,onToggleTagFilter:n,tags:r,theme:o})=>a.a.createElement("div",{className:"pipeline-tags"},a.a.createElement(dt.a,{theme:o,width:null,defaultText:"Tag filters (".concat(e.enabled,"/").concat(e.total,")")},a.a.createElement(a.a.Fragment,null,e.total>0?a.a.createElement("ul",{className:"pipeline-tags__tag-list"},r.map(e=>a.a.createElement("li",{key:"tag-".concat(e.id),title:e.name,className:"pipeline-tags__tag-list-item kui-menu-option",onMouseEnter:()=>t(e.id,!0),onMouseLeave:()=>t(e.id,!1)},a.a.createElement(vt.a,{checked:e.enabled,label:a.a.createElement("span",null,e.name),name:e.id,onChange:(t,{checked:r})=>n(e.id,r),theme:o})))):a.a.createElement("div",{className:"pipeline-tags__empty kui-menu-option"},"There are no tags used in this pipeline."))))),yt=n(206),_t=n(26),bt=n.n(_t);const wt=bt.a.escapeRegExp,xt=bt.a.getHighlightedText,Et=e=>Object.keys(e).reduce((t,n)=>t.concat((t=>e[t].map(e=>e.id))(n)),[]),kt=(e,t)=>{const n=e=>Object(B.a)({highlightedLabel:xt(e.name,t)},e);return Object.keys(e).reduce((t,r)=>Object(B.a)(Object(B.a)({},t),{},{[r]:e[r].map(n)}),{})},Nt=(e,t)=>{const n=n=>e[n].filter(e=>((e,t)=>{const n=t?new RegExp(wt(t),"gi"):"";return Boolean(e.name.match(n))})(e,t));return Object.keys(e).reduce((e,t)=>Object(B.a)(Object(B.a)({},e),{},{[t]:n(t)}),{})};var jt=Object(G.a)([e=>e.nodes,e=>e.searchValue],(e,t)=>{const n=Nt(e,t);return{filteredNodes:kt(n,t),nodeIDs:Et(n)}}),Ot=n(207),St=n.n(Ot);var Mt=Object(c.b)(e=>({theme:e.theme}))(({onUpdateSearchValue:e,searchValue:t,theme:n})=>{const r=Object(o.useRef)(null),i=e=>{const t="f"===e.key||70===e.keyCode,n=e.ctrlKey||e.metaKey;if(t&&n){const t=r.current.querySelector("input");document.activeElement!==t?(t.focus(),e.preventDefault()):t.blur()}};Object(o.useEffect)(()=>(window.addEventListener("keydown",i),()=>window.removeEventListener("keydown",i)));return a.a.createElement("div",{ref:r,className:"pipeline-nodelist-search",onKeyDown:t=>{("Escape"===t.key||27===t.keyCode)&&(e(""),r.current.querySelector("input").blur())}},a.a.createElement(St.a,{onChange:e,value:t,theme:n}))}),Tt=({className:e})=>a.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M12 5.7c4.4 0 8 5 8 6s-3.6 6-8 6-8-5-8-6 3.6-6 8-6zm0 2a4 4 0 100 8 4 4 0 000-8zm0 2a2 2 0 110 4 2 2 0 010-4z"})),Lt=({className:e})=>a.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M18.6 5.17l1.4 1.4-2.2 2.19C19.18 10.09 20 11.5 20 12c0 1.03-3.58 6-8 6a6.8 6.8 0 01-2.8-.64L6.56 20l-1.4-1.4L18.6 5.17zm-2.8 5.59l-1.92 1.93a2 2 0 01-1.2 1.19l-1.92 1.92a4 4 0 005.04-5.04zM12 6c.85 0 1.68.19 2.45.5l-1.6 1.59a4 4 0 00-4.76 4.76L5.94 15C4.74 13.75 4 12.48 4 12c0-1.06 3.58-6 8-6z"}));var At=Object(c.b)(null,e=>({onToggleNodesDisabled:(t,n)=>{e(m(t,n))}}))(({onToggleNodesDisabled:e,nodeIDs:t})=>a.a.createElement("div",{className:"kedro pipeline-nodelist__toggle"},a.a.createElement("h2",{className:"pipeline-nodelist__toggle__title"},"All Elements"),a.a.createElement("div",{className:"pipeline-nodelist__toggle__row"},a.a.createElement("button",{onClick:()=>e(t,!1),className:"pipeline-nodelist__toggle__button"},a.a.createElement(Tt,{className:"pipeline-nodelist__toggle__icon"}),"Show all"),a.a.createElement("button",{onClick:()=>e(t,!0),className:"pipeline-nodelist__toggle__button"},a.a.createElement(Lt,{className:"pipeline-nodelist__toggle__icon"}),"Hide all")))),It=n(46);const Rt=e=>e.nodeType.ids,Ct=Object(G.a)([Rt,e=>e.node.ids,e=>e.node.type,Q],(e,t,n,r)=>U(e,e=>{const o=t.filter(t=>n[t]===e),a=o.filter(e=>!r[e]);return{total:o.length,visible:a.length}})),Pt=Object(G.a)([Rt,e=>e.nodeType.name,e=>e.nodeType.disabled,Ct],(e,t,n,r)=>e.map(e=>({id:e,name:t[e],disabled:Boolean(n[e]),nodeCount:r[e]})));var zt=({active:e,checked:t,children:n,disabled:r,id:o,label:i,name:s,onMouseEnter:c,onMouseLeave:u,onChange:l,onClick:d,selected:f,type:p})=>{const h=t?Tt:Lt,g=Boolean(d&&!r&&t),v=r||!t;return a.a.createElement("div",{className:ze()("pipeline-nodelist__row kedro",{"pipeline-nodelist__row--visible":g,"pipeline-nodelist__row--active":e,"pipeline-nodelist__row--selected":f,"pipeline-nodelist__row--disabled":r}),onMouseEnter:g?c:null,onMouseLeave:g?u:null},a.a.createElement("button",{className:"pipeline-nodelist__row__text",onClick:d,onFocus:c,onBlur:u,disabled:!g,title:n?null:s},a.a.createElement(Ke,{className:ze()("pipeline-nodelist__row__type-icon pipeline-nodelist__row__icon",{"pipeline-nodelist__row__type-icon--faded":v,"pipeline-nodelist__row__type-icon--nested":!n}),type:p}),a.a.createElement("span",{className:ze()("pipeline-nodelist__row__label",{"pipeline-nodelist__row__label--faded":v}),dangerouslySetInnerHTML:{__html:i}})),n,a.a.createElement("label",{htmlFor:o,className:"pipeline-nodelist__row__visibility"},a.a.createElement("input",{id:o,className:"pipeline-nodelist__row__checkbox",type:"checkbox",checked:t,disabled:r,name:s,onChange:l}),a.a.createElement(h,{"aria-label":s,className:ze()("pipeline-nodelist__row__icon pipeline-nodelist__row__visibility-icon",{"pipeline-nodelist__row__visibility-icon--unchecked":!t})})))};var Dt=Object(c.b)(null,e=>({onToggleTypeDisabled:(t,n)=>{e(function(e,t){return{type:"TOGGLE_TYPE_DISABLED",typeID:e,disabled:t}}(t,n))}}))(({children:e,collapsed:t,onToggleTypeDisabled:n,onToggleCollapsed:r,type:o})=>a.a.createElement(It.a,{flipId:o.id},a.a.createElement("li",null,a.a.createElement(It.a,{inverseFlipId:o.id,scale:!0},a.a.createElement("div",null,a.a.createElement("h3",{className:"pipeline-nodelist__heading"},a.a.createElement(zt,{checked:!o.disabled,id:o.id,label:"".concat(o.name," <i>(").concat(o.nodeCount.visible,"/").concat(o.nodeCount.total,")</i>"),name:o.name,onChange:e=>{n(o.id,!e.target.checked)},type:o.id},a.a.createElement("button",{"aria-label":"".concat(t?"Show":"Hide"," ").concat(o.name.toLowerCase()),onClick:()=>r(o.id),className:ze()("pipeline-type-group-toggle",{"pipeline-type-group-toggle--alt":t})}))),a.a.createElement(It.a,{flipId:"".concat(o.id,"-children"),onAppear:e=>{e.classList.add("pipeline-nodelist--fade-in"),e.onanimationend=()=>{e.style.opacity=1,e.classList.remove("pipeline-nodelist--fade-in")}},onExit:(e,t,n)=>{e.style.opacity=0,e.classList.add("pipeline-nodelist--fade-out"),e.onanimationend=n},opacity:!0},t?null:e))))));const Bt=Te();var Gt=Object(c.b)(e=>({nodeActive:ge(e),nodeSelected:ve(e),types:Pt(e)}),e=>({onToggleNodeClicked:t=>{e(v(t))},onToggleNodeHovered:t=>{e(y(t))},onToggleNodesDisabled:(t,n)=>{e(m(t,n))}}))(({onToggleNodeClicked:e,onToggleNodesDisabled:t,onToggleNodeHovered:n,nodes:i,nodeActive:s,nodeSelected:c,types:u})=>{const l=t=>{bt.a.handleKeyEvent(t.keyCode,{escape:()=>e(null)})};Object(o.useEffect)(()=>(window.addEventListener("keydown",l),()=>window.removeEventListener("keydown",l)));const d=Object(o.useState)(Bt.groupsCollapsed||{}),f=Object(r.a)(d,2),p=f[0],h=f[1],g=e=>{const t=Object.assign({},p,{[e]:!p[e]});h(t),Le({groupsCollapsed:t})};return a.a.createElement(It.b,{flipKey:p},a.a.createElement("ul",{className:"pipeline-nodelist"},u.map(r=>i[r.id]?a.a.createElement(Dt,{key:r.id,onToggleCollapsed:g,type:r,collapsed:p[r.id]},a.a.createElement("ul",{className:"pipeline-nodelist pipeline-nodelist--nested"},i[r.id].map(r=>a.a.createElement("li",{key:r.id},a.a.createElement(zt,{active:s[r.id],checked:!r.disabled_node,disabled:r.disabled_tag||r.disabled_type,id:r.id,label:r.highlightedLabel,name:r.name,onClick:()=>{return t=r.id,void(c[t]?e(null):e(t));var t},onMouseEnter:()=>n(r.id),onMouseLeave:()=>n(null),onChange:e=>{t([r.id],!e.target.checked)},selected:c[r.id],type:r.type}))))):null)))});n(463);var Ft=Object(c.b)(e=>({nodes:ye(e)}))(({nodes:e})=>{const t=Object(o.useState)(""),n=Object(r.a)(t,2),i=n[0],s=n[1],c=jt({nodes:e,searchValue:i}),u=c.filteredNodes,l=c.nodeIDs;return a.a.createElement(a.a.Fragment,null,a.a.createElement(Mt,{onUpdateSearchValue:s,searchValue:i}),a.a.createElement(yt.Scrollbars,{className:"pipeline-nodelist-scrollbars",style:{width:"auto"},autoHide:!0,hideTracksWhenNotNeeded:!0},a.a.createElement(At,{nodeIDs:l}),a.a.createElement(Gt,{nodes:u})))});n(464);const Ut={label:({className:e})=>a.a.createElement("svg",{className:e,viewBox:"0 0 22 20"},a.a.createElement("path",{d:"M22 0v20H7.3L0 10 7.3 0H22zm-6.2 5h-3.6L10 15h2l.3-1.8h3.4L16 15H18L15.8 5zm-1.5 1.7l1 4.7h-2.6l1-4.7h.6z"})),layers:({className:e})=>a.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a.a.createElement("path",{d:"M9.97 0l10.09 5-5.04 2.5 5.04 2.5-5.04 2.5 5.04 2.5L10 20 0 15l5-2.5L0 10l5.02-2.5L0 5zM7.23 13.61L4.47 15 10 17.77 15.56 15l-2.79-1.38L10 15zm5.56-4.98L9.99 10 7.26 8.63l-2.77 1.38 3.56 1.77 1.96.95 2.1-1L15.57 10zm-2.82-6.4L4.47 5 10 7.77 15.56 5z"})),menu:({className:e})=>a.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M15.3 3.3l1.4 1.4L9.4 12l7.3 7.3-1.4 1.4L6.6 12z"})),theme:({className:e})=>a.a.createElement("svg",{className:e,viewBox:"0 0 20 20"},a.a.createElement("path",{d:"M10 0a10 10 0 1 1 0 20 10 10 0 0 1 0-20zm0 2v16a8 8 0 1 0 0-16z"})),export:({className:e})=>a.a.createElement("svg",{className:e,viewBox:"0 0 24 24"},a.a.createElement("path",{d:"M5 16v4h14v-4h2v4c0 1-.8 2-1.9 2H5a2 2 0 01-2-2v-4h2zm8-14v11l3.5-3.5L18 11l-6 6-6-6 1.5-1.5L11 13V2h2z"})),map:({className:e})=>a.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20"},a.a.createElement("path",{transform:"translate(-3 -4)",strokeWidth:"2",d:"M20.573 6.875L15.352 8.75l-6-3.75L4 6.875v12.96l5.352-2.085 6 3.75 5.221-2.736zM15.352 8v12.75M9.352 5v12.75"})),plus:({className:e})=>a.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{transform:"translate(-1 1) rotate(90 11.5 12)",strokeWidth:"2",d:"M11.5 4L11.5 20"}),a.a.createElement("path",{transform:"translate(-1 1)",strokeWidth:"2",d:"M11.5 4L11.5 20"})),minus:({className:e})=>a.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("path",{transform:"translate(-1 1) rotate(90 11.5 12)",strokeWidth:"2",d:"M11.5 5L11.5 19"})),reset:({className:e})=>a.a.createElement("svg",{className:e,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 26 26"},a.a.createElement("path",{transform:"translate(0 0)",d:"M8.48 2.637V8h.002v.128H6.488V6.207c-1.531 1.457-2.485 3.515-2.485 5.796 0 4.418 3.581 8 8 8 .18 0 .359-.006.536-.018l.001 2c-.179.01-.359.015-.54.015-5.523 0-10-4.477-10-10 0-2.913 1.246-5.536 3.234-7.364H2.997V2.644l5.471-.001.011-.005zM12 2c5.523 0 10 4.477 10 10 0 2.927-1.258 5.56-3.262 7.39l2.29-.002v1.994h-5.485v-.028l-.003.001V19.18l.003-.001v-3.282h1.994v1.882c1.52-1.456 2.466-3.506 2.466-5.776 0-4.419-3.582-8-8-8-.176 0-.35.005-.524.016V2.013C11.652 2.004 11.825 2 12 2z"}))},Vt=({ariaLabel:e,ariaLive:t,className:n,disabled:r,icon:o,labelText:i,onClick:s,visible:c,active:u})=>{const l=Ut[o];return c?a.a.createElement("li",null,a.a.createElement("button",{"aria-label":e,"aria-live":t,className:ze()({[n]:!0,"pipeline-icon-toolbar__button":!0,"pipeline-icon-toolbar__button--active":u}),disabled:r,onClick:s},a.a.createElement("span",{className:"pipeline-toolbar__label"},i),a.a.createElement(l,{className:"pipeline-icon pipeline-icon-".concat(o)}))):null};Vt.defaultProps={ariaLabel:null,ariaLive:null,disabled:!1,icon:"label",labelText:null,onClick:null,visible:!0,active:!1};var qt=Vt;n(465);var Wt=Object(c.b)(e=>({disableLayerBtn:!e.layer.ids.length,textLabels:e.textLabels,theme:e.theme,visible:e.visible,visibleLayers:Boolean(te(e).length)}),e=>({onToggleExportModal:t=>{e(p(t))},onToggleLayers:t=>{e({type:"TOGGLE_LAYERS",visible:Boolean(t)})},onToggleSidebar:t=>{e(function(e){return{type:"TOGGLE_SIDEBAR",visible:e}}(t))},onToggleTextLabels:t=>{e({type:"TOGGLE_TEXT_LABELS",textLabels:Boolean(t)})},onToggleTheme:t=>{e({type:"TOGGLE_THEME",theme:t})}}))(({disableLayerBtn:e,onToggleExportModal:t,onToggleLayers:n,onToggleSidebar:r,onToggleTextLabels:o,onToggleTheme:i,textLabels:s,theme:c,visible:u,visibleLayers:l})=>a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:"pipeline-primary-toolbar kedro"},a.a.createElement(qt,{ariaLabel:"".concat(u.sidebar?"Hide":"Show"," menu"),className:ze()("pipeline-menu-button",{"pipeline-menu-button--inverse":!u.sidebar}),onClick:()=>r(!u.sidebar),icon:"menu",labelText:"".concat(u.sidebar?"Hide":"Show"," menu")}),a.a.createElement(qt,{ariaLive:"polite",ariaLabel:"Change to ".concat("light"===c?"dark":"light"," theme"),onClick:()=>i("light"===c?"dark":"light"),icon:"theme",labelText:"Toggle theme",visible:u.themeBtn}),a.a.createElement(qt,{ariaLive:"polite",onClick:()=>o(!s),icon:"label",labelText:"".concat(s?"Hide":"Show"," text labels"),visible:u.labelBtn}),a.a.createElement(qt,{ariaLabel:"Export graph as SVG or PNG",onClick:()=>t(!0),icon:"export",labelText:"Export visualisation",visible:u.exportBtn}),a.a.createElement(qt,{ariaLabel:"Turn data layers ".concat(l?"off":"on"),onClick:()=>n(!l),icon:"layers",labelText:"".concat(l?"Hide":"Show"," layers"),disabled:e,visible:u.layerBtn}))));n(466);const Ht=({scale:e},t)=>({scale:e*(t||1),applied:!1,transition:!0,reset:0===t});var Yt=Object(c.b)(e=>({visible:e.visible,chartZoom:Se(e)}),e=>({onToggleMiniMap:t=>{e({type:"TOGGLE_MINIMAP",visible:t})},onUpdateChartZoom:t=>{e(h(t))}}))(({onToggleMiniMap:e,visible:t,chartZoom:n,onUpdateChartZoom:r})=>{const o=n.scale,i=n.minScale,s=n.maxScale;return a.a.createElement(a.a.Fragment,null,a.a.createElement("ul",{className:"pipeline-minimap-toolbar kedro"},a.a.createElement(qt,{icon:"map",className:"pipeline-minimap-button pipeline-icon--stroke pipeline-minimap-button--map",ariaLabel:"Turn minimap ".concat(t.miniMap?"off":"on"),onClick:()=>e(!t.miniMap),labelText:"".concat(t.miniMap?"Hide":"Show"," minimap"),visible:t.miniMapBtn,active:t.miniMap}),a.a.createElement(qt,{icon:"plus",className:"pipeline-minimap-button pipeline-icon--stroke pipeline-minimap-button--zoom-in",ariaLabel:"Zoom in",labelText:"Zoom in",visible:t.miniMapBtn,disabled:o>=s,onClick:()=>r(Ht(n,1.3))}),a.a.createElement(qt,{icon:"minus",className:"pipeline-minimap-button pipeline-icon--stroke pipeline-minimap-button--zoom-out",ariaLabel:"Zoom out",labelText:"Zoom out",visible:t.miniMapBtn,disabled:o<=i,onClick:()=>r(Ht(n,.7))}),a.a.createElement(qt,{icon:"reset",className:"pipeline-minimap-button pipeline-minimap-button--reset",ariaLabel:"Reset zoom",labelText:"Reset zoom",visible:t.miniMapBtn,onClick:()=>r(Ht(n,0))}),a.a.createElement("li",null,a.a.createElement("span",{className:"pipeline-minimap-toolbar__scale",title:"Zoom level"},Math.round(100*n.scale)||100,"%"))))});const Xt=function(){const e=this.props.mapSize,t=this.getViewport(),n=t.x,r=t.y,o=t.width,a=t.height,i=Math.max(n,2),s=Math.max(r,2),c=Math.min(n+o,e.width-2),u=Math.min(r+a,e.height-2);this.el.viewport.enter().attr("x",0).attr("y",0),this.el.viewport.attr("transform","translate(".concat(i,", ").concat(s,")")).attr("width",Math.max(0,c-i)).attr("height",Math.max(0,u-s))},Zt=function(){const e=this.props,t=e.centralNode,n=e.linkedNodes,r=e.nodeActive,o=e.nodeSelected,a=e.nodes;this.el.nodes=this.el.nodeGroup.selectAll(".pipeline-minimap-node").data(a,e=>e.id);const i=this.el.nodes.enter().append("g").attr("class","pipeline-minimap-node");i.attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).attr("opacity",0),i.append("rect"),this.el.nodes.exit().transition("exit-nodes").duration(this.DURATION).attr("opacity",0).remove(),this.el.nodes=this.el.nodes.merge(i).attr("data-id",e=>e.id).classed("pipeline-minimap-node--active",e=>r[e.id]).classed("pipeline-minimap-node--selected",e=>o[e.id]).classed("pipeline-minimap-node--faded",e=>t&&!n[e.id]),this.el.nodes.transition("update-nodes").duration(this.DURATION).attr("opacity",1).attr("transform",e=>"translate(".concat(e.x,", ").concat(e.y,")")).end().catch(()=>{}),this.el.nodes.select("rect").attr("width",e=>e.width-Kt(e)).attr("height",e=>e.height-Kt(e)).attr("x",e=>(e.width-Kt(e))/-2).attr("y",e=>(e.height-Kt(e))/-2)},Kt=e=>"task"===e.type?5:16;n(467);class $t extends o.Component{constructor(e){super(e),this.onPointerEnter=()=>{this.isPointerInside=!0},this.onPointerLeave=()=>{this.isPointerInside=!1},this.onPointerUpGlobal=()=>{this.isPointerDown=!1,this.isPointerInside=!1},this.onPointerDown=e=>{this.isPointerDown=!0,this.isPointerInside=!0,this.onPointerMove(e,!0)},this.onPointerWheel=e=>{const t=this.props.chartZoom.scale,n=void 0===t?1:t;this.props.onUpdateChartZoom({scale:n-(e.deltaY||0)*n*this.ZOOM_RATE,applied:!1,transition:!1})},this.onPointerWheelGlobal=e=>{this.containerRef.current.contains(e.target)&&e.preventDefault()},this.onPointerMove=(e,t=!1)=>{if(this.isPointerDown&&this.isPointerInside){const n=Number(new Date);if(n-this.lastTransitionTime<this.TRANSITION_WAIT)return;const r=this.props.mapSize,o=r.width,a=r.height,i=this.props.graphSize,s=i.width,c=i.height,u=Object(Ge.c)(this.wrapperRef.current).k,l=void 0===u?1:u,d=this.svgRef.current.getBoundingClientRect(),f=(e.clientX-d.x)/o*(o/l)-.5*(o/l-s),p=(e.clientY-d.y)/a*(a/l)-.5*(a/l-c);this.props.onUpdateChartZoom({x:f,y:p,applied:!1,transition:t}),t&&(this.lastTransitionTime=n)}},this.DURATION=700,this.TRANSITION_WAIT=200,this.ZOOM_RATE=.0025,this.isPointerDown=!1,this.isPointerInside=!1,this.lastTransitionTime=0,this.containerRef=a.a.createRef(),this.svgRef=a.a.createRef(),this.wrapperRef=a.a.createRef(),this.nodesRef=a.a.createRef(),this.viewportRef=a.a.createRef(),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerEnter=this.onPointerEnter.bind(this),this.onPointerLeave=this.onPointerLeave.bind(this),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerWheel=this.onPointerWheel.bind(this),this.onPointerWheelGlobal=this.onPointerWheelGlobal.bind(this),this.onPointerUpGlobal=this.onPointerUpGlobal.bind(this)}componentDidMount(){this.selectD3Elements(),this.initZoomBehaviour(),this.addGlobalEventListeners(),this.update()}componentWillUnmount(){this.removeGlobalEventListeners()}addGlobalEventListeners(){window.addEventListener("wheel",this.onPointerWheelGlobal,{passive:!1}),window.addEventListener(Qt("pointerup"),this.onPointerUpGlobal)}removeGlobalEventListeners(){window.removeEventListener("wheel",this.onPointerWheelGlobal),window.removeEventListener(Qt("pointerup"),this.onPointerUpGlobal)}componentDidUpdate(e){this.update(e)}update(e={}){const t=this.props,n=t.visible,r=t.chartZoom;if(n){const t=(...t)=>this.changed(t,e,this.props);t("visible","nodes","centralNode","linkedNodes","nodesActive","nodeSelected")&&Zt.call(this),t("visible","chartZoom")&&r.applied&&Xt.call(this),t("visible","nodes","textLabels","chartSize")&&this.zoomToFit()}}changed(e,t,n){return t&&n&&e.some(e=>t[e]!==n[e])}selectD3Elements(){this.el={svg:Object(F.a)(this.svgRef.current),wrapper:Object(F.a)(this.wrapperRef.current),nodeGroup:Object(F.a)(this.nodesRef.current),viewport:Object(F.a)(this.viewportRef.current)}}initZoomBehaviour(){this.zoomBehaviour=Object(Ge.a)().filter(()=>!1).interpolate(Be.a).on("zoom",()=>{this.el.wrapper.attr("transform",De.c.transform)}),this.el.svg.call(this.zoomBehaviour)}zoomToFit(){const e=this.props,t=e.mapSize,n=e.graphSize;let r=1,o=0,a=0;t.width>0&&n.width>0&&(r=Math.min((t.width-Jt)/n.width,(t.height-Jt)/n.height),o=(t.width-n.width*r)/2,a=(t.height-n.height*r)/2);const i=Ge.b.translate(o,a).scale(r),s=Object(Ge.c)(this.wrapperRef.current),c=s.k,u=void 0===c?1:c,l=s.x,d=void 0===l?0:l,f=s.y;"undefined"===typeof jest&&(1===u&&0===d&&0===(void 0===f?0:f)?this.el.svg:this.el.svg.transition("zoom").duration(this.DURATION)).call(this.zoomBehaviour.transform,i)}getViewport(){const e=this.props,t=e.chartZoom,n=e.chartSize,r=Object(Ge.c)(this.wrapperRef.current),o=r.k,a=r.x,i=r.y,s=o/t.scale,c=n.width*s,u=n.height*s;return{x:a-(t.x-n.sidebarWidth)*s,y:i-t.y*s,width:c,height:u}}render(){const e=this.props.mapSize,t=e.width,n=e.height,r={transform:"translate(calc(-100% + ".concat(t,"px), -100%)")},o=Qt,i={onWheel:this.onPointerWheel,[o("onPointerEnter")]:this.onPointerEnter,[o("onPointerLeave")]:this.onPointerLeave,[o("onPointerDown")]:this.onPointerDown,[o("onPointerMove")]:this.onPointerMove};return a.a.createElement("div",{className:ze()("pipeline-minimap-container",{"pipeline-minimap-container--visible":this.props.visible}),style:this.props.visible?r:{}},a.a.createElement("div",Object.assign({className:"pipeline-minimap kedro",ref:this.containerRef},i),a.a.createElement("svg",{id:"pipeline-minimap-graph",className:"pipeline-minimap__graph",width:t,height:n,viewBox:"0 0 ".concat(t," ").concat(n),ref:this.svgRef},a.a.createElement("g",{id:"zoom-wrapper",ref:this.wrapperRef},a.a.createElement("g",{id:"minimap-nodes",className:"pipeline-minimap__nodes",ref:this.nodesRef})),a.a.createElement("rect",{className:"pipeline-minimap__viewport",ref:this.viewportRef}))))}}const Jt=32,Qt=e=>window.PointerEvent?e:e.replace("pointer","mouse").replace("Pointer","Mouse"),en=e=>{const t=e.graph.size||{},n=t.width||0,r=t.height||0;if(n>0&&r>0){const e=n*(220/r);return{width:Math.min(Math.max(e,218),327),height:220}}return{width:218,height:220}},tn=[],nn={};var rn=Object(c.b)((e,t)=>Object(B.a)({visible:e.visible.miniMap,mapSize:en(e),centralNode:Ue(e),chartSize:Oe(e),chartZoom:Se(e),graphSize:e.graph.size||nn,nodes:e.graph.nodes||tn,linkedNodes:We(e),nodeActive:ge(e),nodeSelected:ve(e),textLabels:e.textLabels},t),(e,t)=>Object(B.a)({onUpdateChartZoom:t=>{e(h(t))}},t))($t);n(468);var on=Object(c.b)(e=>({flags:e.flags,visible:e.visible.sidebar}))(({flags:e,visible:t})=>a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:ze()("pipeline-sidebar",{"pipeline-sidebar--visible":t})},a.a.createElement("div",{className:"pipeline-ui"},e.pipelines&&a.a.createElement(ht,null),a.a.createElement(mt,null),a.a.createElement(Ft,null)),a.a.createElement("nav",{className:"pipeline-toolbar"},a.a.createElement(Wt,null),a.a.createElement(Yt,null)),a.a.createElement(rn,null)))),an=n(208),sn=n.n(an),cn=n(81),un=n.n(cn),ln=n(122);var dn=({format:e,theme:t,graphSize:n,mockFn:r})=>{const o={png:ln.b,svg:ln.a},a=r||o[e],i=document.querySelector("#pipeline-graph"),s=i.parentNode.appendChild(i.cloneNode(!0));s.classList.add("kedro","kui-theme--".concat(t),"pipeline-graph--export");let c=n.width+2*n.marginx,u=n.height+2*n.marginy;if(s.setAttribute("viewBox","0 0 ".concat(c," ").concat(u)),s.querySelector("#zoom-wrapper").removeAttribute("transform"),"png"===e){const e=5e3;c=Math.min(c,e),u=Math.min(u,e*(u/c))}s.setAttribute("width",c),s.setAttribute("height",u);const l=document.createElement("style");l.innerHTML="svg"===e?"@import url(https://fonts.googleapis.com/css?family=Titillium+Web:400);":'.kedro {\n      font-family: "Trebuchet MS", "Lucida Grande", "Lucida Sans Unicode", "Lucida Sans", Tahoma, sans-serif;\n      letter-spacing: -0.4px;\n    }',s.prepend(l),a(s,"kedro-pipeline",{css:"internal"}),i.parentNode.removeChild(s)};n(473);var fn=Object(c.b)(e=>({graphSize:e.graph.size||{},visible:e.visible,theme:e.theme}),e=>({onToggle:t=>{e(p(t))}}))(({graphSize:e,theme:t,onToggle:n,visible:r})=>r.exportBtn?a.a.createElement(sn.a,{title:"Export pipeline visualisation",onClose:()=>n(!1),theme:t,visible:r.exportModal},a.a.createElement("div",{className:"pipeline-icon-modal"},a.a.createElement(un.a,{theme:t,onClick:()=>{dn({format:"png",theme:t,graphSize:e}),n(!1)}},"Download PNG"),a.a.createElement(un.a,{theme:t,onClick:()=>{dn({format:"svg",theme:t,graphSize:e}),n(!1)}},"Download SVG"))):null);n(474);const pn="M11.4 90.3q-1.4-2.4 0-4.7l42.3-73.3q1.3-2.3 4-2.3h84.6q2.7 0 4 2.3l42.4 73.3q1.3 2.3 0 4.7l-42.3 73.2q-1.4 2.4-4.1 2.4H57.7q-2.7 0-4-2.4z";var hn=({className:e,visible:t})=>a.a.createElement("svg",{className:ze()(e,"pipeline-loading-icon",{"pipeline-loading-icon--visible":t}),viewBox:"0 0 200 180"},a.a.createElement("path",{d:pn}),a.a.createElement("path",{d:pn}));n(475);var gn=Object(c.b)(e=>({loading:e.graph.loading,theme:e.theme}))(({loading:e,theme:t})=>a.a.createElement("div",{className:ze()("kedro-pipeline",{"kui-theme--dark":"dark"===t,"kui-theme--light":"light"===t})},a.a.createElement(on,null),a.a.createElement("div",{className:"pipeline-wrapper"},a.a.createElement(ut,null),a.a.createElement(hn,{className:"pipeline-wrapper__loading",visible:e})),a.a.createElement(fn,null))),vn=n(121),mn=n.n(vn);var yn=e=>{const t={id:null,pipeline:{ids:[],name:{},default:null,active:null},node:{ids:[],name:{},fullName:{},type:{},isParam:{},tags:{},layer:{},disabled:{},pipelines:{},clicked:null,hovered:null},nodeType:{ids:["task","data","parameters"],name:{data:"Datasets",task:"Nodes",parameters:"Parameters"},disabled:{}},edge:{ids:[],sources:{},targets:{}},layer:{ids:[],name:{},visible:!0},tag:{ids:[],name:{},active:{},enabled:{}}};return(e=>{if(!e)throw new Error("No data provided to Kedro-Viz");if("json"===e)return!1;if(!Array.isArray(e.edges)||!Array.isArray(e.nodes))throw"undefined"===typeof jest&&console.error("Invalid Kedro-Viz data:",e),new Error("Invalid Kedro-Viz data input. Please ensure that your pipeline data includes arrays of nodes and edges");return!0})(e)?(e.schema_id&&(t.id=e.schema_id),e.nodes.forEach((e=>t=>{const n=t.id;e.node.name[n]||(e.node.ids.push(n),e.node.name[n]=t.name,e.node.fullName[n]=t.full_name||t.name,e.node.type[n]=t.type,e.node.layer[n]=t.layer,e.node.pipelines[n]=t.pipelines?U(t.pipelines,()=>!0):{},e.node.isParam[n]="parameters"===t.type,e.node.tags[n]=t.tags||[])})(t)),e.edges.forEach((e=>({source:t,target:n})=>{const r=((e,t)=>[e,t].join("|"))(t,n);e.edge.ids.includes(r)||(e.edge.ids.push(r),e.edge.sources[r]=t,e.edge.targets[r]=n)})(t)),e.pipelines&&(e.pipelines.forEach((e=>t=>{const n=t.id;e.pipeline.name[n]||(e.pipeline.ids.push(n),e.pipeline.name[n]=t.name)})(t)),t.pipeline.ids.length&&(t.pipeline.default=e.selected_pipeline||t.pipeline.ids[0],t.pipeline.active=t.pipeline.default)),e.tags&&e.tags.forEach((e=>t=>{const n=t.id;e.tag.ids.push(n),e.tag.name[n]=t.name})(t)),e.layers&&e.layers.forEach((e=>t=>{e.layer.ids.push(t),e.layer.name[t]=t})(t)),t):t};const _n={isDefined:e=>_n.names().includes(e),names:()=>Object.keys(Ne),defaults:()=>_n.names().reduce((e,t)=>Object.assign(e,{[t]:Ne[t].default}),{})},bn=e=>{const t=Te();return Object.keys(t).forEach(n=>{e[n]||delete t[n]}),mn()(e,t)},wn=e=>{const t=bn(yn(e.data));return t.pipeline.ids.includes(t.pipeline.active)||(t.pipeline.active=t.pipeline.default),t},xn=e=>{const t=bn({chartSize:{},flags:_n.defaults(),textLabels:!0,theme:"dark",visible:{labelBtn:!0,layerBtn:!0,exportBtn:!0,exportModal:!1,sidebar:!0,themeBtn:!0,miniMapBtn:!0,miniMap:!0},zoom:{}});return t.flags=Object.assign({},t.flags,(e=>{const t={};let n;try{n=new URL(e||document.location.href).searchParams}catch(r){return console.warn("Feature flags are not supported in this browser"),t}return[...n].forEach(([e,n])=>_n.isDefined(e)?t[e]="true"===n||"1"===n||""===n:null),t})()),e.theme&&(t.theme=e.theme),e.visible&&(t.visible=Object.assign({},t.visible,e.visible)),t};var En=(e={})=>{const t=mn()(xn(e),wn(e));return t.flags.pipelines||(t.pipeline.active=null),t};n(476),n(477);class kn extends a.a.Component{constructor(e){super(e);const t=En(e);this.store=Re(t),this.announceFlags(t.flags)}componentDidMount(){this.checkWebFontLoading()}componentDidUpdate(e){e.data!==this.props.data&&this.updatePipelineData()}announceFlags(e){const t=(e=>{const t=_n.names();if(t.length>0){let n="Experimental features \ud83c\udfc4\u200d\u2642\ufe0f\n";return t.forEach(t=>{const r=e[t],o=r?"Enabled":"Disabled",a=r?"\ud83d\udfe2":"\u26aa\ufe0f",i=Ne[t].icon,s=Ne[t].description;n+="\n".concat(a," ").concat(i,' "').concat(t,'" \xb7 ').concat(s," \xb7 ").concat(o)}),n+="\n\nSee docs on flags for more info \ud83d\udcd6",n+="\nhttps://github.com/quantumblacklabs/kedro-viz#flags",n}})(e);t&&"undefined"===typeof jest&&console.info(t)}checkWebFontLoading(){Ce().then(()=>{this.store.dispatch({type:"UPDATE_FONT_LOADED",fontLoaded:!0})})}updatePipelineData(){const e=wn(this.props);this.store.dispatch({type:"RESET_DATA",data:e})}render(){return this.props.data?a.a.createElement(c.a,{store:this.store},a.a.createElement(gn,null)):null}}var Nn=kn,jn=n(209),On=n.n(jn),Sn=(n(478),n(210)),Mn=n.n(Sn),Tn=n(211),Ln=n.n(Tn);class An extends a.a.Component{constructor(e){super(e),this.state={play:!1},"undefined"===typeof jest&&console.info("Konami code is supported"),this.audio=new Audio(Mn.a),this.audio.loop=!0,this.handleKeyDown=this.handleKeyDown.bind(this)}componentDidMount(){(new On.a).listen(this.toggleState.bind(this)),document.addEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){this.toggleAudio(),this.toggleCSS()}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown),document.body.classList.remove("easter-theme")}handleKeyDown(e){27===e.keyCode&&this.state.play&&this.setState({play:!1})}toggleState(){this.setState({play:!this.state.play})}toggleAudio(){this.state.play?this.audio.play():this.audio.pause()}toggleCSS(){this.state.play?document.body.classList.add("easter-theme"):document.body.classList.remove("easter-theme")}render(){return this.state.play?a.a.createElement("div",{className:"easter-egg"},a.a.createElement("img",{src:Ln.a,alt:"",width:"500",height:"480"})):null}}var In=An,Rn=n(212),Cn=n.n(Rn);const Pn=(()=>{let e,t;try{e=new URL(document.location.href),t=e.searchParams.get("seed")}catch(n){return void console.warn("Random data seeding is not supported in this browser")}return t||(t=(e=>{const t=[],n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")})(30),e.searchParams.set("seed",t)),"undefined"===typeof jest&&console.info("%cRandom data seed: ".concat(t,"\nTo reuse this layout, visit ").concat(e.toString()),"font-weight: bold"),t})(),zn=Cn()(Pn),Dn=e=>Array.from(Array(e).keys()),Bn=e=>Math.floor(zn()*e),Gn=e=>Math.ceil(zn()*e),Fn=(e,t)=>Gn(t-e)+e,Un=e=>e[Bn(e.length)],Vn="lorem ipsum dolor sit amet consectetur adipiscing elit vestibulum id turpis nunc nulla vitae diam dignissim fermentum elit sit amet viverra libero quisque condimentum pellentesque convallis sed consequat neque ac rhoncus finibus".split(" "),qn=(e,t="_")=>Dn(e).map(()=>Un(Vn)).join(t),Wn=["Raw","Intermediate","Primary","Feature","Model Input","Model Output"];class Hn{constructor(){this.pipelines=this.generatePipelines(),this.rankCount=this.getRankCount(),this.rankLayers=this.getRankLayers(),this.tags=this.generateTags(),this.nodes=this.generateNodes(),this.edges=this.generateEdges(),this.update(),this.finalise()}generatePipelines(){const e=["Default"],t=Fn(2,15);for(let n=1;n<t;n++)e.push(qn(Gn(4)," "));return e.filter(V)}getRankCount(){let e=Fn(10,50);return!e%2&&(e+=1),e}getRankLayers(){const e=U(Wn,()=>0);for(let n=0;n<this.rankCount;n++)e[Un(Wn)]++;const t={};for(let n=0,r=0;n<this.rankCount;n++){for(;e[Wn[r]]<1;)r++;t[n]=Wn[r],e[Wn[r]]--}return t}generateTags(){const e=Gn(20);return Dn(e).map(()=>qn(Gn(5))).filter(V)}generateNodes(){const e=[];for(let t=0;t<this.rankCount;t++){const n=this.getRankNodeCount(t);for(let r=0;r<n;r++){const n=this.createNode(r,t);e.push(n)}}return e}getRankNodeCount(){return Math.min(1/zn(),10)}getType(e){return e.rank%2?"task":0===e._sources.length&&zn()<.2?"parameters":"data"}createNode(e,t){const n=this.rankLayers[t];return{id:"".concat(n,"_").concat(t,"_").concat(e),name:null,full_name:null,type:null,rank:t,layer:n,pipelines:this.getNodePipelines(),tags:this.getRandomTags(),_sources:[],_targets:[]}}getNodeName(e){const t=qn(Gn(10)," ");return"parameters"===e?"Parameters ".concat(t):t}getNodePipelines(){return this.pipelines.reduce((e,t,n)=>0===n||Bn(2)?e.concat(t):e,[])}getRandomTags(){return((e,t)=>{const n=new Array(t);let r=e.length;const o=new Array(r);if(t>r)return e;for(;t--;){var a=Math.floor(zn()*r);n[t]=e[a in o?o[a]:a],o[a]=--r in o?o[r]:r}return n})(this.tags,Gn(this.tags.length))}getNodesByRank(){const e={};var t=!0,n=!1,r=void 0;try{for(var o,a=this.nodes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){const t=o.value;e[t.rank]=e[t.rank]||[],e[t.rank].push(t)}}catch(i){n=!0,r=i}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}return e}generateEdges(){const e=[],t=Fn(100,200),n=this.getNodesByRank(),r=Object.keys(n).map(e=>parseFloat(e)).sort((e,t)=>e-t),o=e=>{const t=r[e],o=n[t];return o[Bn(o.length)]};for(let a=0;a<t;a+=1){const t=Bn(r.length-1),n=o(t),a=r.length-1-t,i=Math.round(.5/zn()),s=o(t+Math.min(i,a)),c={source:n.id,target:s.id,_sourceNode:n,_targetNode:s};e.push(c),n._targets.push(c),s._sources.push(c)}return e}activeNodes(){const e={},t=e=>e._sources.length+e._targets.length;var n=!0,r=!1,o=void 0;try{for(var a,i=this.edges[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){const n=a.value;t(n._sourceNode)+t(n._targetNode)>2&&(e[n._sourceNode.id]=n._sourceNode,e[n._targetNode.id]=n._targetNode)}}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}return Object.values(e)}activeTags(){return this.nodes.reduce((e,t)=>t.tags?e.concat(t.tags):e,[]).filter(V).map(e=>({name:e,id:e}))}activeEdges(){const e=U(this.nodes.map(e=>e.id),()=>!0);return this.edges.filter(t=>e[t.target]&&e[t.source])}update(){const e={};var t=!0,n=!1,r=void 0;try{for(var o,a=this.nodes[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){e[o.value.id]=[]}}catch(m){n=!0,r=m}finally{try{t||null==a.return||a.return()}finally{if(n)throw r}}var i=!0,s=!1,c=void 0;try{for(var u,l=this.edges[Symbol.iterator]();!(i=(u=l.next()).done);i=!0){const t=u.value;e[t.source].push(t.target)}}catch(m){s=!0,c=m}finally{try{i||null==l.return||l.return()}finally{if(s)throw c}}const d=oe()(e);for(let y=0;y<d.length;y++){var f=!0,p=!1,h=void 0;try{for(var g,v=d[y][Symbol.iterator]();!(f=(g=v.next()).done);f=!0){const e=g.value,t=this.nodes.find(t=>t.id===e);t.rank=y,t.type=this.getType(t),t.name=this.getNodeName(t.type),t.full_name="".concat(t.layer,"_").concat(t.type,"_").concat(t.rank,"_").concat(t.name).replace(/\s/g,"_")}}catch(m){p=!0,h=m}finally{try{f||null==v.return||v.return()}finally{if(p)throw h}}}}finalise(){this.nodes=this.activeNodes(),this.tags=this.activeTags(),this.edges=this.activeEdges();var e=!0,t=!1,n=void 0;try{for(var r,o=this.nodes[Symbol.iterator]();!(e=(r=o.next()).done);e=!0){const e=r.value;delete e._sources,delete e._targets}}catch(l){t=!0,n=l}finally{try{e||null==o.return||o.return()}finally{if(t)throw n}}var a=!0,i=!1,s=void 0;try{for(var c,u=this.edges[Symbol.iterator]();!(a=(c=u.next()).done);a=!0){const e=c.value;delete e._targetNode,delete e._sourceNode}}catch(l){i=!0,s=l}finally{try{a||null==u.return||u.return()}finally{if(i)throw s}}}all(){return{edges:this.edges,layers:Wn,nodes:this.nodes,pipelines:this.pipelines.map(e=>({id:e,name:e})),tags:this.tags}}}var Yn=()=>(new Hn).all(),Xn={schema_id:"09876543210987654321",selected_pipeline:"__default__",pipelines:[{id:"de",name:"Data engineering"},{id:"ds",name:"Data science"},{id:"__default__",name:"Default"},{id:"empty",name:"Empty pipeline"}],layers:["Raw","Intermediate","Primary","Feature","Model Input","Model Output"],tags:[{id:"small",name:"small"},{id:"medium",name:"medium"},{id:"large",name:"large"},{id:"huge",name:"huge"}],nodes:[{id:"task/salmon",name:"salmon",full_name:"salmon",tags:["small"],layer:"Intermediate",pipelines:["__default__","de"],type:"task"},{id:"task/shark",name:"shark",full_name:"shark",tags:["medium","large"],layer:"Intermediate",pipelines:["__default__","de"],type:"task"},{id:"task/trout",name:"trout",full_name:"trout",tags:["small"],layer:"Model Input",pipelines:["__default__","ds"],type:"task"},{id:"data/whale",name:"whale",full_name:"whale",tags:["large","huge"],layer:"Model Output",pipelines:["__default__","ds"],type:"data"},{id:"data/dog",name:"dog",full_name:"dog",tags:["small","medium"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{id:"data/cat",name:"cat",full_name:"cat",tags:["small","medium","large"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{id:"data/parameters_rabbit",name:"parameters_rabbit",full_name:"parameters_rabbit",tags:["small"],layer:"Intermediate",pipelines:["__default__","de"],type:"parameters"},{id:"data/parameters",name:"parameters",full_name:"parameters",tags:[],layer:"Intermediate",pipelines:["__default__","de"],type:"parameters"},{id:"data/sheep",name:"sheep",full_name:"sheep",tags:["medium"],layer:"Primary",pipelines:["__default__","de"],type:"data"},{id:"data/horse",name:"horse",full_name:"horse",tags:["large"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{id:"data/weasel",name:"weasel",full_name:"weasel",tags:["small"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{id:"data/elephant",name:"elephant",full_name:"elephant",tags:["large"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{id:"data/bear",name:"bear",full_name:"bear",tags:["large"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{id:"data/giraffe",name:"giraffe",full_name:"giraffe",tags:["large"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{id:"data/pig",name:"pig",full_name:"pig",tags:["medium"],layer:"Feature",pipelines:["__default__","ds"],type:"data"}],edges:[{target:"task/salmon",source:"data/cat"},{target:"task/salmon",source:"data/dog"},{target:"task/salmon",source:"data/parameters"},{target:"task/salmon",source:"data/parameters_rabbit"},{target:"data/pig",source:"task/salmon"},{target:"data/horse",source:"task/salmon"},{target:"data/sheep",source:"task/salmon"},{target:"task/shark",source:"data/cat"},{target:"task/shark",source:"data/weasel"},{target:"task/shark",source:"data/elephant"},{target:"task/shark",source:"data/bear"},{target:"data/sheep",source:"task/shark"},{target:"data/pig",source:"task/shark"},{target:"data/giraffe",source:"task/shark"},{target:"task/trout",source:"data/pig"},{target:"data/whale",source:"task/trout"}]},Zn={schema_id:"12345678901234567890",selected_pipeline:"__default__",pipelines:[{id:"__default__",name:"Default"},{id:"de",name:"Data engineering"},{id:"ds",name:"Data science"}],layers:["Raw","Intermediate","Primary","Feature","Model Input","Models","Model Output","Reporting"],edges:[{source:"33920f3a",target:"06c33e94"},{source:"06c33e94",target:"105160a0"},{source:"814ef273",target:"0b7e1ac6"},{source:"0b7e1ac6",target:"389b5286"},{source:"58450007",target:"22ea294c"},{source:"22ea294c",target:"bcb40508"},{source:"105160a0",target:"f1a163c4"},{source:"f1a163c4",target:"e44a096d"},{source:"389b5286",target:"b2f97396"},{source:"b2f97396",target:"8c1dcc36"},{source:"bcb40508",target:"27bb9dc7"},{source:"27bb9dc7",target:"13a964bf"},{source:"842a3580",target:"fb5bd01d"},{source:"e44a096d",target:"fb5bd01d"},{source:"8c1dcc36",target:"fb5bd01d"},{source:"13a964bf",target:"fb5bd01d"},{source:"fb5bd01d",target:"55bd1af4"},{source:"842a3580",target:"d52422da"},{source:"e44a096d",target:"d52422da"},{source:"8c1dcc36",target:"d52422da"},{source:"13a964bf",target:"d52422da"},{source:"d52422da",target:"442c2c34"},{source:"181c2b7c",target:"dcbb9652"},{source:"057ade39",target:"dcbb9652"},{source:"dcbb9652",target:"7eb64be0"},{source:"181c2b7c",target:"c4cff5d0"},{source:"42e79d42",target:"c4cff5d0"},{source:"c4cff5d0",target:"842a3580"},{source:"7eb64be0",target:"95cfc42d"},{source:"1b3afcba",target:"95cfc42d"},{source:"55bd1af4",target:"95cfc42d"},{source:"95cfc42d",target:"8770a38e"},{source:"95cfc42d",target:"1dafa5fb"},{source:"442c2c34",target:"ccbee9c5"},{source:"3a60b3a4",target:"ccbee9c5"},{source:"ccbee9c5",target:"fb4f64bd"},{source:"ccbee9c5",target:"f4f3a276"},{source:"1dafa5fb",target:"394244dd"},{source:"55bd1af4",target:"394244dd"},{source:"394244dd",target:"792a14f6"},{source:"f4f3a276",target:"67257e84"},{source:"442c2c34",target:"67257e84"},{source:"67257e84",target:"9bd2dc3d"},{source:"1dafa5fb",target:"f6f50e64"},{source:"dff067eb",target:"f6f50e64"},{source:"55bd1af4",target:"f6f50e64"},{source:"f6f50e64",target:"92f58611"},{source:"dff067eb",target:"e061482b"},{source:"f4f3a276",target:"e061482b"},{source:"442c2c34",target:"e061482b"},{source:"e061482b",target:"b2a3a8e5"},{source:"792a14f6",target:"53b05b01"},{source:"8770a38e",target:"53b05b01"},{source:"fb4f64bd",target:"6d8d326d"},{source:"9bd2dc3d",target:"6d8d326d"},{source:"dff067eb",target:"45bda5fd"},{source:"9aeb6881",target:"45bda5fd"},{source:"92f58611",target:"45bda5fd"},{source:"45bda5fd",target:"90713d4f"},{source:"dff067eb",target:"211c92c3"},{source:"92f58611",target:"211c92c3"},{source:"211c92c3",target:"4704ff18"},{source:"dff067eb",target:"c17b9614"},{source:"4704ff18",target:"c17b9614"},{source:"c17b9614",target:"ccd3d45b"},{source:"90713d4f",target:"90461ea7"},{source:"ccd3d45b",target:"90461ea7"},{source:"9bd2dc3d",target:"90461ea7"},{source:"792a14f6",target:"90461ea7"},{source:"4704ff18",target:"90461ea7"},{source:"90461ea7",target:"3e3b263a"},{source:"90461ea7",target:"f3e15708"},{source:"90461ea7",target:"83ebce11"},{source:"90461ea7",target:"a72d7024"},{source:"90461ea7",target:"8dbed427"}],nodes:[{full_name:"load_raw_interaction_data",id:"06c33e94",name:"Load Raw Interaction Data",tags:["data_engineering","preprocessing"],layer:"Raw",pipelines:["__default__","ds"],type:"task"},{full_name:"load_raw_country_data",id:"0b7e1ac6",name:"Load Raw Country Data",tags:["data_engineering","preprocessing"],layer:"Raw",pipelines:["__default__","ds"],type:"task"},{full_name:"load_raw_shopper_spend_data",id:"22ea294c",name:"Load Raw Shopper Spend Data",tags:["data_engineering","preprocessing"],layer:"Raw",pipelines:["__default__","ds"],type:"task"},{full_name:"preprocess_intermediate_interaction_data",id:"f1a163c4",name:"Preprocess Intermediate Interaction Data",tags:["data_engineering","preprocessing"],layer:"Intermediate",pipelines:["__default__","ds"],type:"task"},{full_name:"preprocess_intermediate_country_data",id:"b2f97396",name:"Preprocess Intermediate Country Data",tags:["data_engineering","preprocessing"],layer:"Intermediate",pipelines:["__default__","ds"],type:"task"},{full_name:"preprocess_intermediate_shopper_spend_data",id:"27bb9dc7",name:"Preprocess Intermediate Shopper Spend Data",tags:["data_engineering","preprocessing"],layer:"Intermediate",pipelines:["__default__","ds"],type:"task"},{full_name:"create_shopper_spend_features",id:"fb5bd01d",name:"Create Shopper Spend Features",tags:["feature_engineering","data_engineering"],layer:"Feature",pipelines:["__default__","ds"],type:"task"},{full_name:"create_shopper_churn_features",id:"d52422da",name:"Create Shopper Churn Features",tags:["feature_engineering","data_engineering"],layer:"Feature",pipelines:["__default__","ds"],type:"task"},{full_name:"prepare_vendor_input",id:"dcbb9652",name:"Prepare Vendor Input",tags:["feature_engineering","data_engineering"],layer:"Intermediate",pipelines:["__default__","ds"],type:"task"},{full_name:"prepare_crm_input",id:"c4cff5d0",name:"Prepare CRM Input",tags:["feature_engineering","data_engineering"],layer:"Intermediate",pipelines:["__default__","ds"],type:"task"},{full_name:"predictive_sales_model",id:"95cfc42d",name:"Predictive Sales Model",tags:["model_training","data_science"],layer:"Model Input",pipelines:["__default__","ds"],type:"task"},{full_name:"predictive_engagement_model",id:"ccbee9c5",name:"Predictive Engagement Model",tags:["model_training","data_science"],layer:"Model Input",pipelines:["__default__","ds"],type:"task"},{full_name:"sales_model_explainable_ai",id:"394244dd",name:"Sales Model Explainable AI",tags:["model_explanation","data_science"],layer:"Model Input",pipelines:["__default__","ds"],type:"task"},{full_name:"engagement_model_explainable_ai",id:"67257e84",name:"Engagement Model Explainable AI",tags:["model_explanation","data_science"],layer:"Models",pipelines:["__default__","ds"],type:"task"},{full_name:"perform_digital_analysis",id:"f6f50e64",name:"Perform Digital Analysis",tags:["model_training","data_science"],layer:"Model Input",pipelines:["__default__","ds"],type:"task"},{full_name:"engagement_recommendation_engine",id:"e061482b",name:"Engagement Recommendation Engine",tags:["model_training","data_science"],layer:"Models",pipelines:["__default__","ds"],type:"task"},{full_name:"sales_model_performance_monitoring",id:"53b05b01",name:"Sales Model Performance Monitoring",tags:["model_performance_monitoring","data_science"],layer:"Reporting",pipelines:["__default__","ds"],type:"task"},{full_name:"engagement_model_performance_monitoring",id:"6d8d326d",name:"Engagement Model Performance Monitoring",tags:["model_performance_monitoring","data_science"],layer:"Reporting",pipelines:["__default__","ds"],type:"task"},{full_name:"multi-channel_optimisation",id:"45bda5fd",name:"Multi-Channel Optimisation",tags:["optimisation","data_science"],layer:"Models",pipelines:["__default__","ds"],type:"task"},{full_name:"content_optimisation",id:"211c92c3",name:"Content Optimisation",tags:["optimisation","data_science"],layer:"Models",pipelines:["__default__","ds"],type:"task"},{full_name:"segment_journeys",id:"c17b9614",name:"Segment Journeys",tags:["optimisation","data_science"],layer:"Model Output",pipelines:["__default__","ds"],type:"task"},{full_name:"generate_dashboard_inputs",id:"90461ea7",name:"Generate Dashboard Inputs",tags:["reporting","data_science"],layer:"Reporting",pipelines:["__default__","ds"],type:"task"},{full_name:"interaction_raw",id:"33920f3a",name:"Interaction Raw",tags:["data_engineering","preprocessing"],layer:"Raw",pipelines:["__default__","ds"],type:"data"},{full_name:"interaction_intermediate",id:"105160a0",name:"Interaction Intermediate",tags:["data_engineering","preprocessing"],layer:"Intermediate",pipelines:["__default__","ds"],type:"data"},{full_name:"country_raw",id:"814ef273",name:"Country Raw",tags:["data_engineering","preprocessing"],layer:"Raw",pipelines:["__default__","ds"],type:"data"},{full_name:"country_intermediate",id:"389b5286",name:"Country Intermediate",tags:["data_engineering","preprocessing"],layer:"Intermediate",pipelines:["__default__","ds"],type:"data"},{full_name:"shopper_spend_raw",id:"58450007",name:"Shopper Spend Raw",tags:["data_engineering","preprocessing"],layer:"Raw",pipelines:["__default__","ds"],type:"data"},{full_name:"shopper_spend_intermediate",id:"bcb40508",name:"Shopper Spend Intermediate",tags:["data_engineering","preprocessing"],layer:"Intermediate",pipelines:["__default__","ds"],type:"data"},{full_name:"interaction_primary",id:"e44a096d",name:"Interaction Primary",tags:["feature_engineering","data_engineering","preprocessing"],layer:"Primary",pipelines:["__default__","ds"],type:"data"},{full_name:"country_primary",id:"8c1dcc36",name:"Country Primary",tags:["feature_engineering","data_engineering","preprocessing"],layer:"Primary",pipelines:["__default__","ds"],type:"data"},{full_name:"shopper_spend_primary",id:"13a964bf",name:"Shopper Spend Primary",tags:["feature_engineering","data_engineering","preprocessing"],layer:"Primary",pipelines:["__default__","ds"],type:"data"},{full_name:"crm_predictions",id:"842a3580",name:"CRM Predictions",tags:["feature_engineering","data_engineering"],layer:"Primary",pipelines:["__default__","ds"],type:"data"},{full_name:"shopper_spend_features",id:"55bd1af4",name:"Shopper Spend Features",tags:["data_science","model_training","model_explanation","feature_engineering","data_engineering"],layer:"Feature",pipelines:["__default__","de"],type:"data"},{full_name:"shopper_churn_features",id:"442c2c34",name:"Shopper Churn Features",tags:["data_science","model_training","model_explanation","feature_engineering","data_engineering"],layer:"Feature",pipelines:["__default__","de"],type:"data"},{full_name:"vendor_main",id:"181c2b7c",name:"Vendor Main",tags:["feature_engineering","data_engineering"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{full_name:"salesforce_crm",id:"057ade39",name:"Salesforce CRM",tags:["feature_engineering","data_engineering"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{full_name:"vendor_predictions",id:"7eb64be0",name:"Vendor Predictions",tags:["feature_engineering","data_engineering","data_science","model_training"],layer:"Primary",pipelines:["__default__","de"],type:"data"},{full_name:"salesforce_accounts",id:"42e79d42",name:"Salesforce Accounts",tags:["feature_engineering","data_engineering"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{full_name:"params:_sales_model",id:"1b3afcba",name:"params: Sales Model",tags:["data_science","model_training"],layer:"Model Input",pipelines:["__default__","de"],type:"parameters"},{full_name:"sales_validation_results",id:"8770a38e",name:"Sales Validation Results",tags:["model_performance_monitoring","data_science","model_training"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"sales_trained_model",id:"1dafa5fb",name:"Sales Trained Model",tags:["model_explanation","data_science","model_training"],layer:"Model Input",pipelines:["__default__","de"],type:"data"},{full_name:"params:_engagement_model",id:"3a60b3a4",name:"params: Engagement Model",tags:["data_science","model_training"],layer:"Model Input",pipelines:["__default__","de"],type:"parameters"},{full_name:"engagement_validation_results",id:"fb4f64bd",name:"Engagement Validation Results",tags:["model_performance_monitoring","data_science","model_training"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"engagement_trained_model",id:"f4f3a276",name:"Engagement Trained Model",tags:["model_explanation","data_science","model_training"],layer:"Models",pipelines:["__default__","de"],type:"data"},{full_name:"sales_model_explanations",id:"792a14f6",name:"Sales Model Explanations",tags:["model_explanation","data_science","model_performance_monitoring","reporting"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"engagement_model_explanations",id:"9bd2dc3d",name:"Engagement Model Explanations",tags:["model_explanation","data_science","model_performance_monitoring","reporting"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"params:_optimisation",id:"dff067eb",name:"params: Optimisation",tags:["data_science","model_training","optimisation"],layer:"Model Input",pipelines:["__default__","de"],type:"parameters"},{full_name:"digital_analysis",id:"92f58611",name:"Digital Analysis",tags:["data_science","model_training","optimisation"],layer:"Model Input",pipelines:["__default__","de"],type:"data"},{full_name:"engagement_recommendations",id:"b2a3a8e5",name:"Engagement Recommendations",tags:["data_science","model_training"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"action_cost_table",id:"9aeb6881",name:"Action Cost Table",tags:["data_science","optimisation"],layer:"Raw",pipelines:["__default__","de"],type:"data"},{full_name:"multi-channel_resolutions",id:"90713d4f",name:"Multi-Channel Resolutions",tags:["reporting","data_science","optimisation"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"content_resolutions",id:"4704ff18",name:"Content Resolutions",tags:["reporting","data_science","optimisation"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"segment_journeys_allocations",id:"ccd3d45b",name:"Segment Journeys Allocations",tags:["reporting","data_science","optimisation"],layer:"Model Output",pipelines:["__default__","de"],type:"data"},{full_name:"upselling_readiness_dashboard_input",id:"3e3b263a",name:"Upselling Readiness Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",pipelines:["__default__","de"],type:"data"},{full_name:"lead_scoring_dashboard_input",id:"f3e15708",name:"Lead Scoring Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",pipelines:["__default__","de"],type:"data"},{full_name:"lifetime_value_prediction_dashboard_input",id:"83ebce11",name:"Lifetime Value Prediction Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",pipelines:["__default__","de"],type:"data"},{full_name:"digital_sales_dashboard_input",id:"a72d7024",name:"Digital Sales Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",pipelines:["__default__","de"],type:"data"},{full_name:"vendor_sales_dashboard_input",id:"8dbed427",name:"Vendor Sales Dashboard Input",tags:["reporting","data_science"],layer:"Reporting",pipelines:["__default__","de"],type:"data"}],tags:[{id:"model_performance_monitoring",name:"Model Performance Monitoring"},{id:"data_science",name:"Data Science"},{id:"reporting",name:"Reporting"},{id:"model_training",name:"Model Training"},{id:"preprocessing",name:"Preprocessing"},{id:"optimisation",name:"Optimisation"},{id:"model_explanation",name:"Model Explanation"},{id:"feature_engineering",name:"Feature Engineering"},{id:"data_engineering",name:"Data Engineering"}]};var Kn=()=>(e=>{switch(e){case"animals":return Xn;case"demo":return Zn;case"random":return Yn();case"json":return e;default:throw new Error("Unexpected data source value '".concat(e,"'. Your input should be one of the following values: 'animals', 'demo', 'json', or 'random'"))}})((()=>{const e=document.location.search.match(/data=(\w+)/),t=Object({NODE_ENV:"production",PUBLIC_URL:".",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0}).REACT_APP_DATA_SOURCE,n="quantumblacklabs.github.io"===document.location.host;return e?encodeURIComponent(e[1]):t||(n?"demo":"json")})()),$n=n(496);var Jn=e=>Object($n.a)(e||"./api/main").catch(()=>{throw new Error("Unable to load pipeline data from ".concat(e||"./api/main",". If you're running Kedro-Viz as a standalone (e.g. for JavaScript development), please check that you have placed a data file at ").concat(e||xe,"."))});n(487);const Qn=()=>{const e=Object(o.useState)(Kn()),t=Object(r.a)(e,2),n=t[0],i=t[1];return Object(o.useEffect)(()=>{"json"===n&&Jn().then(i)},[n]),a.a.createElement(a.a.Fragment,null,a.a.createElement(Nn,{data:n}),a.a.createElement(In,null))};s.a.render(a.a.createElement(Qn,null),document.getElementById("root"))},489:function(e,t,n){"use strict";n.r(t),n.d(t,"graphNew",(function(){return z})),n.d(t,"graphDagre",(function(){return D}));var r=n(2),o=n(120),a=n.n(o);const i=.5*Math.PI,s=(e,t)=>Math.round(e/t)*t,c=(e,t)=>Math.abs(e-t),u=(e,t)=>Math.atan2(e.y-t.y,e.x-t.x),l=e=>e.x-.5*e.width,d=e=>e.x+.5*e.width,f=e=>e.y-.5*e.height,p=e=>e.y+.5*e.height,h=e=>{const t={};var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){const e=a.value;t[e.y]=t[e.y]||[],t[e.y].push(e)}}catch(h){r=!0,o=h}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}const s=Object.keys(t).map(e=>parseFloat(e));s.sort((e,t)=>e-t);const c=s.map(e=>t[e]);for(let v=0;v<c.length;v+=1){c[v].sort((e,t)=>g(e.x,t.x,e.id,t.id));var u=!0,l=!1,d=void 0;try{for(var f,p=c[v][Symbol.iterator]();!(u=(f=p.next()).done);u=!0){f.value.row=v}}catch(h){l=!0,d=h}finally{try{u||null==p.return||p.return()}finally{if(l)throw d}}}return c},g=(e,t,...n)=>{const r="string"===typeof e?e.localeCompare(t):e-t;return 0!==r||0===n.length?r:g(...n)},v=(e,t,n,r,o,a)=>{const i=o-n,s=a-r,c=(d=1,(u=((e-n)*i+(t-r)*s)/(i*i+s*s||1))<(l=0)?l:u>d?d:u);var u,l,d;return{x:n+i*c,y:r+s*c,ax:n,ay:r,bx:o,by:a}};var m=n(22);const y=(e,t)=>{if("undefined"===typeof e.id)throw new Error("Object is missing property 'id' required for key.");return e.id+"_"+t},_=(e,t)=>e-t,b=(e,t)=>e===t,w=(e,t)=>e>=t,x=(e,t=1,n=!1)=>n?k(e):E(e,t),E=(e,t)=>{for(let u=0;u<t;u+=1){var n=!0,r=!1,o=void 0;try{for(var a,i=e[Symbol.iterator]();!(n=(a=i.next()).done);n=!0){const e=a.value,t=(e.delta||_)(e.a[e.key],e.b[e.key],e),n=(e.distance||c)(e.a[e.key],e.b[e.key],e),r=e.target(e.a[e.key],e.b[e.key],e,t,n);if(!(e.operator||b)(n,r,t)){const n=(e.strength?e.strength(e):1)*(t-r);let o=e.weightA?e.weightA(e):1,a=e.weightB?e.weightB(e):1;o/=o+a,a=1-o,e.a[e.key]-=o*n,e.b[e.key]+=a*n}}}catch(s){r=!0,o=s}finally{try{n||null==i.return||i.return()}finally{if(r)throw o}}}},k=e=>{const t=new m.c,n={};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value;n[y(e.a,e.key)]=new m.e,n[y(e.b,e.key)]=new m.e}}catch(E){o=!0,a=E}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}var c,u=!0,l=!1,d=void 0;try{for(var f,p=e[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){const e=f.value,r=n[y(e.a,e.key)].minus(n[y(e.b,e.key)]);e.constraint=new m.a(r,(c=e.operator||b)===b?m.b.Eq:c===w?m.b.Ge:void 0,e.target(),!0===e.required?m.d.required:m.d.strong),t.addConstraint(e.constraint)}}catch(E){l=!0,d=E}finally{try{u||null==p.return||p.return()}finally{if(l)throw d}}t.updateVariables();var h=!0,g=!1,v=void 0;try{for(var _,x=e[Symbol.iterator]();!(h=(_=x.next()).done);h=!0){const e=_.value;e.a[e.key]=n[y(e.a,e.key)].value(),e.b[e.key]=n[y(e.b,e.key)].value()}}catch(E){g=!0,v=E}finally{try{h||null==x.return||x.return()}finally{if(g)throw v}}},N=(e,t,n)=>{const r=j(e);let o=0;for(let f=0;f<r.length;f+=1){const e=r[f];o+=s(e*n,Math.round(.25*n));var a=!0,i=!1,c=void 0;try{for(var u,l=t[f+1][Symbol.iterator]();!(a=(u=l.next()).done);a=!0){u.value.y+=o}}catch(d){i=!0,c=d}finally{try{a||null==l.return||l.return()}finally{if(i)throw c}}}},j=e=>{const t={};var n=!0,r=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done);n=!0){const e=a.value,n=Math.abs(u(e.targetNode,e.sourceNode)-i)/i,r=e.sourceNode.row,o=e.targetNode.row-1;t[r]=t[r]||[0,0],t[r][0]+=n,t[r][1]+=1,o!==r&&(t[o]=t[o]||[0,0],t[o][0]+=n,t[o][1]+=1)}}catch(c){r=!0,o=c}finally{try{n||null==s.return||s.return()}finally{if(r)throw o}}for(const i in t)t[i]=t[i][0]/(t[i][1]||1);return Object.values(t)},O={layout:{spaceX:16,spaceY:110,layerSpaceY:55,basisX:1500,padding:100,iterations:20},routing:{spaceX:26,spaceY:28,minPassageGap:40,stemUnit:8,stemMinSource:5,stemMinTarget:5,stemMax:20,stemSpaceSource:6,stemSpaceTarget:10}},S=(e,t,n,o=O)=>{M(e,t),T(e,n),(({nodes:e,edges:t,layers:n,basisX:o,spaceX:a,spaceY:i,layerSpaceY:c,iterations:u})=>{const l=[],d=[],f=[],p=[],v=[],m=[],y=[];var _=!0,E=!1,k=void 0;try{for(var j,O=e[Symbol.iterator]();!(_=(j=O.next()).done);_=!0){const e=j.value;e.x=0,e.y=0}}catch(Y){E=!0,k=Y}finally{try{_||null==O.return||O.return()}finally{if(E)throw k}}const S=t.map(e=>({a:e.targetNode,b:e.sourceNode,key:"y",operator:w,target:()=>i,weightA:()=>0,weightB:()=>1,required:!0}));if(n){const t=Object.values(n),r=.5*(i+c);let o=e.filter(e=>e.nearestLayer===t[0]);for(let n=0;n<t.length-1;n+=1){const a=t[n],i=t[n+1],s=e.filter(e=>e.nearestLayer===i),c={id:a,x:0,y:0};var M=!0,T=!1,L=void 0;try{for(var A,I=o[Symbol.iterator]();!(M=(A=I.next()).done);M=!0){const e=A.value;l.push({a:c,b:e,key:"y",operator:w,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch(Y){T=!0,L=Y}finally{try{M||null==I.return||I.return()}finally{if(T)throw L}}var R=!0,C=!1,P=void 0;try{for(var z,D=s[Symbol.iterator]();!(R=(z=D.next()).done);R=!0){const e=z.value;l.push({a:e,b:c,key:"y",operator:w,target:()=>r,weightA:()=>0,weightB:()=>1})}}catch(Y){C=!0,P=Y}finally{try{R||null==D.return||D.return()}finally{if(C)throw P}}o=s}}x([...S,...l],1,!0);const B=h(e),G={basisX:o,key:"x",operator:(e,t,n)=>t>=0?n>=t:n<=t,target:(e,t,n)=>n.edgeA.sourceNode.x-n.edgeB.sourceNode.x+(n.edgeA.targetNode.x-n.edgeB.targetNode.x)<0?-n.basisX:n.basisX,strength:e=>1/e.basisX,weightA:()=>.5,weightB:()=>.5};for(let s=0;s<t.length;s+=1){const e=t[s];for(let n=s+1;n<t.length;n+=1){const o=t[n];e.source!==o.source&&d.push(Object(r.a)(Object(r.a)({},G),{},{a:e.sourceNode,b:o.sourceNode,edgeA:e,edgeB:o})),e.target!==o.target&&d.push(Object(r.a)(Object(r.a)({},G),{},{a:e.targetNode,b:o.targetNode,edgeA:e,edgeB:o}))}}var F=!0,U=!1,V=void 0;try{for(var q,W=t[Symbol.iterator]();!(F=(q=W.next()).done);F=!0){const e=q.value,t={a:e.sourceNode,b:e.targetNode,key:"x",operator:b,target:()=>0,strength:e=>1/Math.max(1,.5*(e.a.targets.length+e.b.sources.length)),weightA:()=>.5,weightB:()=>.5};f.push(t);const n=1===e.sourceNode.targets.length,r=1===e.targetNode.sources.length;(n||r)&&p.push(t),n&&r&&v.push(t)}}catch(Y){U=!0,V=Y}finally{try{F||null==W.return||W.return()}finally{if(U)throw V}}const H=Math.ceil(.5*u);for(let r=0;r<u;r+=1){x(d,1),x(f,1),x(p,H),x(v,H),m.length=0;for(let e=0;e<B.length;e+=1){const t=B[e];t.sort((e,t)=>g(e.x,t.x,e.id,t.id));for(let e=0;e<t.length-1;e+=1)m.push({a:t[e],b:t[e+1],key:"x",operator:(e,t,n)=>n<=t,target:(e,t,n)=>-a-.5*n.a.width-.5*n.b.width,strength:()=>1,weightA:()=>.5,weightB:()=>.5})}x(m,H)}for(let r=0;r<B.length;r+=1){const e=B[r];for(let t=0;t<e.length-1;t+=1){const n=.8*(e[t+1].x-e[t].x),r=.5*e[t].width+a+.5*e[t+1].width,o=Math.max(s(n,a),r);y.push({a:e[t+1],b:e[t],key:"x",operator:w,target:()=>o,weightA:()=>0,weightB:()=>1,required:!0})}}x([...y,...f],1,!0),N(t,B,i)})(Object(r.a)({nodes:e,edges:t,layers:n},o.layout)),(({nodes:e,edges:t,spaceX:n,spaceY:o,minPassageGap:a,stemUnit:i,stemMinSource:s,stemMinTarget:m,stemMax:y,stemSpaceSource:_,stemSpaceTarget:b})=>{const w=h(e);var x=!0,E=!1,k=void 0;try{for(var N,j=e[Symbol.iterator]();!(x=(N=j.next()).done);x=!0){N.value.targets.sort((e,t)=>g(u(t.sourceNode,t.targetNode),u(e.sourceNode,e.targetNode)))}}catch(q){E=!0,k=q}finally{try{x||null==j.return||j.return()}finally{if(E)throw k}}var O=!0,S=!1,M=void 0;try{for(var T,L=t[Symbol.iterator]();!(O=(T=L.next()).done);O=!0){const e=T.value,t=e.sourceNode,i=e.targetNode;e.points=[];const s=Math.min((t.width-_)/t.targets.length,_),u=s*(t.targets.indexOf(e)-.5*(t.targets.length-1));let p={x:t.x+u,y:t.y};for(let h=t.row+1;h<i.row;h+=1){const t=w[h][0];let i={x:l(t)-n,y:t.y},s=1/0;const g=[Object(r.a)(Object(r.a)({},t),{},{x:Number.MIN_SAFE_INTEGER}),...w[h],Object(r.a)(Object(r.a)({},t),{},{x:Number.MAX_SAFE_INTEGER})];for(let e=0;e<g.length-1;e+=1){const t=g[e],r=g[e+1],u=l(r)-d(t);if(u<a)continue;const h=Math.min(n,.5*u),m=v(p.x,p.y,d(t)+h,f(t)-o,l(r)-h,f(r)-o),y=c(p.x,m.x);if(y>s)break;y<s&&(s=y,i=m)}const m=t.height+o;e.points.push({x:i.x+u,y:i.y}),e.points.push({x:i.x+u,y:i.y+m}),p={x:i.x,y:i.y+m}}}}catch(q){S=!0,M=q}finally{try{O||null==L.return||L.return()}finally{if(S)throw M}}var A=!0,I=!1,R=void 0;try{for(var C,P=e[Symbol.iterator]();!(A=(C=P.next()).done);A=!0){const e=C.value;e.targets.sort((e,t)=>g(u(t.sourceNode,t.points[0]||t.targetNode),u(e.sourceNode,e.points[0]||e.targetNode))),e.sources.sort((e,t)=>g(u(e.points[e.points.length-1]||e.sourceNode,e.targetNode),u(t.points[t.points.length-1]||t.sourceNode,t.targetNode)))}}catch(q){I=!0,R=q}finally{try{A||null==P.return||P.return()}finally{if(I)throw R}}var z=!0,D=!1,B=void 0;try{for(var G,F=t[Symbol.iterator]();!(z=(G=F.next()).done);z=!0){const e=G.value,t=e.sourceNode,n=e.targetNode,r=Math.min((t.width-_)/t.targets.length,_),o=Math.min((n.width-b)/n.sources.length,b),a=t.targets.indexOf(e)-.5*(t.targets.length-1),c=n.sources.indexOf(e)-.5*(n.sources.length-1),u=r*a,l=o*c,d=i*t.targets.length*(1-Math.abs(a)/t.targets.length),h=i*n.sources.length*(1-Math.abs(c)/n.sources.length),g=[{x:t.x+u,y:p(t)},{x:t.x+u,y:p(t)+s},{x:t.x+u,y:p(t)+s+Math.min(d,y)}],v=[{x:n.x+l,y:f(n)-m-Math.min(h,y)},{x:n.x+l,y:f(n)-m},{x:n.x+l,y:f(n)}],w=[...g,...e.points,...v];let x=w[0].y;for(var U=0,V=w;U<V.length;U++){const e=V[U];e.y<x?e.y=x:x=e.y}e.points=w}}catch(q){D=!0,B=q}finally{try{z||null==F.return||F.return()}finally{if(D)throw B}}})(Object(r.a)({nodes:e,edges:t,layers:n},o.routing));const a=P(e,o.layout.padding);return e.forEach(e=>((e,t)=>(e.x=e.x-t.x,e.y=e.y-t.y,e.order=e.x+9999*e.y,e))(e,a.min)),t.forEach(e=>((e,t)=>(e.points.forEach(e=>{e.x=e.x-t.x,e.y=e.y-t.y}),e))(e,a.min)),{nodes:e,edges:t,layers:n,size:a}},M=(e,t)=>{const n={};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value;n[e.id]=e,e.targets=[],e.sources=[]}}catch(p){o=!0,a=p}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}var c=!0,u=!1,l=void 0;try{for(var d,f=t[Symbol.iterator]();!(c=(d=f.next()).done);c=!0){const e=d.value;e.sourceNode=n[e.source],e.targetNode=n[e.target],e.sourceNode.targets.push(e),e.targetNode.sources.push(e)}}catch(p){u=!0,l=p}finally{try{c||null==f.return||f.return()}finally{if(u)throw l}}},T=(e,t)=>{if(t&&t.length>0){const u=t.reduce((e,t)=>Object(r.a)(Object(r.a)({},e),{},{[t]:!0}),{}),l=e=>Boolean(u[e.layer]);var n=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(n=(i=s.next()).done);n=!0){const e=i.value,t=C(e,L,R,l);e.nearestLayer=t&&t.layer}}catch(c){o=!0,a=c}finally{try{n||null==s.return||s.return()}finally{if(o)throw a}}}},L=e=>A(e).concat(I(e)),A=e=>e.targets.map(e=>e.targetNode),I=e=>e.sources.map(e=>e.sourceNode),R=(e,t)=>Math.abs(e.rank-t.rank),C=(e,t,n,r,o)=>{if(r(e))return e;(o=o||{})[e.id]=!0;const a=t(e).filter(e=>!o[e.id]).sort((t,r)=>n(e,t)-n(e,r));return a.filter(r)[0]||a.map(e=>C(e,t,n,r,o))[0]},P=(e,t)=>{const n={min:{x:1/0,y:1/0},max:{x:-1/0,y:-1/0}};var r=!0,o=!1,a=void 0;try{for(var i,s=e[Symbol.iterator]();!(r=(i=s.next()).done);r=!0){const e=i.value,t=e.x,r=e.y;t<n.min.x&&(n.min.x=t),t>n.max.x&&(n.max.x=t),r<n.min.y&&(n.min.y=r),r>n.max.y&&(n.max.y=r)}}catch(c){o=!0,a=c}finally{try{r||null==s.return||s.return()}finally{if(o)throw a}}return n.width=n.max.x-n.min.x+2*t,n.height=n.max.y-n.min.y+2*t,n.min.x-=t,n.min.y-=t,n},z=({nodes:e,edges:t,layers:n})=>{const o=S(e,t,n);return Object(r.a)(Object(r.a)({},o),{},{size:Object(r.a)(Object(r.a)({},o.size),{},{marginx:100,marginy:100}),newgraph:!0})},D=({nodes:e,edges:t,layers:n})=>{const o=Boolean(n.length),i=(new a.a.graphlib.Graph).setGraph({ranker:o?"none":null,ranksep:o?200:70,marginx:40,marginy:40});return e.forEach(e=>{i.setNode(e.id,e)}),t.forEach(e=>{i.setEdge(e.source,e.target,e)}),a.a.layout(i),{nodes:i.nodes().map(e=>{const t=i.node(e);return Object(r.a)(Object(r.a)({},t),{},{order:t.x+9999*t.y})}),edges:i.edges().map(e=>i.edge(e)),size:i.graph(),newgraph:!1}}}},[[214,1,2]]]);
//# sourceMappingURL=main.29a272f5.chunk.js.map